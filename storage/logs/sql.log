/r/n2022/05/18 21:56:23 E:/summerByteDance/DouYin_demo/bootstrap/db.go:99
[error] failed to initialize database, got error dial tcp 127.0.0.1:8306: connectex: No connection could be made because the target machine actively refused it.

2022/05/18 22:02:47 E:/summerByteDance/DouYin_demo/bootstrap/db.go:99
[error] failed to initialize database, got error dial tcp 127.0.0.1:8306: connectex: No connection could be made because the target machine actively refused it.

2022/05/18 22:03:31 E:/summerByteDance/DouYin_demo/bootstrap/db.go:99
[error] failed to initialize database, got error Error 1045: Access denied for user 'root'@'localhost' (using password: YES)

2022/05/18 22:09:55 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[1.218ms] [rows:-] SELECT DATABASE()

2022/05/18 22:09:55 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[2.869ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/18 22:09:55 E:/summerByteDance/DouYin_demo/bootstrap/db.go:116
[0.505ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/18 22:09:55 E:/summerByteDance/DouYin_demo/bootstrap/db.go:116
[56.392ms] [rows:0] CREATE TABLE `users` (`id` bigint unsigned AUTO_INCREMENT,`name` varchar(191) NOT NULL COMMENT '用户名称',`mobile` varchar(191) NOT NULL COMMENT '用户手机号',`password` varchar(191) NOT NULL DEFAULT '' COMMENT '用户密码',`created_at` datetime NULL,`updated_at` datetime NULL,`deleted_at` datetime NULL,PRIMARY KEY (`id`),INDEX idx_users_deleted_at (`deleted_at`),INDEX idx_users_mobile (`mobile`))

2022/05/18 23:25:01 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.503ms] [rows:-] SELECT DATABASE()

2022/05/18 23:25:01 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[8.794ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/18 23:25:01 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.854ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/18 23:25:01 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/18 23:25:01 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.504ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/18 23:25:01 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[6.490ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/18 23:25:01 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[30.943ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/18 23:25:01 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/18 23:25:01 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.947ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/18 23:25:01 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/18 23:26:54 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.503ms] [rows:-] SELECT DATABASE()

2022/05/18 23:26:54 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.222ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/18 23:26:54 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.505ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/18 23:26:54 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[80.185ms] [rows:0] CREATE TABLE `users` (`id` bigint unsigned AUTO_INCREMENT,`name` varchar(191) NOT NULL COMMENT '用户名称',`password` varchar(191) NOT NULL DEFAULT '' COMMENT '用户密码',`created_at` datetime NULL,`updated_at` datetime NULL,`deleted_at` datetime NULL,PRIMARY KEY (`id`),INDEX idx_users_deleted_at (`deleted_at`))

2022/05/19 01:25:29 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/19 01:25:29 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.598ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/19 01:25:29 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/19 01:25:29 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/19 01:25:29 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.778ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/19 01:25:29 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/19 01:25:29 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[16.130ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/19 01:25:29 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/19 01:25:29 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.505ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/19 01:25:29 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/19 01:27:04 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/19 01:27:04 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.504ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/19 01:27:04 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.365ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/19 01:27:04 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.505ms] [rows:-] SELECT DATABASE()

2022/05/19 01:27:04 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.680ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/19 01:27:04 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/19 01:27:04 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[16.161ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/19 01:27:04 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/19 01:27:04 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.633ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/19 01:27:04 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.059ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/19 01:28:32 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.505ms] [rows:-] SELECT DATABASE()

2022/05/19 01:28:32 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.776ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/19 01:28:32 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/19 01:28:32 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/19 01:28:32 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.503ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/19 01:28:32 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/19 01:28:32 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[16.996ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/19 01:28:32 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/19 01:28:32 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.068ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/19 01:28:32 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.504ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/19 01:29:08 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/19 01:29:08 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.667ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/19 01:29:08 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.614ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/19 01:29:08 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/19 01:29:08 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.517ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/19 01:29:08 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.171ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/19 01:29:08 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[12.615ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/19 01:29:08 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/19 01:29:08 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.524ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/19 01:29:08 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.511ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/19 01:44:53 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/19 01:44:53 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.504ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/19 01:44:53 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/19 01:44:53 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.504ms] [rows:-] SELECT DATABASE()

2022/05/19 01:44:53 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.604ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/19 01:44:53 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/19 01:44:53 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[17.690ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/19 01:44:53 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/19 01:44:53 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.510ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/19 01:44:53 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.511ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/19 02:49:55 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/19 02:49:55 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[2.145ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/19 02:49:55 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/19 02:49:55 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/19 02:49:55 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.014ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/19 02:49:55 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.503ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/19 02:49:55 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[18.373ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/19 02:49:55 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/19 02:49:55 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.097ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/19 02:49:55 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/19 02:50:46 E:/summerByteDance/DouYin_demo/app/services/user.go:17 record not found
[5.016ms] [rows:0] SELECT `id` FROM `users` WHERE name = '张三' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/19 02:50:46 E:/summerByteDance/DouYin_demo/app/services/user.go:23
[10.868ms] [rows:1] INSERT INTO `users` (`name`,`password`,`created_at`,`updated_at`,`deleted_at`) VALUES ('张三','$2a$04$9Ghg8FRB.VEr5MdXlJbQ8OaLDta8mZUqL53gjZurrr1vQHB1G8qNy','2022-05-19 02:50:46.889','2022-05-19 02:50:46.889',NULL)

2022/05/19 03:04:27 E:/summerByteDance/DouYin_demo/app/services/user.go:17
[50.946ms] [rows:1] SELECT `id` FROM `users` WHERE name = '张三' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/19 03:04:40 E:/summerByteDance/DouYin_demo/app/services/user.go:17 record not found
[1.383ms] [rows:0] SELECT `id` FROM `users` WHERE name = 'lisi' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/19 03:04:40 E:/summerByteDance/DouYin_demo/app/services/user.go:23
[13.428ms] [rows:1] INSERT INTO `users` (`name`,`password`,`created_at`,`updated_at`,`deleted_at`) VALUES ('lisi','$2a$04$S46Sx82.W2OUguWDHa8w9uok8yZma1LsY1lKHus0.Kb0w3AjuuaRW','2022-05-19 03:04:40.893','2022-05-19 03:04:40.893',NULL)

2022/05/19 03:14:07 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.509ms] [rows:-] SELECT DATABASE()

2022/05/19 03:14:07 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[8.484ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/19 03:14:07 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[2.314ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/19 03:14:07 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/19 03:14:07 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.507ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/19 03:14:07 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/19 03:14:07 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[27.066ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/19 03:14:07 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/19 03:14:07 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.930ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/19 03:14:07 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/19 03:16:32 E:/summerByteDance/DouYin_demo/app/services/user.go:17
[1.129ms] [rows:1] SELECT `id` FROM `users` WHERE name = 'lisi' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/19 03:16:37 E:/summerByteDance/DouYin_demo/app/services/user.go:17 record not found
[0.587ms] [rows:0] SELECT `id` FROM `users` WHERE name = 'lisi22' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/19 03:16:37 E:/summerByteDance/DouYin_demo/app/services/user.go:23
[4.119ms] [rows:1] INSERT INTO `users` (`name`,`password`,`created_at`,`updated_at`,`deleted_at`) VALUES ('lisi22','$2a$04$g63Rye1ejMEhD0H73wnE7eQYOqEduFavBsgfTKCS6W/C9YZGNw/Ly','2022-05-19 03:16:37.718','2022-05-19 03:16:37.718',NULL)

2022/05/19 03:17:23 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.446ms] [rows:-] SELECT DATABASE()

2022/05/19 03:17:23 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.596ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/19 03:17:23 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.559ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/19 03:17:23 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/19 03:17:23 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.695ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/19 03:17:23 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.856ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/19 03:17:23 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[15.039ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/19 03:17:23 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/19 03:17:23 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.559ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/19 03:17:23 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.637ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/19 03:24:31 E:/summerByteDance/DouYin_demo/app/services/user.go:17
[2.878ms] [rows:1] SELECT `id` FROM `users` WHERE name = 'lisi22' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/19 03:46:06 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/19 03:46:06 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[2.500ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/19 03:46:06 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/19 03:46:06 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/19 03:46:06 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.518ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/19 03:46:06 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/19 03:46:06 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[16.564ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/19 03:46:06 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/19 03:46:06 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.511ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/19 03:46:06 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/19 04:01:39 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.040ms] [rows:-] SELECT DATABASE()

2022/05/19 04:01:39 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[3.454ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/19 04:01:39 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/19 04:01:39 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.012ms] [rows:-] SELECT DATABASE()

2022/05/19 04:01:39 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.717ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/19 04:01:39 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.506ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/19 04:01:39 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[25.311ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/19 04:01:39 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/19 04:01:39 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.336ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/19 04:01:39 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/19 04:01:52 E:/summerByteDance/DouYin_demo/app/services/user.go:17 record not found
[2.350ms] [rows:0] SELECT `id` FROM `users` WHERE name = 'dsadsa' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/19 04:01:52 E:/summerByteDance/DouYin_demo/app/services/user.go:23
[14.956ms] [rows:1] INSERT INTO `users` (`name`,`password`,`created_at`,`updated_at`,`deleted_at`) VALUES ('dsadsa','$2a$04$uJwPvttdLKenc9l0zFc8puyVd7mUbYQIpAaPkOWTSTktY94kn/E8y','2022-05-19 04:01:52.773','2022-05-19 04:01:52.773',NULL)

2022/05/19 05:10:58 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.722ms] [rows:-] SELECT DATABASE()

2022/05/19 05:10:58 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[3.395ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/19 05:10:58 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.730ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/19 05:10:58 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/19 05:10:58 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.773ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/19 05:10:58 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[1.505ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/19 05:10:58 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[24.444ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/19 05:10:58 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/19 05:10:58 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.144ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/19 05:10:58 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/19 05:11:13 E:/summerByteDance/DouYin_demo/app/services/user.go:18 record not found
[1.476ms] [rows:0] SELECT `id` FROM `users` WHERE name = 'dsadasd' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/19 05:11:13 E:/summerByteDance/DouYin_demo/app/services/user.go:24
[4.052ms] [rows:1] INSERT INTO `users` (`name`,`password`,`created_at`,`updated_at`,`deleted_at`) VALUES ('dsadasd','$2a$04$71WiObk2Gmw4gFkMVpdF9uynx177z4tMBwqiMxlvQi3ewC5KpmFz6','2022-05-19 05:11:13.157','2022-05-19 05:11:13.157',NULL)

2022/05/19 05:11:58 E:/summerByteDance/DouYin_demo/app/services/user.go:18 record not found
[1.433ms] [rows:0] SELECT `id` FROM `users` WHERE name = 'dsadsad' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/19 05:11:58 E:/summerByteDance/DouYin_demo/app/services/user.go:24
[2.031ms] [rows:1] INSERT INTO `users` (`name`,`password`,`created_at`,`updated_at`,`deleted_at`) VALUES ('dsadsad','$2a$04$DDBaLVTd0WkEmW5agjQKYepYuWYqLqNIR7DRaucHSmFoCa4tKTCR6','2022-05-19 05:11:58.439','2022-05-19 05:11:58.439',NULL)

2022/05/19 05:14:37 E:/summerByteDance/DouYin_demo/app/services/user.go:18 record not found
[1.028ms] [rows:0] SELECT `id` FROM `users` WHERE name = 'dsadsassd' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/19 05:14:37 E:/summerByteDance/DouYin_demo/app/services/user.go:24
[3.340ms] [rows:1] INSERT INTO `users` (`name`,`password`,`created_at`,`updated_at`,`deleted_at`) VALUES ('dsadsassd','$2a$04$n67n4Q/Y58kf6IQ6OeHfPuRhkRq0hhK7CsIxiCXzKSrhTRtBVvwFi','2022-05-19 05:14:37.488','2022-05-19 05:14:37.488',NULL)

2022/05/19 05:24:02 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.607ms] [rows:-] SELECT DATABASE()

2022/05/19 05:24:02 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.397ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/19 05:24:02 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.995ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/19 05:24:02 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.010ms] [rows:-] SELECT DATABASE()

2022/05/19 05:24:02 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.513ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/19 05:24:02 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/19 05:24:02 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[20.733ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/19 05:24:02 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/19 05:24:02 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.000ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/19 05:24:02 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/19 05:24:19 E:/summerByteDance/DouYin_demo/app/services/user.go:18 record not found
[1.487ms] [rows:0] SELECT `id` FROM `users` WHERE name = 'asdas' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/19 05:24:19 E:/summerByteDance/DouYin_demo/app/services/user.go:24
[10.809ms] [rows:1] INSERT INTO `users` (`name`,`password`,`created_at`,`updated_at`,`deleted_at`) VALUES ('asdas','$2a$04$49gh7neToXfG/3/IcrM14e6H5LslGXvoIZ9xONnwK5W5lUygEsBNC','2022-05-19 05:24:19.217','2022-05-19 05:24:19.217',NULL)

2022/05/19 05:24:38 E:/summerByteDance/DouYin_demo/app/services/user.go:18 record not found
[1.169ms] [rows:0] SELECT `id` FROM `users` WHERE name = 'sssssssssssssu' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/19 05:24:38 E:/summerByteDance/DouYin_demo/app/services/user.go:24
[3.071ms] [rows:1] INSERT INTO `users` (`name`,`password`,`created_at`,`updated_at`,`deleted_at`) VALUES ('sssssssssssssu','$2a$04$LmkNefCAZYLSkiBMMQMqJOQlwmmv7Jz768nwn18A7aReWegxKomv.','2022-05-19 05:24:38.704','2022-05-19 05:24:38.704',NULL)

2022/05/19 05:25:27 E:/summerByteDance/DouYin_demo/app/services/user.go:18
[0.065ms] [rows:1] SELECT `id` FROM `users` WHERE name = 'sssssssssssssu' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/19 13:59:59 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/19 13:59:59 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[3.704ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/19 13:59:59 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/19 13:59:59 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.521ms] [rows:-] SELECT DATABASE()

2022/05/19 13:59:59 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.000ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/19 13:59:59 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/19 13:59:59 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[18.458ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/19 13:59:59 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/19 13:59:59 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.515ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/19 13:59:59 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/19 14:00:02 E:/summerByteDance/DouYin_demo/app/services/user.go:24
[0.519ms] [rows:1] SELECT `id` FROM `users` WHERE name = 'sssssssssssssu' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/19 14:00:07 E:/summerByteDance/DouYin_demo/app/services/user.go:24
[0.716ms] [rows:1] SELECT `id` FROM `users` WHERE name = 'sssssssssssssu' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/19 14:00:09 E:/summerByteDance/DouYin_demo/app/services/user.go:24
[0.996ms] [rows:1] SELECT `id` FROM `users` WHERE name = 'sssssssssssssu' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/19 14:00:10 E:/summerByteDance/DouYin_demo/app/services/user.go:24
[0.274ms] [rows:1] SELECT `id` FROM `users` WHERE name = 'sssssssssssssu' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/19 14:00:10 E:/summerByteDance/DouYin_demo/app/services/user.go:24
[0.675ms] [rows:1] SELECT `id` FROM `users` WHERE name = 'sssssssssssssu' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/19 14:00:11 E:/summerByteDance/DouYin_demo/app/services/user.go:24
[0.740ms] [rows:1] SELECT `id` FROM `users` WHERE name = 'sssssssssssssu' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/19 14:00:12 E:/summerByteDance/DouYin_demo/app/services/user.go:24
[1.495ms] [rows:1] SELECT `id` FROM `users` WHERE name = 'sssssssssssssu' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/19 14:00:55 E:/summerByteDance/DouYin_demo/app/services/user.go:24
[0.632ms] [rows:1] SELECT `id` FROM `users` WHERE name = 'sssssssssssssu' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/19 14:03:51 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.507ms] [rows:-] SELECT DATABASE()

2022/05/19 14:03:51 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.445ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/19 14:03:51 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/19 14:03:51 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/19 14:03:51 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.551ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/19 14:03:51 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.515ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/19 14:03:51 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[13.652ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/19 14:03:51 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/19 14:03:51 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[3.310ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/19 14:03:51 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/19 14:03:55 E:/summerByteDance/DouYin_demo/app/services/user.go:25
[0.526ms] [rows:1] SELECT `id` FROM `users` WHERE name = 'sssssssssssssu' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/19 14:05:42 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.515ms] [rows:-] SELECT DATABASE()

2022/05/19 14:05:42 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.161ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/19 14:05:42 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/19 14:05:42 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/19 14:05:42 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.215ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/19 14:05:42 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/19 14:05:42 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[15.206ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/19 14:05:42 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/19 14:05:42 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.566ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/19 14:05:42 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.603ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/19 14:05:47 E:/summerByteDance/DouYin_demo/app/services/user.go:24
[0.518ms] [rows:1] SELECT `id` FROM `users` WHERE name = 'sssssssssssssu' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/19 14:06:03 E:/summerByteDance/DouYin_demo/app/services/user.go:24
[0.724ms] [rows:1] SELECT `id` FROM `users` WHERE name = 'sssssssssssssu' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/19 14:06:53 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.050ms] [rows:-] SELECT DATABASE()

2022/05/19 14:06:53 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.024ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/19 14:06:53 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/19 14:06:53 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.508ms] [rows:-] SELECT DATABASE()

2022/05/19 14:06:53 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.123ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/19 14:06:53 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.711ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/19 14:06:53 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[12.196ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/19 14:06:53 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/19 14:06:53 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.237ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/19 14:06:53 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.516ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/19 14:06:58 E:/summerByteDance/DouYin_demo/app/services/user.go:24
[0.999ms] [rows:1] SELECT `id` FROM `users` WHERE name = 'sssssssssssssu' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/19 14:08:07 E:/summerByteDance/DouYin_demo/app/services/user.go:24 record not found
[1.536ms] [rows:0] SELECT `id` FROM `users` WHERE name = 'sssssssssssssuuu' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/19 14:08:07 E:/summerByteDance/DouYin_demo/app/services/user.go:34
[13.385ms] [rows:1] INSERT INTO `users` (`name`,`password`,`created_at`,`updated_at`,`deleted_at`) VALUES ('sssssssssssssuuu','$2a$04$h8ST2dBqjY83I5vwIzfYmOPdWUnk8mFFIqhxLZyyypS8zs8wFB1fe','2022-05-19 14:08:07.443','2022-05-19 14:08:07.443',NULL)

2022/05/19 16:00:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/19 16:00:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[6.482ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/19 16:00:36 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.510ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/19 16:00:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/19 16:00:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.108ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/19 16:00:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/19 16:00:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[23.653ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/19 16:00:36 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[130.202ms] [rows:0] ALTER TABLE `users` ADD `token` varchar(191) NOT NULL COMMENT '鉴权token'

2022/05/19 16:00:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.553ms] [rows:-] SELECT DATABASE()

2022/05/19 16:00:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.594ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/19 16:00:36 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.152ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/19 16:00:55 E:/summerByteDance/DouYin_demo/app/services/user.go:17 record not found
[0.630ms] [rows:0] SELECT `id` FROM `users` WHERE name = 'qay1234' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/19 16:00:55 E:/summerByteDance/DouYin_demo/app/services/user.go:23
[2.135ms] [rows:1] INSERT INTO `users` (`name`,`password`,`token`,`created_at`,`updated_at`,`deleted_at`) VALUES ('qay1234','$2a$04$G0xJn1HyJopWrzFAuqnFVeJVl1P8jofSTu8k9qZHTrVYSqrTj2LJS','qay1234','2022-05-19 16:00:55.165','2022-05-19 16:00:55.165',NULL)

2022/05/19 16:06:55 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.554ms] [rows:-] SELECT DATABASE()

2022/05/19 16:06:55 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[2.151ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/19 16:06:55 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/19 16:06:55 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/19 16:06:55 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.569ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/19 16:06:55 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/19 16:06:55 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[11.265ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/19 16:06:55 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[1.429ms] [rows:-] SELECT DATABASE()

2022/05/19 16:06:55 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.509ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/19 16:06:55 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/19 16:07:06 E:/summerByteDance/DouYin_demo/app/services/user.go:17 record not found
[0.998ms] [rows:0] SELECT `id` FROM `users` WHERE name = 'qay12345' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/19 16:07:06 E:/summerByteDance/DouYin_demo/app/services/user.go:23
[4.338ms] [rows:1] INSERT INTO `users` (`name`,`password`,`token`,`created_at`,`updated_at`,`deleted_at`) VALUES ('qay12345','$2a$04$cqcI50ubFwSxvhkXqy/3QOzYwrlCy6hBrezsjSeFhBzMG.b5zwr3u','qay12345','2022-05-19 16:07:06.801','2022-05-19 16:07:06.801',NULL)

2022/05/19 16:30:59 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/19 16:30:59 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[3.369ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/19 16:30:59 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/19 16:30:59 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/19 16:30:59 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.507ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/19 16:30:59 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.350ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/19 16:30:59 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[12.687ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/19 16:30:59 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/19 16:30:59 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.509ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/19 16:30:59 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.625ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/19 16:32:29 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/19 16:32:29 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.507ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/19 16:32:29 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/19 16:32:29 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/19 16:32:29 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.507ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/19 16:32:29 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.505ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/19 16:32:29 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[12.348ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/19 16:32:29 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/19 16:32:29 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.512ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/19 16:32:29 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/19 16:58:50 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.545ms] [rows:-] SELECT DATABASE()

2022/05/19 16:58:50 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[3.967ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/19 16:58:50 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/19 16:58:50 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/19 16:58:50 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.000ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/19 16:58:50 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.998ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/19 16:58:50 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[15.238ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/19 16:58:50 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/19 16:58:50 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.701ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/19 16:58:50 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/19 17:02:48 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.502ms] [rows:-] SELECT DATABASE()

2022/05/19 17:02:48 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.554ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/19 17:02:48 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[1.072ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/19 17:02:48 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.268ms] [rows:-] SELECT DATABASE()

2022/05/19 17:02:48 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.315ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/19 17:02:48 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.511ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/19 17:02:48 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[11.567ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/19 17:02:48 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/19 17:02:48 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.222ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/19 17:02:48 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/19 17:04:47 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.509ms] [rows:-] SELECT DATABASE()

2022/05/19 17:04:47 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.510ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/19 17:04:47 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.580ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/19 17:04:47 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/19 17:04:47 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.610ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/19 17:04:47 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/19 17:04:47 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[12.196ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/19 17:04:47 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/19 17:04:47 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.567ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/19 17:04:47 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/19 17:04:53 E:/summerByteDance/DouYin_demo/app/services/user.go:18 record not found
[3.140ms] [rows:0] SELECT `id` FROM `users` WHERE name = 'vvvffff' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/19 17:04:53 E:/summerByteDance/DouYin_demo/app/services/user.go:24
[71.861ms] [rows:1] INSERT INTO `users` (`name`,`password`,`token`,`created_at`,`updated_at`,`deleted_at`) VALUES ('vvvffff','$2a$04$vkFv6mufhijphN46SXG5AukhEFgIf8TFlWtGAEme9ey8DnOVkYAjK','vvvffff','2022-05-19 17:04:53.745','2022-05-19 17:04:53.745',NULL)

2022/05/19 17:04:53 E:/summerByteDance/DouYin_demo/app/services/user.go:26
[0.000ms] [rows:1] SELECT * FROM `users` WHERE `users`.`deleted_at` IS NULL AND `users`.`id` = 13 ORDER BY `users`.`id` DESC LIMIT 1

2022/05/19 17:06:22 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/19 17:06:22 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.373ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/19 17:06:22 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/19 17:06:22 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.509ms] [rows:-] SELECT DATABASE()

2022/05/19 17:06:22 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.549ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/19 17:06:22 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/19 17:06:22 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[10.964ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/19 17:06:22 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/19 17:06:22 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.218ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/19 17:06:22 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/19 17:06:42 E:/summerByteDance/DouYin_demo/app/services/user.go:17 record not found
[0.000ms] [rows:0] SELECT `id` FROM `users` WHERE name = 'dasdasdasxxxxxxx' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/19 17:06:42 E:/summerByteDance/DouYin_demo/app/services/user.go:23
[7.105ms] [rows:1] INSERT INTO `users` (`name`,`password`,`token`,`created_at`,`updated_at`,`deleted_at`) VALUES ('dasdasdasxxxxxxx','$2a$04$fxh7EHUf.girk2QLfX51.eb6lQcKsnmRDz9eJxKtHfhg/XDUCERRG','dasdasdasxxxxxxx','2022-05-19 17:06:42.269','2022-05-19 17:06:42.269',NULL)

2022/05/19 17:08:17 E:/summerByteDance/DouYin_demo/app/services/user.go:17 record not found
[0.993ms] [rows:0] SELECT `id` FROM `users` WHERE name = 'dasdasdmmmm' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/19 17:08:17 E:/summerByteDance/DouYin_demo/app/services/user.go:23
[2.990ms] [rows:1] INSERT INTO `users` (`name`,`password`,`token`,`created_at`,`updated_at`,`deleted_at`) VALUES ('dasdasdmmmm','$2a$04$o24GKz3aB2xZlB8u3HwZveht9CGzkKSyFl7pzA2D8SeSIEMFLCPAq','dasdasdmmmm','2022-05-19 17:08:17.499','2022-05-19 17:08:17.499',NULL)

2022/05/19 17:22:20 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.505ms] [rows:-] SELECT DATABASE()

2022/05/19 17:22:20 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[2.908ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/19 17:22:20 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/19 17:22:20 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.010ms] [rows:-] SELECT DATABASE()

2022/05/19 17:22:20 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.780ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/19 17:22:20 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.507ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/19 17:22:20 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[13.914ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/19 17:22:20 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/19 17:22:20 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.644ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/19 17:22:20 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/19 17:23:07 E:/summerByteDance/DouYin_demo/app/services/user.go:17
[0.513ms] [rows:1] SELECT `id` FROM `users` WHERE name = 'lisi22' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/19 17:24:00 E:/summerByteDance/DouYin_demo/app/services/user.go:17
[1.244ms] [rows:1] SELECT `id` FROM `users` WHERE name = 'lisi22' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/19 21:42:09 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.505ms] [rows:-] SELECT DATABASE()

2022/05/19 21:42:09 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[18.150ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/19 21:42:09 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.645ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/19 21:42:09 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.516ms] [rows:-] SELECT DATABASE()

2022/05/19 21:42:09 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.613ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/19 21:42:09 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[5.492ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/19 21:42:09 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[35.335ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/19 21:42:09 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/19 21:42:09 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.055ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/19 21:42:09 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/19 21:42:20 E:/summerByteDance/DouYin_demo/app/services/user.go:23 record not found
[1.805ms] [rows:0] SELECT `id` FROM `users` WHERE name = 'dasdasdmmmmdsa' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/19 21:42:20 E:/summerByteDance/DouYin_demo/app/services/user.go:29
[6.887ms] [rows:1] INSERT INTO `users` (`name`,`password`,`token`,`created_at`,`updated_at`,`deleted_at`) VALUES ('dasdasdmmmmdsa','$2a$04$.T8zfvC8986isYYkTkR0XufzBRThvhoeumeeRE7iSlEBqDMGYzRGS','dasdasdmmmmdsa','2022-05-19 21:42:20.131','2022-05-19 21:42:20.131',NULL)

2022/05/23 16:05:39 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.517ms] [rows:-] SELECT DATABASE()

2022/05/23 16:05:39 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[4.004ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 16:05:39 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.734ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/23 16:05:39 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/23 16:05:39 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.823ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 16:05:39 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[6.490ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/23 16:05:39 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[25.492ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/23 16:05:39 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/23 16:05:39 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.496ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 16:05:39 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/23 16:06:05 E:/summerByteDance/DouYin_demo/app/services/user.go:24 record not found
[3.036ms] [rows:0] SELECT `id` FROM `users` WHERE name = 'hxl6626' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/23 16:06:05 E:/summerByteDance/DouYin_demo/app/services/user.go:30
[7.238ms] [rows:1] INSERT INTO `users` (`name`,`password`,`token`,`created_at`,`updated_at`,`deleted_at`) VALUES ('hxl6626','$2a$04$T0Mq84Jo7sHR8nAd8dcPDugkjjs9nwVfJW5FwYZWvtvhVF2gLMmFy','hxl6626','2022-05-23 16:06:05.848','2022-05-23 16:06:05.848',NULL)

2022/05/23 16:06:28 E:/summerByteDance/DouYin_demo/app/services/user.go:35
[0.625ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/23 16:06:44 E:/summerByteDance/DouYin_demo/app/services/user.go:35
[0.000ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/23 16:07:12 E:/summerByteDance/DouYin_demo/app/services/user.go:35
[0.636ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/23 16:07:36 E:/summerByteDance/DouYin_demo/app/services/user.go:35
[0.768ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/23 16:07:51 E:/summerByteDance/DouYin_demo/app/services/user.go:35
[3.129ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/23 16:29:50 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.742ms] [rows:-] SELECT DATABASE()

2022/05/23 16:29:50 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[2.505ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 16:29:50 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.514ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/23 16:29:50 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/23 16:29:50 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.510ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 16:29:50 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/23 16:29:50 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[14.804ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/23 16:29:50 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/23 16:29:50 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.024ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 16:29:50 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.211ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/23 16:29:56 E:/summerByteDance/DouYin_demo/app/services/user.go:36
[0.837ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/23 16:30:09 E:/summerByteDance/DouYin_demo/app/services/user.go:36
[0.000ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/23 16:30:19 E:/summerByteDance/DouYin_demo/app/services/user.go:36
[12.564ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/23 16:40:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/23 16:40:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.026ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 16:40:36 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/23 16:40:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.558ms] [rows:-] SELECT DATABASE()

2022/05/23 16:40:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.280ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 16:40:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/23 16:40:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[17.444ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/23 16:40:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/23 16:40:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.135ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 16:40:36 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/23 16:40:46 E:/summerByteDance/DouYin_demo/app/services/user.go:24 record not found
[0.509ms] [rows:0] SELECT `id` FROM `users` WHERE name = 'hxl66266' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/23 16:40:46 E:/summerByteDance/DouYin_demo/app/services/user.go:31
[5.345ms] [rows:1] INSERT INTO `users` (`name`,`password`,`token`,`created_at`,`updated_at`,`deleted_at`) VALUES ('hxl66266','$2a$04$V6945DffQ.c4cj99LQ8yuORUcvtvbaZFTp1CHiUZxLWr7XPUsDBmS','','2022-05-23 16:40:46.946','2022-05-23 16:40:46.946',NULL)

2022/05/23 16:49:57 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/23 16:49:57 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.505ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 16:49:57 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/23 16:49:57 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/23 16:49:57 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.389ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 16:49:57 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.814ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/23 16:49:57 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[14.268ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/23 16:49:57 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/23 16:49:57 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.682ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 16:49:57 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.011ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/23 16:50:03 E:/summerByteDance/DouYin_demo/app/services/user.go:36
[0.510ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl66266' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/23 16:51:44 E:/summerByteDance/DouYin_demo/app/services/user.go:36
[0.560ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl66266' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/23 18:02:10 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/23 18:02:10 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[4.015ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 18:02:10 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.509ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/23 18:02:10 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/23 18:02:10 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.512ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 18:02:10 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.513ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/23 18:02:10 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[16.370ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/23 18:02:11 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[140.713ms] [rows:0] ALTER TABLE `users` ADD `follow_count` bigint unsigned NOT NULL DEFAULT 0 COMMENT '关注总数'

2022/05/23 18:02:11 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[66.908ms] [rows:0] ALTER TABLE `users` ADD `follower_count` bigint unsigned NOT NULL DEFAULT 0 COMMENT '粉丝总数'

2022/05/23 18:02:11 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[76.995ms] [rows:0] ALTER TABLE `users` ADD `is_follow` boolean

2022/05/23 18:02:11 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/23 18:02:11 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.998ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 18:02:11 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/23 18:02:37 E:/summerByteDance/DouYin_demo/app/services/user.go:36
[0.704ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/23 18:05:33 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.428ms] [rows:-] SELECT DATABASE()

2022/05/23 18:05:33 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.753ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 18:05:33 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/23 18:05:33 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/23 18:05:33 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.546ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 18:05:33 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/23 18:05:33 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[13.585ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/23 18:05:33 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/23 18:05:33 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.215ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 18:05:33 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/23 18:05:37 E:/summerByteDance/DouYin_demo/app/services/user.go:36
[0.508ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/23 18:05:44 E:/summerByteDance/DouYin_demo/app/services/user.go:36
[0.565ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/23 18:07:35 E:/summerByteDance/DouYin_demo/app/services/user.go:36
[0.882ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/23 18:07:40 E:/summerByteDance/DouYin_demo/app/services/user.go:36
[0.654ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/23 18:07:59 E:/summerByteDance/DouYin_demo/app/services/user.go:36
[0.943ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/23 18:08:00 E:/summerByteDance/DouYin_demo/app/services/user.go:36
[1.129ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/23 18:09:07 E:/summerByteDance/DouYin_demo/app/services/user.go:24 record not found
[2.203ms] [rows:0] SELECT `id` FROM `users` WHERE name = 'hxl662666' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/23 18:09:07 E:/summerByteDance/DouYin_demo/app/services/user.go:31
[2.609ms] [rows:1] INSERT INTO `users` (`name`,`password`,`token`,`follow_count`,`follower_count`,`is_follow`,`created_at`,`updated_at`,`deleted_at`) VALUES ('hxl662666','$2a$04$Onx7ngtqIAbjS7ceQYsGeu8SHq2rbR5osJnRQyan4IfMGrnhq2L8a','',0,0,false,'2022-05-23 18:09:07.193','2022-05-23 18:09:07.193',NULL)

2022/05/23 18:11:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/23 18:11:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.507ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 18:11:36 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/23 18:11:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.510ms] [rows:-] SELECT DATABASE()

2022/05/23 18:11:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.698ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 18:11:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/23 18:11:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[13.287ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/23 18:11:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/23 18:11:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.371ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 18:11:36 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/23 18:11:44 E:/summerByteDance/DouYin_demo/app/services/user.go:36
[0.513ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl662666' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/23 18:11:55 E:/summerByteDance/DouYin_demo/app/services/user.go:36
[0.745ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl662666' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/23 18:13:40 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/23 18:13:40 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.507ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 18:13:40 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/23 18:13:40 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.024ms] [rows:-] SELECT DATABASE()

2022/05/23 18:13:40 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.251ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 18:13:40 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/23 18:13:40 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[13.060ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/23 18:13:40 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/23 18:13:40 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.530ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 18:13:40 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/23 18:13:42 E:/summerByteDance/DouYin_demo/app/services/user.go:36
[0.939ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl662666' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/23 18:21:28 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.495ms] [rows:-] SELECT DATABASE()

2022/05/23 18:21:28 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.507ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 18:21:28 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.820ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/23 18:21:28 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.300ms] [rows:-] SELECT DATABASE()

2022/05/23 18:21:28 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.341ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 18:21:28 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.509ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/23 18:21:28 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[12.069ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/23 18:21:28 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/23 18:21:28 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.036ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 18:21:28 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/23 18:21:30 E:/summerByteDance/DouYin_demo/app/services/user.go:36
[0.877ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl662666' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/23 18:21:36 E:/summerByteDance/DouYin_demo/app/services/user.go:36
[1.567ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl662666' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/23 18:23:32 E:/summerByteDance/DouYin_demo/app/services/user.go:36
[1.566ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl662666' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/23 18:24:20 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/23 18:24:20 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.513ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 18:24:20 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/23 18:24:20 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/23 18:24:20 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.999ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 18:24:20 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/23 18:24:20 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[22.450ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/23 18:24:20 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/23 18:24:20 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.594ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 18:24:20 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.708ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/23 18:24:22 E:/summerByteDance/DouYin_demo/app/services/user.go:36
[0.772ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl662666' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/23 18:26:44 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/23 18:26:44 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.998ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 18:26:44 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.997ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/23 18:26:44 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/23 18:26:44 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.000ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 18:26:44 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.997ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/23 18:26:44 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[12.247ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/23 18:26:44 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/23 18:26:44 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.149ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 18:26:44 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/23 18:26:46 E:/summerByteDance/DouYin_demo/app/services/user.go:36
[0.522ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl662666' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/23 18:29:14 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/23 18:29:14 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.941ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 18:29:14 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/23 18:29:14 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.515ms] [rows:-] SELECT DATABASE()

2022/05/23 18:29:14 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.702ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 18:29:14 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/23 18:29:14 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[12.394ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/23 18:29:14 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.519ms] [rows:-] SELECT DATABASE()

2022/05/23 18:29:14 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.514ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 18:29:14 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.519ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/23 18:31:39 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.079ms] [rows:-] SELECT DATABASE()

2022/05/23 18:31:39 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.507ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 18:31:39 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.523ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/23 18:31:39 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.272ms] [rows:-] SELECT DATABASE()

2022/05/23 18:31:39 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.351ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 18:31:39 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.005ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/23 18:31:39 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[9.993ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/23 18:31:39 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/23 18:31:39 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.232ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 18:31:39 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/23 18:31:50 E:/summerByteDance/DouYin_demo/app/services/user.go:24 record not found
[0.000ms] [rows:0] SELECT `id` FROM `users` WHERE name = 'hxl6626666' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/23 18:31:50 E:/summerByteDance/DouYin_demo/app/services/user.go:31
[12.203ms] [rows:1] INSERT INTO `users` (`name`,`password`,`token`,`follow_count`,`follower_count`,`is_follow`,`created_at`,`updated_at`,`deleted_at`) VALUES ('hxl6626666','$2a$04$S1xKNhtV6U4YCvO4umrliOtgU3Fpm.4iYPZGec3PhjaMBiq.qurB2','',0,0,false,'2022-05-23 18:31:50.879','2022-05-23 18:31:50.879',NULL)

2022/05/23 18:32:04 E:/summerByteDance/DouYin_demo/app/services/user.go:36
[1.404ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626666' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/23 18:32:30 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/23 18:32:30 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.582ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 18:32:30 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/23 18:32:30 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.507ms] [rows:-] SELECT DATABASE()

2022/05/23 18:32:30 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.611ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 18:32:30 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/23 18:32:30 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[10.781ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/23 18:32:30 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/23 18:32:30 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.519ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 18:32:30 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.516ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/23 18:32:35 E:/summerByteDance/DouYin_demo/app/services/user.go:36
[0.000ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626666' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/23 18:32:57 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.519ms] [rows:-] SELECT DATABASE()

2022/05/23 18:32:57 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.508ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 18:32:57 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.510ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/23 18:32:57 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/23 18:32:57 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.554ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 18:32:57 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/23 18:32:57 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[10.479ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/23 18:32:57 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/23 18:32:57 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.024ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 18:32:57 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/23 18:33:01 E:/summerByteDance/DouYin_demo/app/services/user.go:36
[0.514ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626666' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/23 18:36:43 E:/summerByteDance/DouYin_demo/app/services/user.go:36
[1.027ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626666' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/23 18:41:02 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/23 18:41:02 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.506ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 18:41:02 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.999ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/23 18:41:02 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/23 18:41:02 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.671ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 18:41:02 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.507ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/23 18:41:02 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[11.272ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/23 18:41:02 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/23 18:41:02 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.523ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 18:41:02 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.049ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/23 18:41:04 E:/summerByteDance/DouYin_demo/app/services/user.go:36
[0.509ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626666' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/23 18:55:45 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/23 18:55:45 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.450ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 18:55:45 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/23 18:55:45 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/23 18:55:45 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.510ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 18:55:45 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[1.504ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/23 18:55:45 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[13.320ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/23 18:55:45 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/23 18:55:45 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.223ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 18:55:45 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/23 18:55:49 E:/summerByteDance/DouYin_demo/app/services/user.go:36
[1.513ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626666' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/23 18:58:40 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/23 18:58:40 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.508ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 18:58:40 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.698ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/23 18:58:40 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/23 18:58:40 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.508ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 18:58:40 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/23 18:58:40 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[12.945ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/23 18:58:40 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.523ms] [rows:-] SELECT DATABASE()

2022/05/23 18:58:40 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.508ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 18:58:40 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/23 18:58:42 E:/summerByteDance/DouYin_demo/app/services/user.go:36
[0.510ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626666' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/23 18:58:47 E:/summerByteDance/DouYin_demo/app/services/user.go:36
[0.871ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626666' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/23 18:59:00 E:/summerByteDance/DouYin_demo/app/services/user.go:36
[2.968ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626666' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/23 18:59:06 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.508ms] [rows:-] SELECT DATABASE()

2022/05/23 18:59:06 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.508ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 18:59:06 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/23 18:59:06 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.082ms] [rows:-] SELECT DATABASE()

2022/05/23 18:59:06 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.508ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 18:59:06 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/23 18:59:06 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[19.689ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/23 18:59:06 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/23 18:59:06 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.509ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 18:59:06 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/23 18:59:07 E:/summerByteDance/DouYin_demo/app/services/user.go:36
[0.711ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626666' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/23 19:00:16 E:/summerByteDance/DouYin_demo/app/services/user.go:36
[0.007ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626666' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/23 19:12:32 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.514ms] [rows:-] SELECT DATABASE()

2022/05/23 19:12:32 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[2.623ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 19:12:32 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.511ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/23 19:12:32 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/23 19:12:32 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.508ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 19:12:32 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/23 19:12:32 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[19.816ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/23 19:12:32 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/23 19:12:32 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.028ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 19:12:32 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/23 19:12:35 E:/summerByteDance/DouYin_demo/app/services/user.go:36
[1.614ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626666' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/23 19:25:51 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/23 19:25:51 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[2.780ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 19:25:51 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.577ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/23 19:25:51 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/23 19:25:51 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.650ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 19:25:51 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/23 19:25:51 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[14.911ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/23 19:25:51 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.512ms] [rows:-] SELECT DATABASE()

2022/05/23 19:25:51 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.849ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 19:25:51 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/23 19:25:53 E:/summerByteDance/DouYin_demo/app/services/user.go:36
[1.636ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626666' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/23 19:27:25 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.496ms] [rows:-] SELECT DATABASE()

2022/05/23 19:27:25 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.554ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 19:27:25 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.681ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/23 19:27:25 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/23 19:27:25 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.558ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 19:27:25 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.386ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/23 19:27:25 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[10.736ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/23 19:27:25 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/23 19:27:25 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.312ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 19:27:25 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/23 19:27:28 E:/summerByteDance/DouYin_demo/app/services/user.go:36
[0.513ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626666' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/23 19:46:05 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.505ms] [rows:-] SELECT DATABASE()

2022/05/23 19:46:05 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[2.179ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 19:46:05 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.998ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/23 19:46:05 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/23 19:46:05 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.997ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 19:46:05 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.997ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/23 19:46:05 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[17.485ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/23 19:46:05 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/23 19:46:05 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.591ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 19:46:05 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/23 19:46:10 E:/summerByteDance/DouYin_demo/app/services/user.go:36
[0.511ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626666' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/23 19:47:04 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/23 19:47:04 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.834ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 19:47:04 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/23 19:47:04 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.008ms] [rows:-] SELECT DATABASE()

2022/05/23 19:47:04 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.107ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 19:47:04 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/23 19:47:04 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[18.952ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/23 19:47:04 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/23 19:47:04 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.356ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 19:47:04 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/23 19:47:05 E:/summerByteDance/DouYin_demo/app/services/user.go:36
[1.218ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626666' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/23 19:50:10 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/23 19:50:10 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.053ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 19:50:10 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/23 19:50:10 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/23 19:50:10 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.895ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 19:50:10 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/23 19:50:10 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[23.958ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/23 19:50:10 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.514ms] [rows:-] SELECT DATABASE()

2022/05/23 19:50:10 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.899ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 19:50:10 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.519ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/23 19:50:12 E:/summerByteDance/DouYin_demo/app/services/user.go:36
[0.523ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626666' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/23 19:51:53 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/23 19:51:53 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.007ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 19:51:53 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.513ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/23 19:51:53 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/23 19:51:53 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.519ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 19:51:53 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[1.007ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/23 19:51:53 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[16.948ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/23 19:51:53 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/23 19:51:53 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.566ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 19:51:53 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/23 19:51:54 E:/summerByteDance/DouYin_demo/app/services/user.go:36
[0.566ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626666' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/23 19:56:33 E:/summerByteDance/DouYin_demo/app/services/user.go:36
[1.393ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626666' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/23 19:56:42 E:/summerByteDance/DouYin_demo/app/services/user.go:36
[0.943ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626666' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/23 19:57:45 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/23 19:57:45 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.508ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 19:57:45 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/23 19:57:45 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.575ms] [rows:-] SELECT DATABASE()

2022/05/23 19:57:45 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.747ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 19:57:45 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/23 19:57:45 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[11.803ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/23 19:57:45 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/23 19:57:45 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.509ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 19:57:45 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/23 19:57:52 E:/summerByteDance/DouYin_demo/app/services/user.go:36
[0.516ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626666' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/23 20:01:55 E:/summerByteDance/DouYin_demo/app/services/user.go:36
[1.020ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626666' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/23 20:13:12 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/23 20:13:12 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.815ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 20:13:12 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.517ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/23 20:13:12 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/23 20:13:12 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.510ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 20:13:12 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/23 20:13:12 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[14.983ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/23 20:13:12 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/23 20:13:12 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.512ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 20:13:12 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.511ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/23 20:13:14 E:/summerByteDance/DouYin_demo/app/services/user.go:36
[1.511ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626666' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/23 20:14:25 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/23 20:14:25 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.614ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 20:14:25 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/23 20:14:25 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/23 20:14:25 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.702ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 20:14:25 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.077ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/23 20:14:25 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[14.360ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/23 20:14:25 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.514ms] [rows:-] SELECT DATABASE()

2022/05/23 20:14:25 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.512ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 20:14:25 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.528ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/23 20:14:29 E:/summerByteDance/DouYin_demo/app/services/user.go:36
[1.770ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626666' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/23 20:22:06 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[1.139ms] [rows:-] SELECT DATABASE()

2022/05/23 20:22:06 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[2.535ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 20:22:06 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/23 20:22:06 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/23 20:22:06 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.506ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 20:22:06 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/23 20:22:06 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[16.404ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/23 20:22:06 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.508ms] [rows:-] SELECT DATABASE()

2022/05/23 20:22:06 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.999ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 20:22:06 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/23 20:22:07 E:/summerByteDance/DouYin_demo/app/services/user.go:36
[3.720ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626666' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/23 20:39:07 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/23 20:39:07 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.732ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 20:39:07 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.507ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/23 20:39:07 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/23 20:39:07 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.077ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 20:39:07 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.510ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/23 20:39:07 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[14.626ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/23 20:39:07 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.513ms] [rows:-] SELECT DATABASE()

2022/05/23 20:39:07 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.964ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 20:39:07 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/23 20:39:11 E:/summerByteDance/DouYin_demo/app/services/user.go:36
[0.514ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626666' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/23 20:39:43 E:/summerByteDance/DouYin_demo/app/services/user.go:36
[1.005ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626666' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/23 20:41:22 E:/summerByteDance/DouYin_demo/app/services/user.go:36
[0.441ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626666' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/23 20:41:37 E:/summerByteDance/DouYin_demo/app/services/user.go:36
[0.000ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626666' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/23 20:42:03 E:/summerByteDance/DouYin_demo/app/services/user.go:36
[0.648ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626666' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/23 20:45:18 E:/summerByteDance/DouYin_demo/app/services/user.go:36
[1.410ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626666' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/23 20:45:19 E:/summerByteDance/DouYin_demo/app/services/user.go:36
[1.303ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626666' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/23 20:46:10 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/23 20:46:10 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.143ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 20:46:10 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/23 20:46:10 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.508ms] [rows:-] SELECT DATABASE()

2022/05/23 20:46:10 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.514ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 20:46:10 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/23 20:46:10 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[17.507ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/23 20:46:10 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/23 20:46:10 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.746ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 20:46:10 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/23 20:51:27 E:/summerByteDance/DouYin_demo/app/services/user.go:36
[2.725ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626666' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/23 20:51:53 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.446ms] [rows:-] SELECT DATABASE()

2022/05/23 20:51:53 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.507ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 20:51:53 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/23 20:51:53 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.509ms] [rows:-] SELECT DATABASE()

2022/05/23 20:51:53 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.640ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 20:51:53 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/23 20:51:53 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[12.638ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/23 20:51:53 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/23 20:51:53 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.753ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 20:51:53 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/23 20:51:55 E:/summerByteDance/DouYin_demo/app/services/user.go:36
[1.518ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626666' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/23 20:52:43 E:/summerByteDance/DouYin_demo/app/services/user.go:36
[1.905ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626666' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/23 20:52:44 E:/summerByteDance/DouYin_demo/app/services/user.go:36
[1.602ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626666' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/23 20:52:45 E:/summerByteDance/DouYin_demo/app/services/user.go:36
[1.206ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626666' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/23 20:52:48 E:/summerByteDance/DouYin_demo/app/services/user.go:36
[0.342ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626666' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/23 20:52:49 E:/summerByteDance/DouYin_demo/app/services/user.go:36
[0.324ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626666' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/23 20:53:13 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.551ms] [rows:-] SELECT DATABASE()

2022/05/23 20:53:13 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.178ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 20:53:13 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.508ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/23 20:53:13 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/23 20:53:13 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.511ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 20:53:13 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/23 20:53:13 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[12.711ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/23 20:53:13 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/23 20:53:13 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.349ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 20:53:13 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/23 20:53:15 E:/summerByteDance/DouYin_demo/app/services/user.go:36
[1.109ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626666' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/23 20:56:27 E:/summerByteDance/DouYin_demo/app/services/user.go:36
[0.730ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626666' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/23 20:57:20 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/23 20:57:20 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.154ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 20:57:20 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/23 20:57:20 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/23 20:57:20 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.676ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 20:57:20 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/23 20:57:20 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[15.457ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/23 20:57:20 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.524ms] [rows:-] SELECT DATABASE()

2022/05/23 20:57:20 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.143ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 20:57:20 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/23 20:57:21 E:/summerByteDance/DouYin_demo/app/services/user.go:36
[0.517ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626666' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/23 20:57:24 E:/summerByteDance/DouYin_demo/app/services/user.go:36
[1.263ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626666' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/23 20:59:10 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.518ms] [rows:-] SELECT DATABASE()

2022/05/23 20:59:10 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.732ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 20:59:10 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/23 20:59:10 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.507ms] [rows:-] SELECT DATABASE()

2022/05/23 20:59:10 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.507ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 20:59:10 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.143ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/23 20:59:10 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[9.379ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/23 20:59:10 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/23 20:59:10 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.123ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 20:59:10 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/23 20:59:14 E:/summerByteDance/DouYin_demo/app/services/user.go:36
[0.167ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626666' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/23 21:00:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.069ms] [rows:-] SELECT DATABASE()

2022/05/23 21:00:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.511ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 21:00:36 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.538ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/23 21:00:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.509ms] [rows:-] SELECT DATABASE()

2022/05/23 21:00:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.626ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 21:00:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/23 21:00:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[12.722ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/23 21:00:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/23 21:00:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.508ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 21:00:36 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/23 21:00:42 E:/summerByteDance/DouYin_demo/app/services/user.go:36
[0.511ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626666' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/23 21:00:48 E:/summerByteDance/DouYin_demo/app/services/user.go:36
[1.047ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626666' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/23 21:09:04 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/23 21:09:04 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.573ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 21:09:04 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.512ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/23 21:09:04 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/23 21:09:04 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.013ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 21:09:04 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/23 21:09:04 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[17.716ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/23 21:09:04 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/23 21:09:04 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.903ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 21:09:04 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/23 21:09:05 E:/summerByteDance/DouYin_demo/app/services/user.go:36
[0.510ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626666' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/23 21:11:26 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/23 21:11:26 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.039ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 21:11:26 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/23 21:11:26 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.014ms] [rows:-] SELECT DATABASE()

2022/05/23 21:11:26 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.508ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 21:11:26 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/23 21:11:26 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[15.630ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/23 21:11:26 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/23 21:11:26 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.540ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 21:11:26 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.516ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/23 21:11:30 E:/summerByteDance/DouYin_demo/app/services/user.go:36
[0.515ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626666' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/23 21:11:31 E:/summerByteDance/DouYin_demo/app/services/user.go:36
[0.985ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626666' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/23 21:11:32 E:/summerByteDance/DouYin_demo/app/services/user.go:36
[1.492ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626666' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/23 21:11:32 E:/summerByteDance/DouYin_demo/app/services/user.go:36
[1.172ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626666' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/23 21:11:33 E:/summerByteDance/DouYin_demo/app/services/user.go:36
[0.960ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626666' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/23 21:11:34 E:/summerByteDance/DouYin_demo/app/services/user.go:36
[0.651ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626666' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/23 21:11:34 E:/summerByteDance/DouYin_demo/app/services/user.go:36
[1.011ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626666' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/23 21:11:35 E:/summerByteDance/DouYin_demo/app/services/user.go:36
[0.591ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626666' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/23 21:11:36 E:/summerByteDance/DouYin_demo/app/services/user.go:36
[0.959ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626666' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/23 21:11:36 E:/summerByteDance/DouYin_demo/app/services/user.go:36
[0.613ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626666' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/23 21:11:37 E:/summerByteDance/DouYin_demo/app/services/user.go:36
[1.167ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626666' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/23 21:11:38 E:/summerByteDance/DouYin_demo/app/services/user.go:36
[0.925ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626666' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/23 21:11:38 E:/summerByteDance/DouYin_demo/app/services/user.go:36
[0.586ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626666' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/23 21:11:43 E:/summerByteDance/DouYin_demo/app/services/user.go:36
[0.746ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626666' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/23 21:11:43 E:/summerByteDance/DouYin_demo/app/services/user.go:36
[0.707ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626666' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/23 21:11:43 E:/summerByteDance/DouYin_demo/app/services/user.go:36
[1.291ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626666' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/23 21:11:43 E:/summerByteDance/DouYin_demo/app/services/user.go:36
[0.494ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626666' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/23 21:11:43 E:/summerByteDance/DouYin_demo/app/services/user.go:36
[0.665ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626666' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/23 21:11:43 E:/summerByteDance/DouYin_demo/app/services/user.go:36
[0.693ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626666' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/23 21:11:44 E:/summerByteDance/DouYin_demo/app/services/user.go:36
[1.118ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626666' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/23 21:11:44 E:/summerByteDance/DouYin_demo/app/services/user.go:36
[1.370ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626666' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/23 21:11:44 E:/summerByteDance/DouYin_demo/app/services/user.go:36
[1.256ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626666' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/23 21:11:44 E:/summerByteDance/DouYin_demo/app/services/user.go:36
[0.627ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626666' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/23 21:15:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.508ms] [rows:-] SELECT DATABASE()

2022/05/23 21:15:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.024ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 21:15:36 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/23 21:15:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/23 21:15:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.022ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 21:15:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/23 21:15:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[55.331ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/23 21:15:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/23 21:15:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.997ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 21:15:36 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/23 21:15:37 E:/summerByteDance/DouYin_demo/app/services/user.go:36
[0.663ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626666' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/23 21:18:06 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/23 21:18:06 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.512ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 21:18:06 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/23 21:18:06 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.510ms] [rows:-] SELECT DATABASE()

2022/05/23 21:18:06 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.507ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 21:18:06 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/23 21:18:06 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[29.601ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/23 21:18:06 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/23 21:18:06 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.703ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 21:18:06 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.659ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/23 21:18:06 E:/summerByteDance/DouYin_demo/app/services/user.go:36
[0.907ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626666' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/23 21:19:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/23 21:19:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.360ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 21:19:21 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/23 21:19:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.051ms] [rows:-] SELECT DATABASE()

2022/05/23 21:19:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.552ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 21:19:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/23 21:19:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[15.113ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/23 21:19:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/23 21:19:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.703ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 21:19:21 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/23 21:19:39 E:/summerByteDance/DouYin_demo/app/services/user.go:36
[0.521ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626666' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/23 21:20:01 E:/summerByteDance/DouYin_demo/app/services/user.go:36
[1.372ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626666' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/23 21:20:45 E:/summerByteDance/DouYin_demo/app/services/user.go:36
[1.135ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626666' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/23 21:20:56 E:/summerByteDance/DouYin_demo/app/services/user.go:36
[0.561ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626666' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/23 21:22:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.507ms] [rows:-] SELECT DATABASE()

2022/05/23 21:22:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.192ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 21:22:16 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/23 21:22:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.507ms] [rows:-] SELECT DATABASE()

2022/05/23 21:22:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.653ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 21:22:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/23 21:22:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[16.137ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/23 21:22:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/23 21:22:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.757ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 21:22:16 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/23 21:22:19 E:/summerByteDance/DouYin_demo/app/services/user.go:36
[1.451ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626666' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/23 21:22:19 E:/summerByteDance/DouYin_demo/app/services/user.go:46
[1.858ms] [rows:1] SELECT * FROM `users` WHERE `users`.`id` = 20 AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/23 21:37:00 E:/summerByteDance/DouYin_demo/app/services/user.go:24 record not found
[1.266ms] [rows:0] SELECT `id` FROM `users` WHERE name = 'hxlaaaa' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/23 21:37:00 E:/summerByteDance/DouYin_demo/app/services/user.go:31
[6.926ms] [rows:1] INSERT INTO `users` (`name`,`password`,`token`,`follow_count`,`follower_count`,`is_follow`,`created_at`,`updated_at`,`deleted_at`) VALUES ('hxlaaaa','$2a$04$hoXnLTRt2dfuz5Nx37lwW.kXo./feHwqwkzodDfleJTc4AmWyDTvO','',0,0,false,'2022-05-23 21:37:00.703','2022-05-23 21:37:00.703',NULL)

2022/05/23 21:37:01 E:/summerByteDance/DouYin_demo/app/services/user.go:46
[0.513ms] [rows:1] SELECT * FROM `users` WHERE `users`.`id` = 21 AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/23 22:03:46 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/23 22:03:46 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[3.031ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 22:03:46 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/23 22:03:46 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/23 22:03:46 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.507ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 22:03:46 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/23 22:03:46 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[12.485ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/23 22:03:46 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/23 22:03:46 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.507ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 22:03:46 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/23 22:04:02 E:/summerByteDance/DouYin_demo/app/services/user.go:36
[0.621ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/23 22:04:02 E:/summerByteDance/DouYin_demo/app/services/user.go:46
[0.544ms] [rows:1] SELECT * FROM `users` WHERE `users`.`id` = 17 AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/23 22:04:34 E:/summerByteDance/DouYin_demo/app/services/user.go:36
[1.044ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/23 22:04:34 E:/summerByteDance/DouYin_demo/app/services/user.go:46
[0.530ms] [rows:1] SELECT * FROM `users` WHERE `users`.`id` = 17 AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/23 22:12:42 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.526ms] [rows:-] SELECT DATABASE()

2022/05/23 22:12:42 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.073ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 22:12:42 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/23 22:12:42 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.560ms] [rows:-] SELECT DATABASE()

2022/05/23 22:12:42 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.680ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 22:12:42 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/23 22:12:42 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[12.439ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/23 22:12:42 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/23 22:12:42 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.134ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 22:12:42 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/23 22:12:50 E:/summerByteDance/DouYin_demo/app/services/user.go:36
[1.991ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/23 22:12:50 E:/summerByteDance/DouYin_demo/app/services/user.go:46
[0.607ms] [rows:1] SELECT * FROM `users` WHERE `users`.`id` = 17 AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/23 23:09:51 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.090ms] [rows:-] SELECT DATABASE()

2022/05/23 23:09:51 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[4.654ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 23:09:51 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.516ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/23 23:09:51 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/23 23:09:51 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.289ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 23:09:51 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.586ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/23 23:09:51 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[14.127ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/23 23:09:51 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/23 23:09:51 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.601ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 23:09:51 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/23 23:09:51 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/23 23:09:51 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.507ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 23:09:51 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[2.809ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'media' AND table_type = 'BASE TABLE'

2022/05/23 23:09:51 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[79.386ms] [rows:0] CREATE TABLE `media` (`id` bigint unsigned AUTO_INCREMENT,`disk_type` varchar(20) NOT NULL COMMENT '存储类型',`src_type` tinyint NOT NULL COMMENT '链接类型 1相对路径 2外链',`src` varchar(191) NOT NULL COMMENT '资源链接',`created_at` datetime NULL,`updated_at` datetime NULL,PRIMARY KEY (`id`),INDEX idx_media_disk_type (`disk_type`))

2022/05/23 23:10:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/23 23:10:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.281ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 23:10:36 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.511ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/23 23:10:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/23 23:10:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.614ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 23:10:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.508ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/23 23:10:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[11.902ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/23 23:10:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/23 23:10:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.109ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 23:10:36 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/23 23:10:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.510ms] [rows:-] SELECT DATABASE()

2022/05/23 23:10:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.711ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 23:10:36 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.510ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'media' AND table_type = 'BASE TABLE'

2022/05/23 23:10:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.468ms] [rows:-] SELECT DATABASE()

2022/05/23 23:10:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.624ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 23:10:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[1.754ms] [rows:-] SELECT * FROM `media` LIMIT 1

2022/05/23 23:10:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[8.487ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'media' ORDER BY ORDINAL_POSITION

2022/05/23 23:10:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/23 23:10:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.507ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 23:10:36 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'media' AND index_name = 'idx_media_disk_type'

2022/05/23 23:10:59 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/23 23:10:59 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.053ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 23:10:59 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.508ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/23 23:10:59 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/23 23:10:59 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.970ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 23:10:59 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/23 23:10:59 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[13.172ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/23 23:10:59 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/23 23:10:59 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.398ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 23:10:59 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/23 23:10:59 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/23 23:10:59 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.510ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 23:10:59 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.569ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'media' AND table_type = 'BASE TABLE'

2022/05/23 23:10:59 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/23 23:10:59 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.034ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 23:10:59 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `media` LIMIT 1

2022/05/23 23:10:59 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[5.843ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'media' ORDER BY ORDINAL_POSITION

2022/05/23 23:10:59 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/23 23:10:59 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.510ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/23 23:10:59 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'media' AND index_name = 'idx_media_disk_type'

2022/05/24 01:07:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.884ms] [rows:-] SELECT DATABASE()

2022/05/24 01:07:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[9.650ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/24 01:07:17 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[1.402ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/24 01:07:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/24 01:07:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.516ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/24 01:07:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[2.292ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/24 01:07:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[15.652ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/24 01:07:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/24 01:07:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.589ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/24 01:07:17 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.656ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/24 01:07:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.241ms] [rows:-] SELECT DATABASE()

2022/05/24 01:07:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.332ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/24 01:07:17 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.477ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'media' AND table_type = 'BASE TABLE'

2022/05/24 01:07:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/24 01:07:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.797ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/24 01:07:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `media` LIMIT 1

2022/05/24 01:07:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[7.746ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'media' ORDER BY ORDINAL_POSITION

2022/05/24 01:07:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/24 01:07:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.544ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/24 01:07:17 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.516ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'media' AND index_name = 'idx_media_disk_type'

2022/05/24 01:15:29 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/24 01:15:29 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.506ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/24 01:15:29 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.275ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/24 01:15:29 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/24 01:15:29 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.632ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/24 01:15:29 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.509ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/24 01:15:29 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[10.942ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/24 01:15:29 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.510ms] [rows:-] SELECT DATABASE()

2022/05/24 01:15:29 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.835ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/24 01:15:29 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/24 01:15:29 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/24 01:15:29 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.512ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/24 01:15:29 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.541ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'media' AND table_type = 'BASE TABLE'

2022/05/24 01:15:29 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/24 01:15:29 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.511ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/24 01:15:29 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `media` LIMIT 1

2022/05/24 01:15:29 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[7.217ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'media' ORDER BY ORDINAL_POSITION

2022/05/24 01:15:29 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/24 01:15:29 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.890ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/24 01:15:29 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.512ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'media' AND index_name = 'idx_media_disk_type'

2022/05/24 01:21:04 E:/summerByteDance/DouYin_demo/app/services/user.go:36
[9.700ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/24 01:21:04 E:/summerByteDance/DouYin_demo/app/services/user.go:46
[2.155ms] [rows:1] SELECT * FROM `users` WHERE `users`.`id` = 17 AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/24 01:36:29 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.085ms] [rows:-] SELECT DATABASE()

2022/05/24 01:36:29 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[5.160ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/24 01:36:29 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.511ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/24 01:36:29 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/24 01:36:29 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.902ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/24 01:36:29 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.534ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/24 01:36:29 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[19.963ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/24 01:36:29 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/24 01:36:29 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.997ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/24 01:36:29 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/24 01:36:29 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.508ms] [rows:-] SELECT DATABASE()

2022/05/24 01:36:29 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.684ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/24 01:36:29 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[1.703ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'media' AND table_type = 'BASE TABLE'

2022/05/24 01:36:29 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/24 01:36:29 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.793ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/24 01:36:29 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `media` LIMIT 1

2022/05/24 01:36:29 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[10.988ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'media' ORDER BY ORDINAL_POSITION

2022/05/24 01:36:29 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/24 01:36:29 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.609ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/24 01:36:29 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.705ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'media' AND index_name = 'idx_media_disk_type'

2022/05/24 01:37:44 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/24 01:37:44 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.993ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/24 01:37:44 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.997ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/24 01:37:44 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/24 01:37:44 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.347ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/24 01:37:44 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/24 01:37:44 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[20.249ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/24 01:37:44 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[1.121ms] [rows:-] SELECT DATABASE()

2022/05/24 01:37:44 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.515ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/24 01:37:44 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.716ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/24 01:37:44 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/24 01:37:44 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.042ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/24 01:37:44 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.519ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'media' AND table_type = 'BASE TABLE'

2022/05/24 01:37:44 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.510ms] [rows:-] SELECT DATABASE()

2022/05/24 01:37:44 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.745ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/24 01:37:44 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `media` LIMIT 1

2022/05/24 01:37:44 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[10.112ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'media' ORDER BY ORDINAL_POSITION

2022/05/24 01:37:44 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/24 01:37:44 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.825ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/24 01:37:44 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'media' AND index_name = 'idx_media_disk_type'

2022/05/24 01:40:07 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.657ms] [rows:-] SELECT DATABASE()

2022/05/24 01:40:07 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.320ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/24 01:40:07 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/24 01:40:07 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.509ms] [rows:-] SELECT DATABASE()

2022/05/24 01:40:07 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.509ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/24 01:40:07 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/24 01:40:07 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[13.351ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/24 01:40:07 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/24 01:40:07 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.517ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/24 01:40:07 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.513ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/24 01:40:07 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/24 01:40:07 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.650ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/24 01:40:07 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.940ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'media' AND table_type = 'BASE TABLE'

2022/05/24 01:40:07 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/24 01:40:07 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.713ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/24 01:40:07 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `media` LIMIT 1

2022/05/24 01:40:07 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[6.444ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'media' ORDER BY ORDINAL_POSITION

2022/05/24 01:40:07 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/24 01:40:07 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.718ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/24 01:40:07 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'media' AND index_name = 'idx_media_disk_type'

2022/05/24 01:41:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.513ms] [rows:-] SELECT DATABASE()

2022/05/24 01:41:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.858ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/24 01:41:21 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.375ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/24 01:41:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.105ms] [rows:-] SELECT DATABASE()

2022/05/24 01:41:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.871ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/24 01:41:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/24 01:41:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[14.192ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/24 01:41:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/24 01:41:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.677ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/24 01:41:21 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/24 01:41:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.514ms] [rows:-] SELECT DATABASE()

2022/05/24 01:41:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.278ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/24 01:41:21 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.658ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'media' AND table_type = 'BASE TABLE'

2022/05/24 01:41:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/24 01:41:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.509ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/24 01:41:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `media` LIMIT 1

2022/05/24 01:41:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[5.514ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'media' ORDER BY ORDINAL_POSITION

2022/05/24 01:41:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/24 01:41:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.508ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/24 01:41:21 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'media' AND index_name = 'idx_media_disk_type'

2022/05/24 01:48:54 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/24 01:48:54 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[5.646ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/24 01:48:54 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.671ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/24 01:48:54 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.412ms] [rows:-] SELECT DATABASE()

2022/05/24 01:48:54 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.348ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/24 01:48:54 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.510ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/24 01:48:54 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[13.542ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/24 01:48:54 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.517ms] [rows:-] SELECT DATABASE()

2022/05/24 01:48:54 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.028ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/24 01:48:54 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.271ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/24 01:48:54 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/24 01:48:54 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.507ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/24 01:48:54 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.013ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'media' AND table_type = 'BASE TABLE'

2022/05/24 01:48:54 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/24 01:48:54 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.039ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/24 01:48:54 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `media` LIMIT 1

2022/05/24 01:48:54 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[6.686ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'media' ORDER BY ORDINAL_POSITION

2022/05/24 01:48:54 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/24 01:48:54 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.507ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/24 01:48:54 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.512ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'media' AND index_name = 'idx_media_disk_type'

2022/05/24 01:52:54 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/24 01:52:54 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.211ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/24 01:52:54 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.701ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/24 01:52:54 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/24 01:52:54 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.524ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/24 01:52:54 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.512ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/24 01:52:54 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[11.640ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/24 01:52:54 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/24 01:52:54 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.177ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/24 01:52:54 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.511ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/24 01:52:54 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/24 01:52:54 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.510ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/24 01:52:54 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'media' AND table_type = 'BASE TABLE'

2022/05/24 01:52:54 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/24 01:52:54 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.751ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/24 01:52:54 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `media` LIMIT 1

2022/05/24 01:52:54 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[12.937ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'media' ORDER BY ORDINAL_POSITION

2022/05/24 01:52:54 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/24 01:52:54 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.981ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/24 01:52:54 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'media' AND index_name = 'idx_media_disk_type'

2022/05/24 01:53:58 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/24 01:53:58 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.340ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/24 01:53:58 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.676ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/24 01:53:58 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/24 01:53:58 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.576ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/24 01:53:58 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.510ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/24 01:53:58 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[9.897ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/24 01:53:58 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/24 01:53:58 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.192ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/24 01:53:58 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/24 01:53:58 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.011ms] [rows:-] SELECT DATABASE()

2022/05/24 01:53:58 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.507ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/24 01:53:58 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.543ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'media' AND table_type = 'BASE TABLE'

2022/05/24 01:53:58 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.007ms] [rows:-] SELECT DATABASE()

2022/05/24 01:53:58 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.555ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/24 01:53:58 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `media` LIMIT 1

2022/05/24 01:53:58 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[6.304ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'media' ORDER BY ORDINAL_POSITION

2022/05/24 01:53:58 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/24 01:53:58 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.508ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/24 01:53:58 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.624ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'media' AND index_name = 'idx_media_disk_type'

2022/05/24 01:54:33 E:/summerByteDance/DouYin_demo/app/services/user.go:36
[2.984ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/24 01:54:39 E:/summerByteDance/DouYin_demo/app/services/user.go:36
[0.403ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/24 01:54:39 E:/summerByteDance/DouYin_demo/app/services/user.go:46
[0.000ms] [rows:1] SELECT * FROM `users` WHERE `users`.`id` = 17 AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/24 01:56:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.511ms] [rows:-] SELECT DATABASE()

2022/05/24 01:56:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.380ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/24 01:56:17 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.865ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/24 01:56:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/24 01:56:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.621ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/24 01:56:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.097ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/24 01:56:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[12.257ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/24 01:56:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/24 01:56:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.512ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/24 01:56:17 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.765ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/24 01:56:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/24 01:56:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.508ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/24 01:56:17 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'media' AND table_type = 'BASE TABLE'

2022/05/24 01:56:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/24 01:56:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.064ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/24 01:56:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `media` LIMIT 1

2022/05/24 01:56:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[6.203ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'media' ORDER BY ORDINAL_POSITION

2022/05/24 01:56:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/24 01:56:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.507ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/24 01:56:17 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.005ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'media' AND index_name = 'idx_media_disk_type'

2022/05/24 01:59:54 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/24 01:59:54 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.553ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/24 01:59:54 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/24 01:59:54 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.508ms] [rows:-] SELECT DATABASE()

2022/05/24 01:59:54 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.555ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/24 01:59:54 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[2.571ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/24 01:59:54 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[9.484ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/24 01:59:54 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/24 01:59:54 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.219ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/24 01:59:54 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/24 02:00:17 E:/summerByteDance/DouYin_demo/app/services/user.go:36
[0.516ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/24 02:00:17 E:/summerByteDance/DouYin_demo/app/services/user.go:46
[1.092ms] [rows:1] SELECT * FROM `users` WHERE `users`.`id` = 17 AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/24 09:56:20 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.086ms] [rows:-] SELECT DATABASE()

2022/05/24 09:56:20 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[6.140ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/24 09:56:20 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.510ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/24 09:56:20 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/24 09:56:20 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.510ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/24 09:56:20 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/24 09:56:20 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[13.339ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/24 09:56:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32 Error 1138: Invalid use of NULL value
[63.184ms] [rows:0] ALTER TABLE `users` MODIFY COLUMN `is_follow` boolean NOT NULL DEFAULT false COMMENT '是否关注'

2022/05/24 09:56:30 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.551ms] [rows:-] SELECT DATABASE()

2022/05/24 09:56:30 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.705ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/24 09:56:30 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/24 09:56:30 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.027ms] [rows:-] SELECT DATABASE()

2022/05/24 09:56:30 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.544ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/24 09:56:30 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/24 09:56:30 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[10.618ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/24 09:56:30 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32 Error 1138: Invalid use of NULL value
[24.600ms] [rows:0] ALTER TABLE `users` MODIFY COLUMN `is_follow` boolean NOT NULL DEFAULT false COMMENT '是否关注'

2022/05/24 22:18:37 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[error] failed to parse value models.Video{ID:models.ID{ID:0x0}, Author:models.User{ID:models.ID{ID:0x0}, Name:"", Password:"", Token:"", FollowCount:0x0, FollowerCount:0x0, IsFollow:false, Timestamps:models.Timestamps{CreatedAt:time.Date(1, time.January, 1, 0, 0, 0, 0, time.UTC), UpdatedAt:time.Date(1, time.January, 1, 0, 0, 0, 0, time.UTC)}, SoftDeletes:models.SoftDeletes{DeletedAt:gorm.DeletedAt{Time:time.Date(1, time.January, 1, 0, 0, 0, 0, time.UTC), Valid:false}}}, PlayUrl:"", CoverUrl:"", FavoriteCount:0x0, CommentCount:0x0, IsFavorite:false, Timestamps:models.Timestamps{CreatedAt:time.Date(1, time.January, 1, 0, 0, 0, 0, time.UTC), UpdatedAt:time.Date(1, time.January, 1, 0, 0, 0, 0, time.UTC)}, SoftDeletes:models.SoftDeletes{DeletedAt:gorm.DeletedAt{Time:time.Date(1, time.January, 1, 0, 0, 0, 0, time.UTC), Valid:false}}}, got error invalid field found for struct github.com/Anzz-bot/DouYin_demo/app/models.Video's field Author: define a valid foreign key for relations or implement the Valuer/Scanner interface

2022/05/24 22:18:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.543ms] [rows:-] SELECT DATABASE()

2022/05/24 22:18:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[22.804ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/24 22:18:37 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[8.142ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/24 22:18:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/24 22:18:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.748ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/24 22:18:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[37.155ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/24 22:18:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[29.074ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/24 22:18:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32 Error 1138: Invalid use of NULL value
[48.814ms] [rows:0] ALTER TABLE `users` MODIFY COLUMN `is_follow` boolean NOT NULL DEFAULT false COMMENT '是否关注'

2022/05/24 22:19:10 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/24 22:19:10 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.625ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/24 22:19:10 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.517ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/24 22:19:10 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.510ms] [rows:-] SELECT DATABASE()

2022/05/24 22:19:10 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.547ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/24 22:19:10 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/24 22:19:10 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[9.484ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/24 22:19:10 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32 Error 1138: Invalid use of NULL value
[31.943ms] [rows:0] ALTER TABLE `users` MODIFY COLUMN `is_follow` boolean NOT NULL DEFAULT false COMMENT '是否关注'

2022/05/24 22:19:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.507ms] [rows:-] SELECT DATABASE()

2022/05/24 22:19:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.506ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/24 22:19:17 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/24 22:19:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/24 22:19:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.565ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/24 22:19:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/24 22:19:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[7.649ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/24 22:19:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32 Error 1138: Invalid use of NULL value
[38.296ms] [rows:0] ALTER TABLE `users` MODIFY COLUMN `is_follow` boolean NOT NULL DEFAULT false COMMENT '是否关注'

2022/05/24 22:23:27 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.505ms] [rows:-] SELECT DATABASE()

2022/05/24 22:23:27 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[3.444ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/24 22:23:27 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[1.432ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/24 22:23:27 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/24 22:23:27 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.745ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/24 22:23:27 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.504ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/24 22:23:27 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[24.859ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/24 22:23:27 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32 Error 1138: Invalid use of NULL value
[31.750ms] [rows:0] ALTER TABLE `users` MODIFY COLUMN `is_follow` boolean NOT NULL DEFAULT false COMMENT '是否关注'

2022/05/24 22:23:52 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.513ms] [rows:-] SELECT DATABASE()

2022/05/24 22:23:52 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.512ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/24 22:23:52 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[1.700ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/24 22:23:52 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/24 22:23:52 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.312ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/24 22:23:52 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/24 22:23:52 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[32.742ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/24 22:23:52 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32 Error 1138: Invalid use of NULL value
[65.373ms] [rows:0] ALTER TABLE `users` MODIFY COLUMN `is_follow` boolean NOT NULL DEFAULT false COMMENT '是否关注'

2022/05/24 22:35:07 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/24 22:35:07 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.065ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/24 22:35:07 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/24 22:35:07 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/24 22:35:07 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.803ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/24 22:35:07 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/24 22:35:07 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[11.182ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/24 22:35:07 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32 Error 1138: Invalid use of NULL value
[31.751ms] [rows:0] ALTER TABLE `users` MODIFY COLUMN `is_follow` boolean NOT NULL DEFAULT false COMMENT '是否关注'

2022/05/24 22:36:08 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.503ms] [rows:-] SELECT DATABASE()

2022/05/24 22:36:08 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.503ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/24 22:36:08 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/24 22:36:08 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.503ms] [rows:-] SELECT DATABASE()

2022/05/24 22:36:08 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.101ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/24 22:36:08 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.517ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/24 22:36:08 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[54.735ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/24 22:36:08 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32 Error 1138: Invalid use of NULL value
[35.493ms] [rows:0] ALTER TABLE `users` MODIFY COLUMN `is_follow` boolean NOT NULL DEFAULT false COMMENT '是否关注'

2022/05/24 22:37:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/24 22:37:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.505ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/24 22:37:36 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/24 22:37:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/24 22:37:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.511ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/24 22:37:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/24 22:37:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[13.614ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/24 22:37:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32 Error 1138: Invalid use of NULL value
[28.796ms] [rows:0] ALTER TABLE `users` MODIFY COLUMN `is_follow` boolean NOT NULL DEFAULT false COMMENT '是否关注'

2022/05/24 22:38:25 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.505ms] [rows:-] SELECT DATABASE()

2022/05/24 22:38:25 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.202ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/24 22:38:25 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/24 22:38:25 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/24 22:38:25 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.518ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/24 22:38:25 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/24 22:38:25 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[16.642ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/24 22:38:25 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32 Error 1138: Invalid use of NULL value
[25.442ms] [rows:0] ALTER TABLE `users` MODIFY COLUMN `is_follow` boolean NOT NULL DEFAULT false COMMENT '是否关注'

2022/05/24 22:41:33 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.504ms] [rows:-] SELECT DATABASE()

2022/05/24 22:41:33 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[12.701ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/24 22:41:33 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[5.159ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/24 22:41:33 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/24 22:41:33 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.061ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/24 22:41:33 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[2.502ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/24 22:41:33 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[40.418ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/24 22:41:33 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32 Error 1138: Invalid use of NULL value
[48.383ms] [rows:0] ALTER TABLE `users` MODIFY COLUMN `is_follow` boolean NOT NULL DEFAULT false COMMENT '是否关注'

2022/05/24 22:43:03 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.451ms] [rows:-] SELECT DATABASE()

2022/05/24 22:43:03 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.502ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/24 22:43:03 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/24 22:43:03 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.503ms] [rows:-] SELECT DATABASE()

2022/05/24 22:43:03 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.224ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/24 22:43:03 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.503ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/24 22:43:03 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[11.604ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/24 22:43:03 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32 Error 1138: Invalid use of NULL value
[31.424ms] [rows:0] ALTER TABLE `users` MODIFY COLUMN `is_follow` boolean NOT NULL DEFAULT false COMMENT '是否关注'

2022/05/24 22:44:01 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.503ms] [rows:-] SELECT DATABASE()

2022/05/24 22:44:01 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.868ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/24 22:44:01 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/24 22:44:01 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/24 22:44:01 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.187ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/24 22:44:01 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.504ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/24 22:44:01 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[12.393ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/24 22:44:01 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32 Error 1138: Invalid use of NULL value
[32.424ms] [rows:0] ALTER TABLE `users` MODIFY COLUMN `is_follow` boolean NOT NULL DEFAULT false COMMENT '是否关注'

2022/05/24 22:47:45 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.045ms] [rows:-] SELECT DATABASE()

2022/05/24 22:47:45 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.503ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/24 22:47:45 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/24 22:47:45 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.504ms] [rows:-] SELECT DATABASE()

2022/05/24 22:47:45 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.685ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/24 22:47:45 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.147ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/24 22:47:45 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[17.863ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/24 22:47:45 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32 Error 1138: Invalid use of NULL value
[35.413ms] [rows:0] ALTER TABLE `users` MODIFY COLUMN `is_follow` boolean NOT NULL DEFAULT false COMMENT '是否关注'

2022/05/24 22:48:51 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/24 22:48:51 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.805ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/24 22:48:51 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/24 22:48:51 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.515ms] [rows:-] SELECT DATABASE()

2022/05/24 22:48:51 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.640ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/24 22:48:51 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/24 22:48:51 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[13.371ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/24 22:48:51 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32 Error 1138: Invalid use of NULL value
[33.419ms] [rows:0] ALTER TABLE `users` MODIFY COLUMN `is_follow` boolean NOT NULL DEFAULT false COMMENT '是否关注'

2022/05/24 22:50:52 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/24 22:50:52 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.545ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/24 22:50:52 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.357ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/24 22:50:52 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[40.733ms] [rows:0] CREATE TABLE `users` (`id` bigint unsigned AUTO_INCREMENT,`name` varchar(191) NOT NULL COMMENT '用户名称',`password` varchar(191) NOT NULL DEFAULT '' COMMENT '用户密码',`token` varchar(191) NOT NULL COMMENT '鉴权token',`follow_count` bigint unsigned NOT NULL DEFAULT 0 COMMENT '关注总数',`follower_count` bigint unsigned NOT NULL DEFAULT 0 COMMENT '粉丝总数',`is_follow` boolean NOT NULL DEFAULT false COMMENT '是否关注',`created_at` datetime NULL,`updated_at` datetime NULL,`deleted_at` datetime NULL,PRIMARY KEY (`id`),INDEX idx_users_deleted_at (`deleted_at`))

2022/05/24 22:53:31 E:/summerByteDance/DouYin_demo/app/services/user.go:24 record not found
[1.536ms] [rows:0] SELECT `id` FROM `users` WHERE name = 'hxl6626' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/24 22:53:31 E:/summerByteDance/DouYin_demo/app/services/user.go:31
[4.178ms] [rows:1] INSERT INTO `users` (`name`,`password`,`token`,`follow_count`,`follower_count`,`is_follow`,`created_at`,`updated_at`,`deleted_at`) VALUES ('hxl6626','$2a$04$sl9aK93B2bLTJwW28.0ypeQDNZxSlhb/ew0hERzDV3J2/SyvbjLWa','',0,0,false,'2022-05-24 22:53:31.013','2022-05-24 22:53:31.013',NULL)

2022/05/24 22:53:32 E:/summerByteDance/DouYin_demo/app/services/user.go:46
[1.075ms] [rows:1] SELECT * FROM `users` WHERE `users`.`id` = 1 AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/24 22:59:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/24 22:59:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.096ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/24 22:59:37 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.518ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/24 22:59:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/24 22:59:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.518ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/24 22:59:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/24 22:59:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[16.344ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/24 22:59:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[7.490ms] [rows:0] ALTER TABLE `users` MODIFY COLUMN `is_follow` boolean NOT NULL DEFAULT false COMMENT '是否关注'

2022/05/24 22:59:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/24 22:59:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.998ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/24 22:59:37 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.314ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/24 22:59:54 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[0.507ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/24 22:59:54 E:/summerByteDance/DouYin_demo/app/services/user.go:47
[0.510ms] [rows:1] SELECT * FROM `users` WHERE `users`.`id` = 1 AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/24 23:10:33 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.317ms] [rows:-] SELECT DATABASE()

2022/05/24 23:10:33 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.938ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/24 23:10:33 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/24 23:10:33 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/24 23:10:33 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.564ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/24 23:10:33 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.509ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/24 23:10:33 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[12.052ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/24 23:10:33 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[6.492ms] [rows:0] ALTER TABLE `users` MODIFY COLUMN `is_follow` boolean NOT NULL DEFAULT false COMMENT '是否关注'

2022/05/24 23:10:33 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/24 23:10:33 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.723ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/24 23:10:33 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/25 00:41:34 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[error] failed to parse value models.Video{ID:models.ID{ID:0x0}, Author:models.User{ID:models.ID{ID:0x0}, Name:"", Password:"", Token:"", FollowCount:0x0, FollowerCount:0x0, IsFollow:false, Timestamps:models.Timestamps{CreatedAt:time.Date(1, time.January, 1, 0, 0, 0, 0, time.UTC), UpdatedAt:time.Date(1, time.January, 1, 0, 0, 0, 0, time.UTC)}, SoftDeletes:models.SoftDeletes{DeletedAt:gorm.DeletedAt{Time:time.Date(1, time.January, 1, 0, 0, 0, 0, time.UTC), Valid:false}}}, PlayUrl:"", CoverUrl:"", FavoriteCount:0x0, CommentCount:0x0, IsFavorite:false, Timestamps:models.Timestamps{CreatedAt:time.Date(1, time.January, 1, 0, 0, 0, 0, time.UTC), UpdatedAt:time.Date(1, time.January, 1, 0, 0, 0, 0, time.UTC)}, SoftDeletes:models.SoftDeletes{DeletedAt:gorm.DeletedAt{Time:time.Date(1, time.January, 1, 0, 0, 0, 0, time.UTC), Valid:false}}}, got error invalid field found for struct github.com/Anzz-bot/DouYin_demo/app/models.Video's field Author: define a valid foreign key for relations or implement the Valuer/Scanner interface

2022/05/25 00:41:34 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 00:41:34 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[2.134ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 00:41:34 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.667ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/25 00:41:34 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 00:41:34 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.546ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 00:41:34 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.519ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/25 00:41:34 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[18.212ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/25 00:41:34 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[7.489ms] [rows:0] ALTER TABLE `users` MODIFY COLUMN `is_follow` boolean NOT NULL DEFAULT false COMMENT '是否关注'

2022/05/25 00:41:34 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 00:41:34 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.511ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 00:41:34 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.374ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/25 00:41:34 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[error] failed to parse value models.Video{ID:models.ID{ID:0x0}, Author:models.User{ID:models.ID{ID:0x0}, Name:"", Password:"", Token:"", FollowCount:0x0, FollowerCount:0x0, IsFollow:false, Timestamps:models.Timestamps{CreatedAt:time.Date(1, time.January, 1, 0, 0, 0, 0, time.UTC), UpdatedAt:time.Date(1, time.January, 1, 0, 0, 0, 0, time.UTC)}, SoftDeletes:models.SoftDeletes{DeletedAt:gorm.DeletedAt{Time:time.Date(1, time.January, 1, 0, 0, 0, 0, time.UTC), Valid:false}}}, PlayUrl:"", CoverUrl:"", FavoriteCount:0x0, CommentCount:0x0, IsFavorite:false, Timestamps:models.Timestamps{CreatedAt:time.Date(1, time.January, 1, 0, 0, 0, 0, time.UTC), UpdatedAt:time.Date(1, time.January, 1, 0, 0, 0, 0, time.UTC)}, SoftDeletes:models.SoftDeletes{DeletedAt:gorm.DeletedAt{Time:time.Date(1, time.January, 1, 0, 0, 0, 0, time.UTC), Valid:false}}}, got error invalid field found for struct github.com/Anzz-bot/DouYin_demo/app/models.Video's field Author: define a valid foreign key for relations or implement the Valuer/Scanner interface

2022/05/25 00:45:09 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 00:45:09 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.552ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 00:45:09 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.195ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/25 00:45:09 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 00:45:09 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.550ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 00:45:09 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.508ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/25 00:45:09 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[11.943ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/25 00:45:09 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[6.548ms] [rows:0] ALTER TABLE `users` MODIFY COLUMN `is_follow` boolean NOT NULL DEFAULT false COMMENT '是否关注'

2022/05/25 00:45:09 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 00:45:09 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.508ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 00:45:09 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.415ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/25 00:45:09 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.505ms] [rows:-] SELECT DATABASE()

2022/05/25 00:45:09 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.547ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 00:45:09 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[1.501ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND table_type = 'BASE TABLE'

2022/05/25 00:45:09 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117 Error 1075: Incorrect table definition; there can be only one auto column and it must be defined as a key
[0.505ms] [rows:0] CREATE TABLE `videos` (`id` bigint unsigned AUTO_INCREMENT,`author_id` bigint unsigned AUTO_INCREMENT,`author_name` varchar(191) NOT NULL COMMENT '用户名称',`author_password` varchar(191) NOT NULL DEFAULT '' COMMENT '用户密码',`author_token` varchar(191) NOT NULL COMMENT '鉴权token',`author_follow_count` bigint unsigned NOT NULL DEFAULT 0 COMMENT '关注总数',`author_follower_count` bigint unsigned NOT NULL DEFAULT 0 COMMENT '粉丝总数',`author_is_follow` boolean NOT NULL DEFAULT false COMMENT '是否关注',`author_created_at` datetime NULL,`author_updated_at` datetime NULL,`author_deleted_at` datetime NULL,`play_url` varchar(191) NOT NULL DEFAULT '' COMMENT '视频地址',`cover_url` varchar(191) NOT NULL DEFAULT '' COMMENT '封面地址',`favorite_count` bigint unsigned NOT NULL DEFAULT 0 COMMENT '点赞总数',`comment_count` bigint unsigned NOT NULL DEFAULT 0 COMMENT '评论总数',`is_favorite` boolean NOT NULL DEFAULT false COMMENT '是否点赞',`created_at` datetime NULL,`updated_at` datetime NULL,`deleted_at` datetime NULL,PRIMARY KEY (`id`,`author_id`),INDEX idx_videos_deleted_at (`author_deleted_at`,`deleted_at`))

2022/05/25 00:51:24 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 00:51:24 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.508ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 00:51:24 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/25 00:51:24 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 00:51:24 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.508ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 00:51:24 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/25 00:51:24 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[16.174ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/25 00:51:24 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[8.486ms] [rows:0] ALTER TABLE `users` MODIFY COLUMN `is_follow` boolean NOT NULL DEFAULT false COMMENT '是否关注'

2022/05/25 00:51:24 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 00:51:24 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.509ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 00:51:24 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/25 00:51:24 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.507ms] [rows:-] SELECT DATABASE()

2022/05/25 00:51:24 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.580ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 00:51:24 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.063ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND table_type = 'BASE TABLE'

2022/05/25 00:51:24 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[35.413ms] [rows:0] CREATE TABLE `videos` (`id` bigint unsigned AUTO_INCREMENT,`author_id` bigint unsigned NOT NULL COMMENT '作者id',`play_url` varchar(191) NOT NULL DEFAULT '' COMMENT '视频地址',`cover_url` varchar(191) NOT NULL DEFAULT '' COMMENT '封面地址',`favorite_count` bigint unsigned NOT NULL DEFAULT 0 COMMENT '点赞总数',`comment_count` bigint unsigned NOT NULL DEFAULT 0 COMMENT '评论总数',`is_favorite` boolean NOT NULL DEFAULT false COMMENT '是否点赞',`created_at` datetime NULL,`updated_at` datetime NULL,`deleted_at` datetime NULL,PRIMARY KEY (`id`),INDEX idx_videos_deleted_at (`deleted_at`))

2022/05/25 02:19:11 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.519ms] [rows:-] SELECT DATABASE()

2022/05/25 02:19:11 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.554ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 02:19:11 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/25 02:19:11 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.510ms] [rows:-] SELECT DATABASE()

2022/05/25 02:19:11 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.640ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 02:19:11 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/25 02:19:11 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[14.444ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/25 02:19:11 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[7.954ms] [rows:0] ALTER TABLE `users` MODIFY COLUMN `is_follow` boolean NOT NULL DEFAULT false COMMENT '是否关注'

2022/05/25 02:19:11 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.820ms] [rows:-] SELECT DATABASE()

2022/05/25 02:19:11 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.471ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 02:19:11 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.634ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/25 02:19:11 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.238ms] [rows:-] SELECT DATABASE()

2022/05/25 02:19:11 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.318ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 02:19:11 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.487ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND table_type = 'BASE TABLE'

2022/05/25 02:19:11 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 02:19:11 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.601ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 02:19:11 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `videos` LIMIT 1

2022/05/25 02:19:11 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[10.598ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'videos' ORDER BY ORDINAL_POSITION

2022/05/25 02:19:11 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[8.487ms] [rows:0] ALTER TABLE `videos` MODIFY COLUMN `is_favorite` boolean NOT NULL DEFAULT false COMMENT '是否点赞'

2022/05/25 02:19:11 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[1.038ms] [rows:-] SELECT DATABASE()

2022/05/25 02:19:11 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.510ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 02:19:11 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.408ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_deleted_at'

2022/05/25 02:20:12 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 02:20:12 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.723ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 02:20:12 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.513ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/25 02:20:12 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 02:20:12 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.563ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 02:20:12 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/25 02:20:12 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[10.035ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/25 02:20:13 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[9.485ms] [rows:0] ALTER TABLE `users` MODIFY COLUMN `is_follow` boolean NOT NULL DEFAULT false COMMENT '是否关注'

2022/05/25 02:20:13 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 02:20:13 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.512ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 02:20:13 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/25 02:20:13 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 02:20:13 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.036ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 02:20:13 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND table_type = 'BASE TABLE'

2022/05/25 02:20:13 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.511ms] [rows:-] SELECT DATABASE()

2022/05/25 02:20:13 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.580ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 02:20:13 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `videos` LIMIT 1

2022/05/25 02:20:13 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[10.489ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'videos' ORDER BY ORDINAL_POSITION

2022/05/25 02:20:13 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[8.494ms] [rows:0] ALTER TABLE `videos` MODIFY COLUMN `is_favorite` boolean NOT NULL DEFAULT false COMMENT '是否点赞'

2022/05/25 02:20:13 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 02:20:13 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.997ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 02:20:13 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_deleted_at'

2022/05/25 02:20:38 E:/summerByteDance/DouYin_demo/app/services/feed.go:30
[7.440ms] [rows:0] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '1970-01-01 08:00:00'
LIMIT 30;

2022/05/25 02:28:01 E:/summerByteDance/DouYin_demo/app/services/feed.go:30
[0.265ms] [rows:0] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '1970-01-01 08:00:00'
LIMIT 30;

2022/05/25 02:32:05 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.552ms] [rows:-] SELECT DATABASE()

2022/05/25 02:32:05 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.512ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 02:32:05 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/25 02:32:05 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 02:32:05 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.000ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 02:32:05 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/25 02:32:05 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[14.271ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/25 02:32:05 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[7.488ms] [rows:0] ALTER TABLE `users` MODIFY COLUMN `is_follow` boolean NOT NULL DEFAULT false COMMENT '是否关注'

2022/05/25 02:32:05 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 02:32:05 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.821ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 02:32:05 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/25 02:32:05 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.510ms] [rows:-] SELECT DATABASE()

2022/05/25 02:32:05 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.624ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 02:32:05 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND table_type = 'BASE TABLE'

2022/05/25 02:32:05 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.508ms] [rows:-] SELECT DATABASE()

2022/05/25 02:32:05 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.679ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 02:32:05 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `videos` LIMIT 1

2022/05/25 02:32:05 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[5.808ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'videos' ORDER BY ORDINAL_POSITION

2022/05/25 02:32:05 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[7.488ms] [rows:0] ALTER TABLE `videos` MODIFY COLUMN `is_favorite` boolean NOT NULL DEFAULT false COMMENT '是否点赞'

2022/05/25 02:32:05 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 02:32:05 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.052ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 02:32:05 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_deleted_at'

2022/05/25 02:32:10 E:/summerByteDance/DouYin_demo/app/services/feed.go:30
[0.519ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at > '1970-01-01 08:00:00'
LIMIT 30;

2022/05/25 02:32:10 E:/summerByteDance/DouYin_demo/app/services/feed.go:42
[0.711ms] [rows:1] SELECT created_at FROM videos WHERE id = 1

2022/05/25 02:32:11 E:/summerByteDance/DouYin_demo/app/services/feed.go:30
[0.579ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at > '1970-01-01 08:00:00'
LIMIT 30;

2022/05/25 02:32:11 E:/summerByteDance/DouYin_demo/app/services/feed.go:42
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 1

2022/05/25 02:32:11 E:/summerByteDance/DouYin_demo/app/services/feed.go:30
[0.000ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at > '1970-01-01 08:00:00'
LIMIT 30;

2022/05/25 02:32:11 E:/summerByteDance/DouYin_demo/app/services/feed.go:42
[0.554ms] [rows:1] SELECT created_at FROM videos WHERE id = 1

2022/05/25 02:38:51 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 02:38:51 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.509ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 02:38:51 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/25 02:38:51 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.509ms] [rows:-] SELECT DATABASE()

2022/05/25 02:38:51 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.109ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 02:38:51 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/25 02:38:51 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[10.284ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/25 02:38:51 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[6.493ms] [rows:0] ALTER TABLE `users` MODIFY COLUMN `is_follow` boolean NOT NULL DEFAULT false COMMENT '是否关注'

2022/05/25 02:38:51 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 02:38:51 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.000ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 02:38:51 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/25 02:38:51 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 02:38:51 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.709ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 02:38:51 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND table_type = 'BASE TABLE'

2022/05/25 02:38:51 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 02:38:51 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.700ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 02:38:51 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `videos` LIMIT 1

2022/05/25 02:38:51 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[5.747ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'videos' ORDER BY ORDINAL_POSITION

2022/05/25 02:38:51 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[7.405ms] [rows:0] ALTER TABLE `videos` MODIFY COLUMN `is_favorite` boolean NOT NULL DEFAULT false COMMENT '是否点赞'

2022/05/25 02:38:51 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 02:38:51 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.623ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 02:38:51 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.509ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_deleted_at'

2022/05/25 02:38:54 E:/summerByteDance/DouYin_demo/app/services/feed.go:29
[1.063ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 02:38:52.813'
LIMIT 30;

2022/05/25 02:38:54 E:/summerByteDance/DouYin_demo/app/services/feed.go:41
[0.562ms] [rows:1] SELECT created_at FROM videos WHERE id = 1

2022/05/25 02:38:54 E:/summerByteDance/DouYin_demo/app/services/feed.go:29
[0.517ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 02:38:52.964'
LIMIT 30;

2022/05/25 02:38:54 E:/summerByteDance/DouYin_demo/app/services/feed.go:41
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 1

2022/05/25 02:38:54 E:/summerByteDance/DouYin_demo/app/services/feed.go:29
[0.000ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 02:38:53.083'
LIMIT 30;

2022/05/25 02:38:54 E:/summerByteDance/DouYin_demo/app/services/feed.go:41
[0.710ms] [rows:1] SELECT created_at FROM videos WHERE id = 1

2022/05/25 02:39:32 E:/summerByteDance/DouYin_demo/app/services/feed.go:29
[0.696ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 02:39:30.534'
LIMIT 30;

2022/05/25 02:39:32 E:/summerByteDance/DouYin_demo/app/services/feed.go:41
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 1

2022/05/25 02:39:39 E:/summerByteDance/DouYin_demo/app/services/feed.go:29
[1.400ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 02:39:38.24'
LIMIT 30;

2022/05/25 02:39:39 E:/summerByteDance/DouYin_demo/app/services/feed.go:41
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 1

2022/05/25 02:44:37 E:/summerByteDance/DouYin_demo/app/services/feed.go:29
[1.276ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 02:44:35.584'
LIMIT 30;

2022/05/25 02:44:37 E:/summerByteDance/DouYin_demo/app/services/feed.go:41
[0.516ms] [rows:1] SELECT created_at FROM videos WHERE id = 1

2022/05/25 02:44:37 E:/summerByteDance/DouYin_demo/app/services/feed.go:29
[0.506ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 02:44:35.707'
LIMIT 30;

2022/05/25 02:44:37 E:/summerByteDance/DouYin_demo/app/services/feed.go:41
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 1

2022/05/25 02:44:37 E:/summerByteDance/DouYin_demo/app/services/feed.go:29
[0.421ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 02:44:35.995'
LIMIT 30;

2022/05/25 02:44:37 E:/summerByteDance/DouYin_demo/app/services/feed.go:41
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 1

2022/05/25 02:44:42 E:/summerByteDance/DouYin_demo/app/services/feed.go:29
[0.728ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 02:44:40.813'
LIMIT 30;

2022/05/25 02:44:42 E:/summerByteDance/DouYin_demo/app/services/feed.go:41
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 1

2022/05/25 02:44:42 E:/summerByteDance/DouYin_demo/app/services/feed.go:29
[1.261ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 02:44:41.069'
LIMIT 30;

2022/05/25 02:44:42 E:/summerByteDance/DouYin_demo/app/services/feed.go:41
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 1

2022/05/25 02:44:42 E:/summerByteDance/DouYin_demo/app/services/feed.go:29
[0.912ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 02:44:41.232'
LIMIT 30;

2022/05/25 02:44:42 E:/summerByteDance/DouYin_demo/app/services/feed.go:41
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 1

2022/05/25 02:44:53 E:/summerByteDance/DouYin_demo/app/services/feed.go:29
[0.025ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 02:44:51.716'
LIMIT 30;

2022/05/25 02:44:53 E:/summerByteDance/DouYin_demo/app/services/feed.go:41
[0.549ms] [rows:1] SELECT created_at FROM videos WHERE id = 1

2022/05/25 02:44:53 E:/summerByteDance/DouYin_demo/app/services/feed.go:29
[0.000ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 02:44:51.877'
LIMIT 30;

2022/05/25 02:44:53 E:/summerByteDance/DouYin_demo/app/services/feed.go:41
[0.917ms] [rows:1] SELECT created_at FROM videos WHERE id = 1

2022/05/25 02:44:53 E:/summerByteDance/DouYin_demo/app/services/feed.go:29
[0.376ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 02:44:52.024'
LIMIT 30;

2022/05/25 02:44:53 E:/summerByteDance/DouYin_demo/app/services/feed.go:41
[0.540ms] [rows:1] SELECT created_at FROM videos WHERE id = 1

2022/05/25 02:46:42 E:/summerByteDance/DouYin_demo/app/services/feed.go:29
[0.358ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 02:44:52.024'
LIMIT 30;

2022/05/25 02:46:42 E:/summerByteDance/DouYin_demo/app/services/feed.go:41
[0.662ms] [rows:1] SELECT created_at FROM videos WHERE id = 1

2022/05/25 02:47:02 E:/summerByteDance/DouYin_demo/app/services/feed.go:29
[0.000ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 02:44:52.024'
LIMIT 30;

2022/05/25 02:47:02 E:/summerByteDance/DouYin_demo/app/services/feed.go:41
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 1

2022/05/25 09:53:24 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 09:53:24 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[4.202ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 09:53:24 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[2.123ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/25 09:53:24 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 09:53:24 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.668ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 09:53:24 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.511ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/25 09:53:24 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[24.856ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/25 09:53:24 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[19.946ms] [rows:0] ALTER TABLE `users` MODIFY COLUMN `is_follow` boolean NOT NULL DEFAULT false COMMENT '是否关注'

2022/05/25 09:53:24 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 09:53:24 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.213ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 09:53:24 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.520ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/25 09:53:24 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 09:53:24 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.427ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 09:53:24 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.524ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND table_type = 'BASE TABLE'

2022/05/25 09:53:24 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 09:53:24 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.515ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 09:53:24 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `videos` LIMIT 1

2022/05/25 09:53:24 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[11.115ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'videos' ORDER BY ORDINAL_POSITION

2022/05/25 09:53:24 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[14.477ms] [rows:0] ALTER TABLE `videos` MODIFY COLUMN `is_favorite` boolean NOT NULL DEFAULT false COMMENT '是否点赞'

2022/05/25 09:53:24 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 09:53:24 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.459ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 09:53:24 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.674ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_deleted_at'

2022/05/25 09:53:27 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[1.108ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 09:53:25.475'
LIMIT 30;

2022/05/25 09:53:27 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.599ms] [rows:1] SELECT created_at FROM videos WHERE id = 1

2022/05/25 09:53:27 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.818ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 09:53:25.667'
LIMIT 30;

2022/05/25 09:53:27 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 1

2022/05/25 09:53:27 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[1.309ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 09:53:25.896'
LIMIT 30;

2022/05/25 09:53:27 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.512ms] [rows:1] SELECT created_at FROM videos WHERE id = 1

2022/05/25 09:53:41 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.970ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 09:53:40.041'
LIMIT 30;

2022/05/25 09:53:41 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 1

2022/05/25 09:54:02 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[1.626ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 09:54:02 E:/summerByteDance/DouYin_demo/app/services/user.go:47
[0.524ms] [rows:1] SELECT * FROM `users` WHERE `users`.`id` = 1 AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 09:54:08 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.851ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 09:54:07.061'
LIMIT 30;

2022/05/25 09:54:08 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 1

2022/05/25 09:54:12 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[1.189ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 09:54:10.984'
LIMIT 30;

2022/05/25 09:54:12 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 1

2022/05/25 09:54:12 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[1.268ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 09:54:11.1'
LIMIT 30;

2022/05/25 09:54:12 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.516ms] [rows:1] SELECT created_at FROM videos WHERE id = 1

2022/05/25 09:54:12 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.609ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 09:54:11.201'
LIMIT 30;

2022/05/25 09:54:12 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 1

2022/05/25 09:54:29 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.516ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 09:54:28.208'
LIMIT 30;

2022/05/25 09:54:29 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 1

2022/05/25 09:54:31 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.888ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 09:54:29.723'
LIMIT 30;

2022/05/25 09:54:31 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.688ms] [rows:1] SELECT created_at FROM videos WHERE id = 1

2022/05/25 09:54:34 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.085ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 09:54:32.857'
LIMIT 30;

2022/05/25 09:54:34 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.056ms] [rows:1] SELECT created_at FROM videos WHERE id = 1

2022/05/25 09:54:39 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.500ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 09:54:37.841'
LIMIT 30;

2022/05/25 09:54:39 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 1

2022/05/25 09:54:40 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.720ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 09:54:38.89'
LIMIT 30;

2022/05/25 09:54:40 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 1

2022/05/25 09:55:01 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.524ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 02:44:52.024'
LIMIT 30;

2022/05/25 09:55:01 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.013ms] [rows:1] SELECT created_at FROM videos WHERE id = 1

2022/05/25 09:55:50 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.517ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 02:44:52.024'
LIMIT 30;

2022/05/25 09:55:50 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 1

2022/05/25 09:55:55 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.844ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 09:55:53.89'
LIMIT 30;

2022/05/25 09:55:55 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 1

2022/05/25 09:56:11 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[1.353ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 09:56:09.793'
LIMIT 30;

2022/05/25 09:56:11 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.605ms] [rows:1] SELECT created_at FROM videos WHERE id = 1

2022/05/25 09:56:11 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.669ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 09:56:10.123'
LIMIT 30;

2022/05/25 09:56:11 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.566ms] [rows:1] SELECT created_at FROM videos WHERE id = 1

2022/05/25 09:56:12 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.941ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 09:56:10.326'
LIMIT 30;

2022/05/25 09:56:12 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 1

2022/05/25 09:57:27 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 09:57:27 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.559ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 09:57:27 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/25 09:57:27 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 09:57:27 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.611ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 09:57:27 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.509ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/25 09:57:27 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[17.539ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/25 09:57:27 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[10.485ms] [rows:0] ALTER TABLE `users` MODIFY COLUMN `is_follow` boolean NOT NULL DEFAULT false COMMENT '是否关注'

2022/05/25 09:57:27 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 09:57:27 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.013ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 09:57:27 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/25 09:57:27 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 09:57:27 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.710ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 09:57:27 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND table_type = 'BASE TABLE'

2022/05/25 09:57:27 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 09:57:27 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.147ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 09:57:27 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `videos` LIMIT 1

2022/05/25 09:57:27 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[9.248ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'videos' ORDER BY ORDINAL_POSITION

2022/05/25 09:57:27 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[10.992ms] [rows:0] ALTER TABLE `videos` MODIFY COLUMN `is_favorite` boolean NOT NULL DEFAULT false COMMENT '是否点赞'

2022/05/25 09:57:27 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 09:57:27 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.997ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 09:57:27 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.997ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_deleted_at'

2022/05/25 09:57:29 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.744ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 09:57:27.975'
LIMIT 30;

2022/05/25 09:57:29 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.600ms] [rows:1] SELECT created_at FROM videos WHERE id = 1

2022/05/25 09:57:29 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.000ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 09:57:28.098'
LIMIT 30;

2022/05/25 09:57:29 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 1

2022/05/25 09:57:29 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.485ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 09:57:28.224'
LIMIT 30;

2022/05/25 09:57:29 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.510ms] [rows:1] SELECT created_at FROM videos WHERE id = 1

2022/05/25 09:57:45 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.333ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 09:57:43.284'
LIMIT 30;

2022/05/25 09:57:45 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 1

2022/05/25 09:57:45 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.974ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 09:57:43.641'
LIMIT 30;

2022/05/25 09:57:45 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 1

2022/05/25 09:57:45 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.056ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 09:57:43.829'
LIMIT 30;

2022/05/25 09:57:45 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.529ms] [rows:1] SELECT created_at FROM videos WHERE id = 1

2022/05/25 09:57:53 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[1.110ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 09:57:52.081'
LIMIT 30;

2022/05/25 09:57:53 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.512ms] [rows:1] SELECT created_at FROM videos WHERE id = 1

2022/05/25 09:57:54 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.675ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 09:57:52.443'
LIMIT 30;

2022/05/25 09:57:54 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.562ms] [rows:1] SELECT created_at FROM videos WHERE id = 1

2022/05/25 09:57:54 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[1.381ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 09:57:52.672'
LIMIT 30;

2022/05/25 09:57:54 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 1

2022/05/25 09:58:17 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.000ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 09:58:15.679'
LIMIT 30;

2022/05/25 09:58:17 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.998ms] [rows:1] SELECT created_at FROM videos WHERE id = 1

2022/05/25 09:58:17 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.322ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 09:58:16.222'
LIMIT 30;

2022/05/25 09:58:17 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.515ms] [rows:1] SELECT created_at FROM videos WHERE id = 1

2022/05/25 09:58:18 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.436ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 09:58:16.29'
LIMIT 30;

2022/05/25 09:58:18 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.010ms] [rows:1] SELECT created_at FROM videos WHERE id = 1

2022/05/25 09:59:28 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.000ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 09:59:26.271'
LIMIT 30;

2022/05/25 09:59:28 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 1

2022/05/25 09:59:28 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[1.179ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 09:59:26.65'
LIMIT 30;

2022/05/25 09:59:28 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 1

2022/05/25 09:59:28 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[1.056ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 09:59:26.864'
LIMIT 30;

2022/05/25 09:59:28 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.351ms] [rows:1] SELECT created_at FROM videos WHERE id = 1

2022/05/25 10:02:07 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.850ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 10:02:05.458'
LIMIT 30;

2022/05/25 10:02:07 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 1

2022/05/25 10:02:07 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.604ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 10:02:05.915'
LIMIT 30;

2022/05/25 10:02:07 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.522ms] [rows:1] SELECT created_at FROM videos WHERE id = 1

2022/05/25 10:02:07 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.517ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 10:02:06.145'
LIMIT 30;

2022/05/25 10:02:07 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 1

2022/05/25 10:02:23 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.944ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 10:02:21.757'
LIMIT 30;

2022/05/25 10:02:23 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 1

2022/05/25 10:02:23 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.907ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 10:02:22.005'
LIMIT 30;

2022/05/25 10:02:23 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 1

2022/05/25 10:02:23 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.525ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 10:02:22.272'
LIMIT 30;

2022/05/25 10:02:23 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 1

2022/05/25 10:02:39 E:/summerByteDance/DouYin_demo/app/services/user.go:24 record not found
[1.171ms] [rows:0] SELECT `id` FROM `users` WHERE name = 'hxl66266' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 10:02:39 E:/summerByteDance/DouYin_demo/app/services/user.go:31
[5.659ms] [rows:1] INSERT INTO `users` (`name`,`password`,`token`,`follow_count`,`follower_count`,`is_follow`,`created_at`,`updated_at`,`deleted_at`) VALUES ('hxl66266','$2a$04$VhHRy4Za9E06LwxzITkvcuaTKGZt7xHI4j7gZIOepR6Et6BlH49qm','',0,0,false,'2022-05-25 10:02:39.785','2022-05-25 10:02:39.785',NULL)

2022/05/25 10:02:40 E:/summerByteDance/DouYin_demo/app/services/user.go:47
[0.605ms] [rows:1] SELECT * FROM `users` WHERE `users`.`id` = 2 AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 10:10:03 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.510ms] [rows:-] SELECT DATABASE()

2022/05/25 10:10:03 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.161ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 10:10:03 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/25 10:10:03 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 10:10:03 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.905ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 10:10:03 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.511ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/25 10:10:03 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[17.520ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/25 10:10:03 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[17.953ms] [rows:0] ALTER TABLE `users` MODIFY COLUMN `is_follow` boolean NOT NULL DEFAULT false COMMENT '是否关注'

2022/05/25 10:10:03 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 10:10:03 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.824ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 10:10:03 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/25 10:10:03 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 10:10:03 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.516ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 10:10:03 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND table_type = 'BASE TABLE'

2022/05/25 10:10:03 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 10:10:03 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.326ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 10:10:03 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `videos` LIMIT 1

2022/05/25 10:10:03 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[8.930ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'videos' ORDER BY ORDINAL_POSITION

2022/05/25 10:10:03 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[17.593ms] [rows:0] ALTER TABLE `videos` MODIFY COLUMN `is_favorite` boolean NOT NULL DEFAULT false COMMENT '是否点赞'

2022/05/25 10:10:03 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 10:10:03 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.113ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 10:10:03 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_deleted_at'

2022/05/25 10:17:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 10:17:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.504ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 10:17:36 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/25 10:17:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.505ms] [rows:-] SELECT DATABASE()

2022/05/25 10:17:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.504ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 10:17:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/25 10:17:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[9.858ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/25 10:17:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[7.980ms] [rows:0] ALTER TABLE `users` MODIFY COLUMN `is_follow` boolean NOT NULL DEFAULT false COMMENT '是否关注'

2022/05/25 10:17:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.797ms] [rows:-] SELECT DATABASE()

2022/05/25 10:17:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.514ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 10:17:36 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/25 10:17:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 10:17:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.492ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 10:17:36 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.590ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND table_type = 'BASE TABLE'

2022/05/25 10:17:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.193ms] [rows:-] SELECT DATABASE()

2022/05/25 10:17:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.885ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 10:17:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `videos` LIMIT 1

2022/05/25 10:17:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[6.926ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'videos' ORDER BY ORDINAL_POSITION

2022/05/25 10:17:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[7.005ms] [rows:0] ALTER TABLE `videos` MODIFY COLUMN `is_favorite` boolean NOT NULL DEFAULT false COMMENT '是否点赞'

2022/05/25 10:17:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.670ms] [rows:-] SELECT DATABASE()

2022/05/25 10:17:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.630ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 10:17:36 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.556ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_deleted_at'

2022/05/25 10:17:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.322ms] [rows:-] SELECT DATABASE()

2022/05/25 10:17:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.260ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 10:17:36 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[1.552ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND table_type = 'BASE TABLE'

2022/05/25 10:17:36 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[42.964ms] [rows:0] CREATE TABLE `comments` (`id` bigint unsigned AUTO_INCREMENT,`user_id` bigint unsigned,`video_id` bigint unsigned,`comment_text` varchar(191),`created_at` datetime NULL,`updated_at` datetime NULL,`deleted_at` datetime NULL,PRIMARY KEY (`id`),INDEX idx_comments_deleted_at (`deleted_at`))

2022/05/25 10:17:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.424ms] [rows:-] SELECT DATABASE()

2022/05/25 10:17:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.171ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 10:17:36 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[1.155ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND table_type = 'BASE TABLE'

2022/05/25 10:17:36 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[40.305ms] [rows:0] CREATE TABLE `favorites` (`id` bigint unsigned AUTO_INCREMENT,`user_id` bigint unsigned,`video_id` bigint unsigned,`created_at` datetime NULL,`updated_at` datetime NULL,`deleted_at` datetime NULL,PRIMARY KEY (`id`),INDEX idx_favorites_deleted_at (`deleted_at`))

2022/05/25 10:17:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.097ms] [rows:-] SELECT DATABASE()

2022/05/25 10:17:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.349ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 10:17:36 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[1.098ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND table_type = 'BASE TABLE'

2022/05/25 10:17:36 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[47.218ms] [rows:0] CREATE TABLE `relations` (`id` bigint unsigned AUTO_INCREMENT,`user_id` bigint unsigned,`follow_id` bigint unsigned,`created_at` datetime NULL,`updated_at` datetime NULL,`deleted_at` datetime NULL,PRIMARY KEY (`id`),INDEX idx_relations_deleted_at (`deleted_at`))

2022/05/25 10:22:59 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.069ms] [rows:-] SELECT DATABASE()

2022/05/25 10:22:59 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.593ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 10:22:59 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/25 10:22:59 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 10:22:59 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.869ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 10:22:59 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/25 10:22:59 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[12.685ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/25 10:22:59 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[7.489ms] [rows:0] ALTER TABLE `users` MODIFY COLUMN `is_follow` boolean NOT NULL DEFAULT false COMMENT '是否关注'

2022/05/25 10:22:59 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 10:22:59 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.513ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 10:22:59 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.461ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/25 10:22:59 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.512ms] [rows:-] SELECT DATABASE()

2022/05/25 10:22:59 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.064ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 10:22:59 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.032ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND table_type = 'BASE TABLE'

2022/05/25 10:22:59 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 10:22:59 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.642ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 10:22:59 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.509ms] [rows:-] SELECT * FROM `videos` LIMIT 1

2022/05/25 10:22:59 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[5.582ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'videos' ORDER BY ORDINAL_POSITION

2022/05/25 10:22:59 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[7.490ms] [rows:0] ALTER TABLE `videos` MODIFY COLUMN `is_favorite` boolean NOT NULL DEFAULT false COMMENT '是否点赞'

2022/05/25 10:22:59 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 10:22:59 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.512ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 10:22:59 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.545ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_deleted_at'

2022/05/25 10:22:59 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 10:22:59 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.553ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 10:22:59 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[1.161ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND table_type = 'BASE TABLE'

2022/05/25 10:22:59 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.220ms] [rows:-] SELECT DATABASE()

2022/05/25 10:22:59 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.553ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 10:22:59 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `comments` LIMIT 1

2022/05/25 10:22:59 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[10.774ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'comments' ORDER BY ORDINAL_POSITION

2022/05/25 10:22:59 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 10:22:59 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.510ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 10:22:59 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.673ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND index_name = 'idx_comments_deleted_at'

2022/05/25 10:22:59 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.080ms] [rows:-] SELECT DATABASE()

2022/05/25 10:22:59 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.666ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 10:22:59 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.259ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND table_type = 'BASE TABLE'

2022/05/25 10:22:59 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.311ms] [rows:-] SELECT DATABASE()

2022/05/25 10:22:59 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.509ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 10:22:59 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.511ms] [rows:-] SELECT * FROM `favorites` LIMIT 1

2022/05/25 10:22:59 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[10.625ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' ORDER BY ORDINAL_POSITION

2022/05/25 10:22:59 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 10:22:59 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.508ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 10:22:59 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.490ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND index_name = 'idx_favorites_deleted_at'

2022/05/25 10:22:59 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 10:22:59 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.025ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 10:22:59 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.157ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND table_type = 'BASE TABLE'

2022/05/25 10:22:59 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 10:22:59 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.682ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 10:22:59 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.509ms] [rows:-] SELECT * FROM `relations` LIMIT 1

2022/05/25 10:22:59 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[9.253ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'relations' ORDER BY ORDINAL_POSITION

2022/05/25 10:22:59 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 10:22:59 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.514ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 10:22:59 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND index_name = 'idx_relations_deleted_at'

2022/05/25 10:30:15 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.510ms] [rows:-] SELECT DATABASE()

2022/05/25 10:30:15 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.377ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 10:30:15 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/25 10:30:15 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.508ms] [rows:-] SELECT DATABASE()

2022/05/25 10:30:15 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.655ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 10:30:15 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.094ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/25 10:30:15 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[11.867ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/25 10:30:15 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[7.368ms] [rows:0] ALTER TABLE `users` MODIFY COLUMN `is_follow` boolean NOT NULL DEFAULT false COMMENT '是否关注'

2022/05/25 10:30:15 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 10:30:15 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.512ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 10:30:15 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.427ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/25 10:30:15 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 10:30:15 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.510ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 10:30:15 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.122ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND table_type = 'BASE TABLE'

2022/05/25 10:30:15 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 10:30:15 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.639ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 10:30:15 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.341ms] [rows:-] SELECT * FROM `videos` LIMIT 1

2022/05/25 10:30:15 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[6.490ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'videos' ORDER BY ORDINAL_POSITION

2022/05/25 10:30:15 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[11.478ms] [rows:0] ALTER TABLE `videos` MODIFY COLUMN `is_favorite` boolean NOT NULL DEFAULT false COMMENT '是否点赞'

2022/05/25 10:30:15 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 10:30:15 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.816ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 10:30:15 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_deleted_at'

2022/05/25 10:30:15 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.507ms] [rows:-] SELECT DATABASE()

2022/05/25 10:30:15 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.574ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 10:30:15 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.881ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND table_type = 'BASE TABLE'

2022/05/25 10:30:15 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.117ms] [rows:-] SELECT DATABASE()

2022/05/25 10:30:15 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.544ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 10:30:15 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.196ms] [rows:-] SELECT * FROM `comments` LIMIT 1

2022/05/25 10:30:15 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[6.290ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'comments' ORDER BY ORDINAL_POSITION

2022/05/25 10:30:15 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 10:30:15 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.510ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 10:30:15 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND index_name = 'idx_comments_deleted_at'

2022/05/25 10:30:15 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.508ms] [rows:-] SELECT DATABASE()

2022/05/25 10:30:15 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.600ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 10:30:15 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND table_type = 'BASE TABLE'

2022/05/25 10:30:15 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.507ms] [rows:-] SELECT DATABASE()

2022/05/25 10:30:15 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.663ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 10:30:15 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `favorites` LIMIT 1

2022/05/25 10:30:15 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[4.666ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' ORDER BY ORDINAL_POSITION

2022/05/25 10:30:15 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 10:30:15 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.517ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 10:30:15 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.611ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND index_name = 'idx_favorites_deleted_at'

2022/05/25 10:30:15 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 10:30:15 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.506ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 10:30:15 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.398ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND table_type = 'BASE TABLE'

2022/05/25 10:30:15 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 10:30:15 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.010ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 10:30:15 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.061ms] [rows:-] SELECT * FROM `relations` LIMIT 1

2022/05/25 10:30:15 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[6.863ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'relations' ORDER BY ORDINAL_POSITION

2022/05/25 10:30:15 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 10:30:15 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.697ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 10:30:15 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND index_name = 'idx_relations_deleted_at'

2022/05/25 10:30:47 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[1.370ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 10:30:45.786'
LIMIT 30;

2022/05/25 10:30:47 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.608ms] [rows:1] SELECT created_at FROM videos WHERE id = 1

2022/05/25 10:30:47 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.877ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 10:30:46.088'
LIMIT 30;

2022/05/25 10:30:47 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.712ms] [rows:1] SELECT created_at FROM videos WHERE id = 1

2022/05/25 10:30:47 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.376ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 10:30:47 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.000ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 10:30:47 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.642ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 10:30:47 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.909ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 10:30:46.272'
LIMIT 30;

2022/05/25 10:30:47 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 1

2022/05/25 10:30:47 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[7.825ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 10:31:06 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[1.093ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 10:31:06 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.000ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 10:31:14 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.927ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 10:31:14 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.144ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 10:31:30 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.690ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 10:31:28.772'
LIMIT 30;

2022/05/25 10:31:30 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 1

2022/05/25 10:31:30 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[1.092ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 10:31:30 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.439ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 10:31:30 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[1.956ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 10:31:29.01'
LIMIT 30;

2022/05/25 10:31:30 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.513ms] [rows:1] SELECT created_at FROM videos WHERE id = 1

2022/05/25 10:31:30 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.000ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 10:31:30 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.993ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 10:31:30 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[1.553ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 10:31:29.118'
LIMIT 30;

2022/05/25 10:31:30 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 1

2022/05/25 10:32:12 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.115ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 10:32:11.426'
LIMIT 30;

2022/05/25 10:32:12 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.130ms] [rows:1] SELECT created_at FROM videos WHERE id = 1

2022/05/25 10:32:12 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.731ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 10:32:11.755'
LIMIT 30;

2022/05/25 10:32:12 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 1

2022/05/25 10:32:12 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.000ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 10:32:12 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.000ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 10:32:13 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.265ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 10:32:13 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.000ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 10:32:13 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.117ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 10:32:11.992'
LIMIT 30;

2022/05/25 10:32:13 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.543ms] [rows:1] SELECT created_at FROM videos WHERE id = 1

2022/05/25 10:32:20 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.528ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 10:32:20 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[1.257ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 10:32:38 E:/summerByteDance/DouYin_demo/app/services/user.go:24 record not found
[0.928ms] [rows:0] SELECT `id` FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 10:32:38 E:/summerByteDance/DouYin_demo/app/services/user.go:31
[12.031ms] [rows:1] INSERT INTO `users` (`name`,`password`,`token`,`follow_count`,`follower_count`,`is_follow`,`created_at`,`updated_at`,`deleted_at`) VALUES ('','$2a$04$f3sNmPEB8rgjNva71qJ5/.zmSU2IlcmCvi7jAali6scZJk5lq2w7y','',0,0,false,'2022-05-25 10:32:38.925','2022-05-25 10:32:38.925',NULL)

2022/05/25 10:33:26 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[0.136ms] [rows:1] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 10:33:26 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[0.251ms] [rows:1] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 14:47:57 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.504ms] [rows:-] SELECT DATABASE()

2022/05/25 14:47:58 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[29.413ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 14:47:58 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[1.392ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/25 14:47:58 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[4.537ms] [rows:-] SELECT DATABASE()

2022/05/25 14:47:58 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.387ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 14:47:58 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[16.161ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/25 14:47:58 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[11.212ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/25 14:47:58 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[0.546ms] [rows:0] ALTER TABLE `users` MODIFY COLUMN `is_follow` boolean NOT NULL DEFAULT false COMMENT '是否关注'

2022/05/25 14:47:58 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 14:47:58 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.018ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 14:47:58 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/25 14:47:58 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 14:47:58 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.074ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 14:47:58 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.506ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND table_type = 'BASE TABLE'

2022/05/25 14:47:58 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[4.236ms] [rows:-] SELECT DATABASE()

2022/05/25 14:47:58 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.765ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 14:47:58 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.503ms] [rows:-] SELECT * FROM `videos` LIMIT 1

2022/05/25 14:47:58 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[7.913ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'videos' ORDER BY ORDINAL_POSITION

2022/05/25 14:47:58 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[0.506ms] [rows:0] ALTER TABLE `videos` MODIFY COLUMN `is_favorite` boolean NOT NULL DEFAULT false COMMENT '是否点赞'

2022/05/25 14:47:58 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[57.837ms] [rows:0] ALTER TABLE `videos` ADD `disk_type` varchar(20) NOT NULL COMMENT '存储类型'

2022/05/25 14:47:58 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[55.882ms] [rows:0] ALTER TABLE `videos` ADD `src_type` tinyint NOT NULL COMMENT '链接类型 1相对路径 2外链'

2022/05/25 14:47:58 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.092ms] [rows:-] SELECT DATABASE()

2022/05/25 14:47:58 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.694ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 14:47:58 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_disk_type'

2022/05/25 14:47:58 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[16.369ms] [rows:0] CREATE INDEX `idx_videos_disk_type` ON `videos`(`disk_type`)

2022/05/25 14:47:58 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[6.164ms] [rows:-] SELECT DATABASE()

2022/05/25 14:47:58 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.508ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 14:47:58 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_deleted_at'

2022/05/25 14:47:58 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 14:47:58 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.702ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 14:47:58 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.852ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND table_type = 'BASE TABLE'

2022/05/25 14:47:58 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[3.841ms] [rows:-] SELECT DATABASE()

2022/05/25 14:47:58 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.539ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 14:47:58 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.727ms] [rows:-] SELECT * FROM `comments` LIMIT 1

2022/05/25 14:47:58 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[2.801ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'comments' ORDER BY ORDINAL_POSITION

2022/05/25 14:47:58 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.094ms] [rows:-] SELECT DATABASE()

2022/05/25 14:47:58 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.674ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 14:47:58 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND index_name = 'idx_comments_deleted_at'

2022/05/25 14:47:58 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 14:47:58 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.717ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 14:47:58 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.854ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND table_type = 'BASE TABLE'

2022/05/25 14:47:58 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[3.716ms] [rows:-] SELECT DATABASE()

2022/05/25 14:47:58 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.504ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 14:47:58 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.809ms] [rows:-] SELECT * FROM `favorites` LIMIT 1

2022/05/25 14:47:58 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[2.832ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' ORDER BY ORDINAL_POSITION

2022/05/25 14:47:58 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 14:47:58 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.504ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 14:47:58 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.437ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND index_name = 'idx_favorites_deleted_at'

2022/05/25 14:47:58 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 14:47:58 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.771ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 14:47:58 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.857ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND table_type = 'BASE TABLE'

2022/05/25 14:47:58 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[3.868ms] [rows:-] SELECT DATABASE()

2022/05/25 14:47:58 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.505ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 14:47:58 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.510ms] [rows:-] SELECT * FROM `relations` LIMIT 1

2022/05/25 14:47:58 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[2.680ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'relations' ORDER BY ORDINAL_POSITION

2022/05/25 14:47:58 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 14:47:58 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.505ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 14:47:58 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.752ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND index_name = 'idx_relations_deleted_at'

2022/05/25 14:48:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 14:48:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.827ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 14:48:19 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/25 14:48:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 14:48:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.000ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 14:48:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/25 14:48:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[6.244ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/25 14:48:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[0.505ms] [rows:0] ALTER TABLE `users` MODIFY COLUMN `is_follow` boolean NOT NULL DEFAULT false COMMENT '是否关注'

2022/05/25 14:48:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[7.408ms] [rows:-] SELECT DATABASE()

2022/05/25 14:48:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.195ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 14:48:19 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.894ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/25 14:48:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.159ms] [rows:-] SELECT DATABASE()

2022/05/25 14:48:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.504ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 14:48:19 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.468ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND table_type = 'BASE TABLE'

2022/05/25 14:48:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 14:48:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.600ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 14:48:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `videos` LIMIT 1

2022/05/25 14:48:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[2.110ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'videos' ORDER BY ORDINAL_POSITION

2022/05/25 14:48:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[0.506ms] [rows:0] ALTER TABLE `videos` MODIFY COLUMN `is_favorite` boolean NOT NULL DEFAULT false COMMENT '是否点赞'

2022/05/25 14:48:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.104ms] [rows:-] SELECT DATABASE()

2022/05/25 14:48:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.504ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 14:48:19 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_disk_type'

2022/05/25 14:48:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 14:48:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.503ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 14:48:19 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.345ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_deleted_at'

2022/05/25 14:48:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 14:48:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.604ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 14:48:19 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.399ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND table_type = 'BASE TABLE'

2022/05/25 14:48:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 14:48:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.673ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 14:48:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `comments` LIMIT 1

2022/05/25 14:48:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[2.916ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'comments' ORDER BY ORDINAL_POSITION

2022/05/25 14:48:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 14:48:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.504ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 14:48:19 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.547ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND index_name = 'idx_comments_deleted_at'

2022/05/25 14:48:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 14:48:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.503ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 14:48:19 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.582ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND table_type = 'BASE TABLE'

2022/05/25 14:48:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 14:48:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.504ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 14:48:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.059ms] [rows:-] SELECT * FROM `favorites` LIMIT 1

2022/05/25 14:48:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[2.362ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' ORDER BY ORDINAL_POSITION

2022/05/25 14:48:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 14:48:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.517ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 14:48:19 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.010ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND index_name = 'idx_favorites_deleted_at'

2022/05/25 14:48:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 14:48:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.585ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 14:48:19 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND table_type = 'BASE TABLE'

2022/05/25 14:48:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 14:48:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.617ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 14:48:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `relations` LIMIT 1

2022/05/25 14:48:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[2.466ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'relations' ORDER BY ORDINAL_POSITION

2022/05/25 14:48:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 14:48:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.505ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 14:48:19 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.264ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND index_name = 'idx_relations_deleted_at'

2022/05/25 15:06:56 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 15:06:56 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.508ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 15:06:56 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/25 15:06:56 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.092ms] [rows:-] SELECT DATABASE()

2022/05/25 15:06:56 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.682ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 15:06:56 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/25 15:06:56 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[12.936ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/25 15:06:56 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[8.487ms] [rows:0] ALTER TABLE `users` MODIFY COLUMN `is_follow` boolean NOT NULL DEFAULT false COMMENT '是否关注'

2022/05/25 15:06:56 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.566ms] [rows:-] SELECT DATABASE()

2022/05/25 15:06:56 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.369ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 15:06:56 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.665ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/25 15:06:56 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.241ms] [rows:-] SELECT DATABASE()

2022/05/25 15:06:56 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.277ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 15:06:56 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.547ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND table_type = 'BASE TABLE'

2022/05/25 15:06:56 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 15:06:56 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.882ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 15:06:56 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `videos` LIMIT 1

2022/05/25 15:06:56 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[4.605ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'videos' ORDER BY ORDINAL_POSITION

2022/05/25 15:06:56 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[6.997ms] [rows:0] ALTER TABLE `videos` MODIFY COLUMN `is_favorite` boolean NOT NULL DEFAULT false COMMENT '是否点赞'

2022/05/25 15:06:56 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 15:06:56 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.512ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 15:06:56 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.640ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_disk_type'

2022/05/25 15:06:56 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.237ms] [rows:-] SELECT DATABASE()

2022/05/25 15:06:56 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.737ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 15:06:56 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_deleted_at'

2022/05/25 15:06:56 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 15:06:56 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.525ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 15:06:56 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.550ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND table_type = 'BASE TABLE'

2022/05/25 15:06:56 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 15:06:56 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.661ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 15:06:56 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `comments` LIMIT 1

2022/05/25 15:06:56 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[9.517ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'comments' ORDER BY ORDINAL_POSITION

2022/05/25 15:06:56 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 15:06:56 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.510ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 15:06:56 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.701ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND index_name = 'idx_comments_deleted_at'

2022/05/25 15:06:56 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.253ms] [rows:-] SELECT DATABASE()

2022/05/25 15:06:56 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.343ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 15:06:56 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.536ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND table_type = 'BASE TABLE'

2022/05/25 15:06:56 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 15:06:56 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.920ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 15:06:56 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `favorites` LIMIT 1

2022/05/25 15:06:56 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[4.553ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' ORDER BY ORDINAL_POSITION

2022/05/25 15:06:56 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 15:06:56 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.005ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 15:06:56 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.620ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND index_name = 'idx_favorites_deleted_at'

2022/05/25 15:06:56 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 15:06:56 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.678ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 15:06:56 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND table_type = 'BASE TABLE'

2022/05/25 15:06:56 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 15:06:56 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.511ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 15:06:56 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `relations` LIMIT 1

2022/05/25 15:06:56 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[8.211ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'relations' ORDER BY ORDINAL_POSITION

2022/05/25 15:06:56 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 15:06:56 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.555ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 15:06:56 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.601ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND index_name = 'idx_relations_deleted_at'

2022/05/25 15:19:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 15:19:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.174ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 15:19:19 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.512ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/25 15:19:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 15:19:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.041ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 15:19:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/25 15:19:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[10.352ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/25 15:19:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[8.487ms] [rows:0] ALTER TABLE `users` MODIFY COLUMN `is_follow` boolean NOT NULL DEFAULT false COMMENT '是否关注'

2022/05/25 15:19:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 15:19:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.983ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 15:19:19 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/25 15:19:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.046ms] [rows:-] SELECT DATABASE()

2022/05/25 15:19:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.590ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 15:19:19 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND table_type = 'BASE TABLE'

2022/05/25 15:19:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 15:19:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.891ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 15:19:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `videos` LIMIT 1

2022/05/25 15:19:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[5.784ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'videos' ORDER BY ORDINAL_POSITION

2022/05/25 15:19:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[9.974ms] [rows:0] ALTER TABLE `videos` MODIFY COLUMN `is_favorite` boolean NOT NULL DEFAULT false COMMENT '是否点赞'

2022/05/25 15:19:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 15:19:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.997ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 15:19:19 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_deleted_at'

2022/05/25 15:19:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 15:19:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.467ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 15:19:19 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_disk_type'

2022/05/25 15:19:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 15:19:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.528ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 15:19:19 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.599ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND table_type = 'BASE TABLE'

2022/05/25 15:19:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 15:19:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.514ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 15:19:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `comments` LIMIT 1

2022/05/25 15:19:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[5.775ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'comments' ORDER BY ORDINAL_POSITION

2022/05/25 15:19:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 15:19:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.435ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 15:19:19 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND index_name = 'idx_comments_deleted_at'

2022/05/25 15:19:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 15:19:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.612ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 15:19:19 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.578ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND table_type = 'BASE TABLE'

2022/05/25 15:19:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 15:19:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.967ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 15:19:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `favorites` LIMIT 1

2022/05/25 15:19:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[6.435ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' ORDER BY ORDINAL_POSITION

2022/05/25 15:19:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 15:19:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.999ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 15:19:19 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.820ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND index_name = 'idx_favorites_deleted_at'

2022/05/25 15:19:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 15:19:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.785ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 15:19:19 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND table_type = 'BASE TABLE'

2022/05/25 15:19:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 15:19:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.523ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 15:19:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `relations` LIMIT 1

2022/05/25 15:19:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[6.002ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'relations' ORDER BY ORDINAL_POSITION

2022/05/25 15:19:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 15:19:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.488ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 15:19:19 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND index_name = 'idx_relations_deleted_at'

2022/05/25 15:21:20 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.517ms] [rows:-] SELECT DATABASE()

2022/05/25 15:21:20 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.042ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 15:21:20 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/25 15:21:20 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 15:21:20 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.141ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 15:21:20 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.509ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/25 15:21:20 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[9.952ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/25 15:21:20 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[7.489ms] [rows:0] ALTER TABLE `users` MODIFY COLUMN `is_follow` boolean NOT NULL DEFAULT false COMMENT '是否关注'

2022/05/25 15:21:20 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 15:21:20 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.509ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 15:21:20 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/25 15:21:20 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 15:21:20 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.641ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 15:21:20 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.583ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND table_type = 'BASE TABLE'

2022/05/25 15:21:20 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 15:21:20 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.738ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 15:21:20 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `videos` LIMIT 1

2022/05/25 15:21:20 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[6.774ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'videos' ORDER BY ORDINAL_POSITION

2022/05/25 15:21:20 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[9.486ms] [rows:0] ALTER TABLE `videos` MODIFY COLUMN `is_favorite` boolean NOT NULL DEFAULT false COMMENT '是否点赞'

2022/05/25 15:21:20 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 15:21:20 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.823ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 15:21:20 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_disk_type'

2022/05/25 15:21:20 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 15:21:20 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.566ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 15:21:20 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_deleted_at'

2022/05/25 15:21:20 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 15:21:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.049ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 15:21:21 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.524ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND table_type = 'BASE TABLE'

2022/05/25 15:21:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 15:21:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.068ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 15:21:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `comments` LIMIT 1

2022/05/25 15:21:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[14.322ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'comments' ORDER BY ORDINAL_POSITION

2022/05/25 15:21:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 15:21:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.951ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 15:21:21 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND index_name = 'idx_comments_deleted_at'

2022/05/25 15:21:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 15:21:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.631ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 15:21:21 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND table_type = 'BASE TABLE'

2022/05/25 15:21:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.511ms] [rows:-] SELECT DATABASE()

2022/05/25 15:21:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.662ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 15:21:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `favorites` LIMIT 1

2022/05/25 15:21:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[7.128ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' ORDER BY ORDINAL_POSITION

2022/05/25 15:21:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 15:21:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.078ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 15:21:21 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.511ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND index_name = 'idx_favorites_deleted_at'

2022/05/25 15:21:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 15:21:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.809ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 15:21:21 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND table_type = 'BASE TABLE'

2022/05/25 15:21:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 15:21:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.510ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 15:21:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `relations` LIMIT 1

2022/05/25 15:21:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[5.017ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'relations' ORDER BY ORDINAL_POSITION

2022/05/25 15:21:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 15:21:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.781ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 15:21:21 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND index_name = 'idx_relations_deleted_at'

2022/05/25 17:39:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 17:39:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.739ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 17:39:19 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.671ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/25 17:39:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 17:39:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.605ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 17:39:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.162ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/25 17:39:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[16.165ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/25 17:39:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[8.488ms] [rows:0] ALTER TABLE `users` MODIFY COLUMN `is_follow` boolean NOT NULL DEFAULT false COMMENT '是否关注'

2022/05/25 17:39:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.094ms] [rows:-] SELECT DATABASE()

2022/05/25 17:39:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.508ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 17:39:19 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.563ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/25 17:39:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 17:39:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.588ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 17:39:19 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.364ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND table_type = 'BASE TABLE'

2022/05/25 17:39:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 17:39:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.676ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 17:39:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.391ms] [rows:-] SELECT * FROM `videos` LIMIT 1

2022/05/25 17:39:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[9.640ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'videos' ORDER BY ORDINAL_POSITION

2022/05/25 17:39:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[8.487ms] [rows:0] ALTER TABLE `videos` MODIFY COLUMN `is_favorite` boolean NOT NULL DEFAULT false COMMENT '是否点赞'

2022/05/25 17:39:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.647ms] [rows:-] SELECT DATABASE()

2022/05/25 17:39:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.509ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 17:39:19 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.591ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_disk_type'

2022/05/25 17:39:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 17:39:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.510ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 17:39:19 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.417ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_deleted_at'

2022/05/25 17:39:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 17:39:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.687ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 17:39:19 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.598ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND table_type = 'BASE TABLE'

2022/05/25 17:39:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 17:39:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.510ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 17:39:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.349ms] [rows:-] SELECT * FROM `comments` LIMIT 1

2022/05/25 17:39:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[9.593ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'comments' ORDER BY ORDINAL_POSITION

2022/05/25 17:39:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 17:39:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.527ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 17:39:19 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.672ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND index_name = 'idx_comments_deleted_at'

2022/05/25 17:39:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 17:39:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.510ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 17:39:19 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.583ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND table_type = 'BASE TABLE'

2022/05/25 17:39:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 17:39:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.508ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 17:39:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.434ms] [rows:-] SELECT * FROM `favorites` LIMIT 1

2022/05/25 17:39:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[4.593ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' ORDER BY ORDINAL_POSITION

2022/05/25 17:39:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 17:39:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.000ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 17:39:19 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.971ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND index_name = 'idx_favorites_deleted_at'

2022/05/25 17:39:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 17:39:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.706ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 17:39:19 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.568ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND table_type = 'BASE TABLE'

2022/05/25 17:39:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.201ms] [rows:-] SELECT DATABASE()

2022/05/25 17:39:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.227ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 17:39:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `relations` LIMIT 1

2022/05/25 17:39:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[8.761ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'relations' ORDER BY ORDINAL_POSITION

2022/05/25 17:39:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 17:39:19 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.509ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 17:39:19 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.479ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND index_name = 'idx_relations_deleted_at'

2022/05/25 17:45:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 17:45:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.102ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 17:45:37 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/25 17:45:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 17:45:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.926ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 17:45:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/25 17:45:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[16.477ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/25 17:45:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[9.484ms] [rows:0] ALTER TABLE `users` MODIFY COLUMN `is_follow` boolean NOT NULL DEFAULT false COMMENT '是否关注'

2022/05/25 17:45:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 17:45:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.520ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 17:45:37 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/25 17:45:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.512ms] [rows:-] SELECT DATABASE()

2022/05/25 17:45:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.641ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 17:45:37 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND table_type = 'BASE TABLE'

2022/05/25 17:45:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.512ms] [rows:-] SELECT DATABASE()

2022/05/25 17:45:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.817ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 17:45:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `videos` LIMIT 1

2022/05/25 17:45:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[15.724ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'videos' ORDER BY ORDINAL_POSITION

2022/05/25 17:45:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[11.481ms] [rows:0] ALTER TABLE `videos` MODIFY COLUMN `is_favorite` boolean NOT NULL DEFAULT false COMMENT '是否点赞'

2022/05/25 17:45:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 17:45:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.350ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 17:45:37 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.519ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_disk_type'

2022/05/25 17:45:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 17:45:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.512ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 17:45:37 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_deleted_at'

2022/05/25 17:45:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.504ms] [rows:-] SELECT DATABASE()

2022/05/25 17:45:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.516ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 17:45:37 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND table_type = 'BASE TABLE'

2022/05/25 17:45:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 17:45:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.370ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 17:45:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `comments` LIMIT 1

2022/05/25 17:45:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[12.816ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'comments' ORDER BY ORDINAL_POSITION

2022/05/25 17:45:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 17:45:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.512ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 17:45:37 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND index_name = 'idx_comments_deleted_at'

2022/05/25 17:45:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.509ms] [rows:-] SELECT DATABASE()

2022/05/25 17:45:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.668ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 17:45:37 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.321ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND table_type = 'BASE TABLE'

2022/05/25 17:45:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 17:45:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.511ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 17:45:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `favorites` LIMIT 1

2022/05/25 17:45:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[7.491ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' ORDER BY ORDINAL_POSITION

2022/05/25 17:45:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 17:45:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.566ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 17:45:37 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND index_name = 'idx_favorites_deleted_at'

2022/05/25 17:45:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 17:45:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.514ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 17:45:37 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND table_type = 'BASE TABLE'

2022/05/25 17:45:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 17:45:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.140ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 17:45:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `relations` LIMIT 1

2022/05/25 17:45:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[11.295ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'relations' ORDER BY ORDINAL_POSITION

2022/05/25 17:45:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 17:45:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.312ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 17:45:37 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND index_name = 'idx_relations_deleted_at'

2022/05/25 17:59:27 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.542ms] [rows:-] SELECT DATABASE()

2022/05/25 17:59:27 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.875ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 17:59:27 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/25 17:59:27 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.513ms] [rows:-] SELECT DATABASE()

2022/05/25 17:59:27 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.660ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 17:59:27 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/25 17:59:27 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[11.931ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/25 17:59:27 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[11.479ms] [rows:0] ALTER TABLE `users` MODIFY COLUMN `is_follow` boolean NOT NULL DEFAULT false COMMENT '是否关注'

2022/05/25 17:59:27 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 17:59:27 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.897ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 17:59:27 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/25 17:59:27 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 17:59:27 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.515ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 17:59:27 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.544ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND table_type = 'BASE TABLE'

2022/05/25 17:59:27 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 17:59:27 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.508ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 17:59:27 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `videos` LIMIT 1

2022/05/25 17:59:27 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[6.293ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'videos' ORDER BY ORDINAL_POSITION

2022/05/25 17:59:27 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[10.485ms] [rows:0] ALTER TABLE `videos` MODIFY COLUMN `is_favorite` boolean NOT NULL DEFAULT false COMMENT '是否点赞'

2022/05/25 17:59:27 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 17:59:27 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.067ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 17:59:27 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_disk_type'

2022/05/25 17:59:27 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 17:59:27 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.000ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 17:59:27 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.145ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_deleted_at'

2022/05/25 17:59:27 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 17:59:27 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.943ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 17:59:27 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND table_type = 'BASE TABLE'

2022/05/25 17:59:27 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 17:59:27 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.635ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 17:59:27 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.522ms] [rows:-] SELECT * FROM `comments` LIMIT 1

2022/05/25 17:59:27 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[6.754ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'comments' ORDER BY ORDINAL_POSITION

2022/05/25 17:59:27 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 17:59:27 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.215ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 17:59:27 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND index_name = 'idx_comments_deleted_at'

2022/05/25 17:59:27 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 17:59:27 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.786ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 17:59:27 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND table_type = 'BASE TABLE'

2022/05/25 17:59:27 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 17:59:27 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.753ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 17:59:27 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `favorites` LIMIT 1

2022/05/25 17:59:27 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[7.213ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' ORDER BY ORDINAL_POSITION

2022/05/25 17:59:27 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 17:59:27 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.055ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 17:59:27 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND index_name = 'idx_favorites_deleted_at'

2022/05/25 17:59:27 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 17:59:27 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.002ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 17:59:27 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND table_type = 'BASE TABLE'

2022/05/25 17:59:27 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 17:59:27 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.512ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 17:59:27 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `relations` LIMIT 1

2022/05/25 17:59:27 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[13.840ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'relations' ORDER BY ORDINAL_POSITION

2022/05/25 17:59:27 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 17:59:27 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.502ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 17:59:27 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND index_name = 'idx_relations_deleted_at'

2022/05/25 18:04:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 18:04:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[2.102ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 18:04:16 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.556ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/25 18:04:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.038ms] [rows:-] SELECT DATABASE()

2022/05/25 18:04:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.609ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 18:04:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/25 18:04:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[17.463ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/25 18:04:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[10.482ms] [rows:0] ALTER TABLE `users` MODIFY COLUMN `is_follow` boolean NOT NULL DEFAULT false COMMENT '是否关注'

2022/05/25 18:04:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 18:04:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.509ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 18:04:16 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/25 18:04:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 18:04:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.214ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 18:04:16 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.607ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND table_type = 'BASE TABLE'

2022/05/25 18:04:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 18:04:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.508ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 18:04:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `videos` LIMIT 1

2022/05/25 18:04:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[6.298ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'videos' ORDER BY ORDINAL_POSITION

2022/05/25 18:04:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[7.489ms] [rows:0] ALTER TABLE `videos` MODIFY COLUMN `is_favorite` boolean NOT NULL DEFAULT false COMMENT '是否点赞'

2022/05/25 18:04:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 18:04:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.706ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 18:04:16 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_disk_type'

2022/05/25 18:04:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 18:04:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.589ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 18:04:16 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.510ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_deleted_at'

2022/05/25 18:04:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.177ms] [rows:-] SELECT DATABASE()

2022/05/25 18:04:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.509ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 18:04:16 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.065ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND table_type = 'BASE TABLE'

2022/05/25 18:04:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 18:04:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.508ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 18:04:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.251ms] [rows:-] SELECT * FROM `comments` LIMIT 1

2022/05/25 18:04:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[6.491ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'comments' ORDER BY ORDINAL_POSITION

2022/05/25 18:04:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 18:04:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.520ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 18:04:16 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.378ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND index_name = 'idx_comments_deleted_at'

2022/05/25 18:04:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 18:04:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.845ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 18:04:16 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND table_type = 'BASE TABLE'

2022/05/25 18:04:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 18:04:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.543ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 18:04:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `favorites` LIMIT 1

2022/05/25 18:04:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[10.368ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' ORDER BY ORDINAL_POSITION

2022/05/25 18:04:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 18:04:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.927ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 18:04:16 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND index_name = 'idx_favorites_deleted_at'

2022/05/25 18:04:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 18:04:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.069ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 18:04:16 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND table_type = 'BASE TABLE'

2022/05/25 18:04:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 18:04:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.855ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 18:04:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `relations` LIMIT 1

2022/05/25 18:04:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[4.699ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'relations' ORDER BY ORDINAL_POSITION

2022/05/25 18:04:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 18:04:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.519ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 18:04:16 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.510ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND index_name = 'idx_relations_deleted_at'

2022/05/25 18:07:18 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 18:07:18 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.551ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 18:07:18 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.150ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/25 18:07:18 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 18:07:18 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.554ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 18:07:18 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.225ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/25 18:07:18 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[9.536ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/25 18:07:18 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[7.514ms] [rows:0] ALTER TABLE `users` MODIFY COLUMN `is_follow` boolean NOT NULL DEFAULT false COMMENT '是否关注'

2022/05/25 18:07:18 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 18:07:18 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.512ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 18:07:18 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/25 18:07:18 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.111ms] [rows:-] SELECT DATABASE()

2022/05/25 18:07:18 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.513ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 18:07:18 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.172ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND table_type = 'BASE TABLE'

2022/05/25 18:07:18 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 18:07:18 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.589ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 18:07:18 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `videos` LIMIT 1

2022/05/25 18:07:18 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[4.879ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'videos' ORDER BY ORDINAL_POSITION

2022/05/25 18:07:18 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[7.487ms] [rows:0] ALTER TABLE `videos` MODIFY COLUMN `is_favorite` boolean NOT NULL DEFAULT false COMMENT '是否点赞'

2022/05/25 18:07:18 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 18:07:18 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.567ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 18:07:18 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.034ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_disk_type'

2022/05/25 18:07:18 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 18:07:18 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.696ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 18:07:18 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.622ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_deleted_at'

2022/05/25 18:07:18 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 18:07:18 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.611ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 18:07:18 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.545ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND table_type = 'BASE TABLE'

2022/05/25 18:07:18 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 18:07:18 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.782ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 18:07:18 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `comments` LIMIT 1

2022/05/25 18:07:18 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[4.956ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'comments' ORDER BY ORDINAL_POSITION

2022/05/25 18:07:18 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 18:07:18 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.509ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 18:07:18 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.614ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND index_name = 'idx_comments_deleted_at'

2022/05/25 18:07:18 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 18:07:18 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.516ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 18:07:18 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.532ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND table_type = 'BASE TABLE'

2022/05/25 18:07:18 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 18:07:18 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.509ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 18:07:18 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.377ms] [rows:-] SELECT * FROM `favorites` LIMIT 1

2022/05/25 18:07:18 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[4.437ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' ORDER BY ORDINAL_POSITION

2022/05/25 18:07:18 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 18:07:18 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.512ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 18:07:18 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.346ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND index_name = 'idx_favorites_deleted_at'

2022/05/25 18:07:18 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 18:07:18 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.512ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 18:07:18 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.446ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND table_type = 'BASE TABLE'

2022/05/25 18:07:18 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 18:07:18 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.541ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 18:07:18 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.108ms] [rows:-] SELECT * FROM `relations` LIMIT 1

2022/05/25 18:07:18 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[7.990ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'relations' ORDER BY ORDINAL_POSITION

2022/05/25 18:07:18 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 18:07:18 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.514ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 18:07:18 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.677ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND index_name = 'idx_relations_deleted_at'

2022/05/25 20:04:08 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 20:04:08 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.456ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 20:04:08 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/25 20:04:08 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.056ms] [rows:-] SELECT DATABASE()

2022/05/25 20:04:08 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.538ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 20:04:08 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/25 20:04:08 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[8.436ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/25 20:04:08 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[0.504ms] [rows:0] ALTER TABLE `users` MODIFY COLUMN `is_follow` boolean NOT NULL DEFAULT false COMMENT '是否关注'

2022/05/25 20:04:08 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[8.581ms] [rows:-] SELECT DATABASE()

2022/05/25 20:04:08 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.504ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 20:04:08 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/25 20:04:08 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 20:04:08 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.503ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 20:04:08 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.278ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND table_type = 'BASE TABLE'

2022/05/25 20:04:08 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 20:04:08 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.579ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 20:04:08 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.503ms] [rows:-] SELECT * FROM `videos` LIMIT 1

2022/05/25 20:04:08 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[2.777ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'videos' ORDER BY ORDINAL_POSITION

2022/05/25 20:04:08 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[0.504ms] [rows:0] ALTER TABLE `videos` MODIFY COLUMN `is_favorite` boolean NOT NULL DEFAULT false COMMENT '是否点赞'

2022/05/25 20:04:08 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 20:04:08 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.504ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 20:04:08 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_disk_type'

2022/05/25 20:04:08 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 20:04:08 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.503ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 20:04:08 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.168ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_deleted_at'

2022/05/25 20:04:08 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 20:04:08 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.594ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 20:04:08 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.511ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND table_type = 'BASE TABLE'

2022/05/25 20:04:08 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 20:04:08 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.503ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 20:04:08 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.348ms] [rows:-] SELECT * FROM `comments` LIMIT 1

2022/05/25 20:04:08 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[2.869ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'comments' ORDER BY ORDINAL_POSITION

2022/05/25 20:04:08 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 20:04:08 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.763ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 20:04:08 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND index_name = 'idx_comments_deleted_at'

2022/05/25 20:04:08 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 20:04:08 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.755ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 20:04:08 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND table_type = 'BASE TABLE'

2022/05/25 20:04:08 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 20:04:08 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.727ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 20:04:08 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `favorites` LIMIT 1

2022/05/25 20:04:08 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[2.503ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' ORDER BY ORDINAL_POSITION

2022/05/25 20:04:08 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 20:04:08 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.072ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 20:04:08 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND index_name = 'idx_favorites_deleted_at'

2022/05/25 20:04:08 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 20:04:08 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.604ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 20:04:08 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.503ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND table_type = 'BASE TABLE'

2022/05/25 20:04:08 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.081ms] [rows:-] SELECT DATABASE()

2022/05/25 20:04:08 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.109ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 20:04:08 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.503ms] [rows:-] SELECT * FROM `relations` LIMIT 1

2022/05/25 20:04:08 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[2.377ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'relations' ORDER BY ORDINAL_POSITION

2022/05/25 20:04:08 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 20:04:08 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.505ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 20:04:08 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND index_name = 'idx_relations_deleted_at'

2022/05/25 20:04:51 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 20:04:51 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.502ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 20:04:51 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.338ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/25 20:04:51 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 20:04:51 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.210ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 20:04:51 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.502ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/25 20:04:51 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[6.041ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/25 20:04:51 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[0.505ms] [rows:0] ALTER TABLE `users` MODIFY COLUMN `is_follow` boolean NOT NULL DEFAULT false COMMENT '是否关注'

2022/05/25 20:04:51 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 20:04:51 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.505ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 20:04:51 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/25 20:04:51 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 20:04:51 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.763ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 20:04:51 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.361ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND table_type = 'BASE TABLE'

2022/05/25 20:04:51 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 20:04:51 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.737ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 20:04:51 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.348ms] [rows:-] SELECT * FROM `videos` LIMIT 1

2022/05/25 20:04:51 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[2.667ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'videos' ORDER BY ORDINAL_POSITION

2022/05/25 20:04:51 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[0.505ms] [rows:0] ALTER TABLE `videos` MODIFY COLUMN `is_favorite` boolean NOT NULL DEFAULT false COMMENT '是否点赞'

2022/05/25 20:04:51 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 20:04:51 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.505ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 20:04:51 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_deleted_at'

2022/05/25 20:04:51 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 20:04:51 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.754ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 20:04:51 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_disk_type'

2022/05/25 20:04:51 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 20:04:51 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.720ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 20:04:51 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.682ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND table_type = 'BASE TABLE'

2022/05/25 20:04:51 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 20:04:51 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.504ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 20:04:51 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.226ms] [rows:-] SELECT * FROM `comments` LIMIT 1

2022/05/25 20:04:51 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[2.400ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'comments' ORDER BY ORDINAL_POSITION

2022/05/25 20:04:51 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.096ms] [rows:-] SELECT DATABASE()

2022/05/25 20:04:51 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.386ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 20:04:51 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.675ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND index_name = 'idx_comments_deleted_at'

2022/05/25 20:04:51 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.257ms] [rows:-] SELECT DATABASE()

2022/05/25 20:04:51 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.646ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 20:04:51 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND table_type = 'BASE TABLE'

2022/05/25 20:04:51 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 20:04:51 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.787ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 20:04:51 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `favorites` LIMIT 1

2022/05/25 20:04:51 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[2.010ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' ORDER BY ORDINAL_POSITION

2022/05/25 20:04:51 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 20:04:51 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.505ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 20:04:51 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.417ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND index_name = 'idx_favorites_deleted_at'

2022/05/25 20:04:51 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 20:04:51 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.554ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 20:04:51 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.047ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND table_type = 'BASE TABLE'

2022/05/25 20:04:51 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 20:04:51 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.667ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 20:04:51 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.361ms] [rows:-] SELECT * FROM `relations` LIMIT 1

2022/05/25 20:04:51 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[2.465ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'relations' ORDER BY ORDINAL_POSITION

2022/05/25 20:04:51 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 20:04:51 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.504ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 20:04:51 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.393ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND index_name = 'idx_relations_deleted_at'

2022/05/25 20:06:40 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[5.919ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 20:06:39.125'
LIMIT 30;

2022/05/25 20:06:40 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[1.071ms] [rows:1] SELECT created_at FROM videos WHERE id = 1

2022/05/25 20:06:40 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.155ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 20:06:39.579'
LIMIT 30;

2022/05/25 20:06:40 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 1

2022/05/25 20:06:40 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[4.401ms] [rows:1] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 20:06:40 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[0.546ms] [rows:1] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 20:06:41 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[2.573ms] [rows:1] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 20:06:41 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[16.880ms] [rows:1] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 20:06:41 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[1.296ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 20:06:39.876'
LIMIT 30;

2022/05/25 20:06:41 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[4.987ms] [rows:1] SELECT created_at FROM videos WHERE id = 1

2022/05/25 20:06:50 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[1.530ms] [rows:1] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 20:06:50 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[0.009ms] [rows:1] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 20:11:24 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 20:11:24 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.926ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 20:11:24 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/25 20:11:24 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 20:11:24 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.695ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 20:11:24 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.510ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/25 20:11:24 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[11.653ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/25 20:11:24 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[8.729ms] [rows:0] ALTER TABLE `users` MODIFY COLUMN `is_follow` boolean NOT NULL DEFAULT false COMMENT '是否关注'

2022/05/25 20:11:24 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.965ms] [rows:-] SELECT DATABASE()

2022/05/25 20:11:24 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.510ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 20:11:24 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.569ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/25 20:11:24 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.239ms] [rows:-] SELECT DATABASE()

2022/05/25 20:11:24 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.342ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 20:11:24 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND table_type = 'BASE TABLE'

2022/05/25 20:11:24 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 20:11:24 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.148ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 20:11:24 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.508ms] [rows:-] SELECT * FROM `videos` LIMIT 1

2022/05/25 20:11:24 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[4.756ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'videos' ORDER BY ORDINAL_POSITION

2022/05/25 20:11:24 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[8.286ms] [rows:0] ALTER TABLE `videos` MODIFY COLUMN `is_favorite` boolean NOT NULL DEFAULT false COMMENT '是否点赞'

2022/05/25 20:11:24 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 20:11:24 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.432ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 20:11:24 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_disk_type'

2022/05/25 20:11:24 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.513ms] [rows:-] SELECT DATABASE()

2022/05/25 20:11:24 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.672ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 20:11:24 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.247ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_deleted_at'

2022/05/25 20:11:24 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 20:11:24 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.510ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 20:11:24 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.637ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND table_type = 'BASE TABLE'

2022/05/25 20:11:24 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 20:11:24 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.506ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 20:11:24 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.306ms] [rows:-] SELECT * FROM `comments` LIMIT 1

2022/05/25 20:11:24 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[4.693ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'comments' ORDER BY ORDINAL_POSITION

2022/05/25 20:11:24 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 20:11:24 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.434ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 20:11:24 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.443ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND index_name = 'idx_comments_deleted_at'

2022/05/25 20:11:24 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 20:11:24 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.506ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 20:11:24 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.276ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND table_type = 'BASE TABLE'

2022/05/25 20:11:24 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 20:11:24 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.506ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 20:11:24 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.146ms] [rows:-] SELECT * FROM `favorites` LIMIT 1

2022/05/25 20:11:24 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[4.571ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' ORDER BY ORDINAL_POSITION

2022/05/25 20:11:24 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.075ms] [rows:-] SELECT DATABASE()

2022/05/25 20:11:24 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.253ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 20:11:24 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.507ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND index_name = 'idx_favorites_deleted_at'

2022/05/25 20:11:24 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 20:11:24 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.215ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 20:11:24 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND table_type = 'BASE TABLE'

2022/05/25 20:11:24 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.005ms] [rows:-] SELECT DATABASE()

2022/05/25 20:11:24 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.000ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 20:11:24 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.506ms] [rows:-] SELECT * FROM `relations` LIMIT 1

2022/05/25 20:11:24 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[4.594ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'relations' ORDER BY ORDINAL_POSITION

2022/05/25 20:11:24 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 20:11:24 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.508ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 20:11:24 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND index_name = 'idx_relations_deleted_at'

2022/05/25 20:12:31 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.077ms] [rows:-] SELECT DATABASE()

2022/05/25 20:12:31 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.060ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 20:12:31 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/25 20:12:31 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.513ms] [rows:-] SELECT DATABASE()

2022/05/25 20:12:31 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.668ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 20:12:31 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/25 20:12:31 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[10.120ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/25 20:12:31 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[7.978ms] [rows:0] ALTER TABLE `users` MODIFY COLUMN `is_follow` boolean NOT NULL DEFAULT false COMMENT '是否关注'

2022/05/25 20:12:31 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 20:12:31 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.631ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 20:12:31 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.301ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/25 20:12:31 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 20:12:31 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.291ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 20:12:31 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND table_type = 'BASE TABLE'

2022/05/25 20:12:31 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.505ms] [rows:-] SELECT DATABASE()

2022/05/25 20:12:31 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.050ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 20:12:31 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `videos` LIMIT 1

2022/05/25 20:12:31 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[5.221ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'videos' ORDER BY ORDINAL_POSITION

2022/05/25 20:12:31 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[7.399ms] [rows:0] ALTER TABLE `videos` MODIFY COLUMN `is_favorite` boolean NOT NULL DEFAULT false COMMENT '是否点赞'

2022/05/25 20:12:31 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 20:12:31 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.510ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 20:12:31 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.283ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_disk_type'

2022/05/25 20:12:31 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 20:12:31 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.599ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 20:12:31 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.591ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_deleted_at'

2022/05/25 20:12:31 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 20:12:31 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.510ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 20:12:31 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND table_type = 'BASE TABLE'

2022/05/25 20:12:31 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 20:12:31 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.986ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 20:12:31 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `comments` LIMIT 1

2022/05/25 20:12:31 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[6.143ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'comments' ORDER BY ORDINAL_POSITION

2022/05/25 20:12:31 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 20:12:31 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.913ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 20:12:31 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND index_name = 'idx_comments_deleted_at'

2022/05/25 20:12:31 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 20:12:31 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.671ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 20:12:31 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.339ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND table_type = 'BASE TABLE'

2022/05/25 20:12:31 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 20:12:31 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.509ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 20:12:31 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `favorites` LIMIT 1

2022/05/25 20:12:31 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[5.112ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' ORDER BY ORDINAL_POSITION

2022/05/25 20:12:31 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 20:12:31 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.511ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 20:12:31 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.260ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND index_name = 'idx_favorites_deleted_at'

2022/05/25 20:12:31 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 20:12:31 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.785ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 20:12:31 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND table_type = 'BASE TABLE'

2022/05/25 20:12:31 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 20:12:31 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.775ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 20:12:31 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `relations` LIMIT 1

2022/05/25 20:12:31 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[5.850ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'relations' ORDER BY ORDINAL_POSITION

2022/05/25 20:12:31 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 20:12:31 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.511ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 20:12:31 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND index_name = 'idx_relations_deleted_at'

2022/05/25 20:20:10 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.516ms] [rows:-] SELECT DATABASE()

2022/05/25 20:20:10 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.509ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 20:20:10 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.735ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/25 20:20:10 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 20:20:10 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.508ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 20:20:10 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/25 20:20:10 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[11.805ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/25 20:20:10 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[8.614ms] [rows:0] ALTER TABLE `users` MODIFY COLUMN `is_follow` boolean NOT NULL DEFAULT false COMMENT '是否关注'

2022/05/25 20:20:10 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.234ms] [rows:-] SELECT DATABASE()

2022/05/25 20:20:10 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.351ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 20:20:10 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.507ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/25 20:20:10 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.179ms] [rows:-] SELECT DATABASE()

2022/05/25 20:20:10 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.269ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 20:20:10 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.503ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND table_type = 'BASE TABLE'

2022/05/25 20:20:10 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.085ms] [rows:-] SELECT DATABASE()

2022/05/25 20:20:10 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.261ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 20:20:10 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `videos` LIMIT 1

2022/05/25 20:20:10 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[6.317ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'videos' ORDER BY ORDINAL_POSITION

2022/05/25 20:20:10 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[7.489ms] [rows:0] ALTER TABLE `videos` MODIFY COLUMN `is_favorite` boolean NOT NULL DEFAULT false COMMENT '是否点赞'

2022/05/25 20:20:10 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 20:20:10 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.319ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 20:20:10 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.274ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_disk_type'

2022/05/25 20:20:10 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 20:20:10 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.738ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 20:20:10 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_deleted_at'

2022/05/25 20:20:10 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 20:20:10 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.036ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 20:20:10 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND table_type = 'BASE TABLE'

2022/05/25 20:20:10 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.508ms] [rows:-] SELECT DATABASE()

2022/05/25 20:20:10 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.570ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 20:20:10 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `comments` LIMIT 1

2022/05/25 20:20:10 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[5.981ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'comments' ORDER BY ORDINAL_POSITION

2022/05/25 20:20:10 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 20:20:10 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.584ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 20:20:10 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.290ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND index_name = 'idx_comments_deleted_at'

2022/05/25 20:20:10 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 20:20:10 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.508ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 20:20:10 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.358ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND table_type = 'BASE TABLE'

2022/05/25 20:20:10 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 20:20:10 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.508ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 20:20:10 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `favorites` LIMIT 1

2022/05/25 20:20:10 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[5.792ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' ORDER BY ORDINAL_POSITION

2022/05/25 20:20:10 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 20:20:10 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.513ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 20:20:10 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND index_name = 'idx_favorites_deleted_at'

2022/05/25 20:20:10 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 20:20:10 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.211ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 20:20:10 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND table_type = 'BASE TABLE'

2022/05/25 20:20:10 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.515ms] [rows:-] SELECT DATABASE()

2022/05/25 20:20:10 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.508ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 20:20:10 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `relations` LIMIT 1

2022/05/25 20:20:10 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[5.933ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'relations' ORDER BY ORDINAL_POSITION

2022/05/25 20:20:10 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 20:20:10 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.507ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 20:20:10 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.353ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND index_name = 'idx_relations_deleted_at'

2022/05/25 20:20:18 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.520ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 20:20:17.536'
LIMIT 30;

2022/05/25 20:20:18 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.631ms] [rows:1] SELECT created_at FROM videos WHERE id = 1

2022/05/25 20:20:19 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[0.510ms] [rows:1] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 20:20:19 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[0.310ms] [rows:1] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 20:20:19 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.800ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 20:20:17.681'
LIMIT 30;

2022/05/25 20:20:19 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.582ms] [rows:1] SELECT created_at FROM videos WHERE id = 1

2022/05/25 20:20:19 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[0.294ms] [rows:1] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 20:20:19 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[0.512ms] [rows:1] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 20:20:19 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.912ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 20:20:17.784'
LIMIT 30;

2022/05/25 20:20:19 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 1

2022/05/25 20:20:53 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[1.398ms] [rows:1] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 20:20:53 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[0.710ms] [rows:1] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 20:21:10 E:/summerByteDance/DouYin_demo/app/services/publish.go:61
[23.876ms] [rows:1] INSERT INTO `videos` (`author_id`,`play_url`,`cover_url`,`favorite_count`,`comment_count`,`is_favorite`,`disk_type`,`src_type`,`created_at`,`updated_at`,`deleted_at`) VALUES (3,'local/11111/4dca6776-083b-4c67-9da5-379ad197d48c.MP4','',0,0,false,'local',1,'2022-05-25 20:21:10.36','2022-05-25 20:21:10.36',NULL)

2022/05/25 20:21:14 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[1.019ms] [rows:1] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 20:21:14 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[0.521ms] [rows:1] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 20:21:14 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[1.547ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 20:21:12.725'
LIMIT 30;

2022/05/25 20:21:14 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.520ms] [rows:1] SELECT created_at FROM videos WHERE id = 2

2022/05/25 20:21:18 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[0.000ms] [rows:1] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 20:21:18 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[2.223ms] [rows:1] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 20:21:21 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.996ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 20:21:20.483'
LIMIT 30;

2022/05/25 20:21:21 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.826ms] [rows:1] SELECT created_at FROM videos WHERE id = 2

2022/05/25 20:21:22 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[1.593ms] [rows:1] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 20:21:22 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[1.740ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 20:21:21.035'
LIMIT 30;

2022/05/25 20:21:22 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.585ms] [rows:1] SELECT created_at FROM videos WHERE id = 2

2022/05/25 20:21:22 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[0.585ms] [rows:1] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 20:21:23 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[0.829ms] [rows:1] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 20:21:23 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[1.040ms] [rows:1] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 20:21:23 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[1.619ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 20:21:22.598'
LIMIT 30;

2022/05/25 20:21:23 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.530ms] [rows:1] SELECT created_at FROM videos WHERE id = 2

2022/05/25 20:21:27 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[0.905ms] [rows:1] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 20:21:27 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[1.630ms] [rows:1] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 20:21:30 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[0.000ms] [rows:1] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 20:21:30 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[0.527ms] [rows:1] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 20:21:38 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[0.867ms] [rows:1] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 20:21:46 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.809ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 20:21:45.568'
LIMIT 30;

2022/05/25 20:21:46 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.513ms] [rows:1] SELECT created_at FROM videos WHERE id = 2

2022/05/25 20:21:47 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[0.094ms] [rows:1] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 20:21:47 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[0.718ms] [rows:1] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 20:21:47 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.971ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 20:21:46.145'
LIMIT 30;

2022/05/25 20:21:47 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 2

2022/05/25 20:21:55 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[0.666ms] [rows:1] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 20:21:55 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[0.601ms] [rows:1] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 20:21:55 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[2.703ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 20:21:54.172'
LIMIT 30;

2022/05/25 20:21:55 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 2

2022/05/25 20:52:47 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.503ms] [rows:-] SELECT DATABASE()

2022/05/25 20:52:47 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[19.472ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 20:52:47 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[6.219ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/25 20:52:47 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 20:52:47 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.267ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 20:52:47 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[17.465ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/25 20:52:47 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[39.352ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/25 20:52:47 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[15.024ms] [rows:0] ALTER TABLE `users` MODIFY COLUMN `is_follow` boolean NOT NULL DEFAULT false COMMENT '是否关注'

2022/05/25 20:52:47 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 20:52:47 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.831ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 20:52:47 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/25 20:52:47 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 20:52:47 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.000ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 20:52:47 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[4.496ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND table_type = 'BASE TABLE'

2022/05/25 20:52:47 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 20:52:47 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.834ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 20:52:47 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.503ms] [rows:-] SELECT * FROM `videos` LIMIT 1

2022/05/25 20:52:47 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[19.857ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'videos' ORDER BY ORDINAL_POSITION

2022/05/25 20:52:47 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[13.480ms] [rows:0] ALTER TABLE `videos` MODIFY COLUMN `is_favorite` boolean NOT NULL DEFAULT false COMMENT '是否点赞'

2022/05/25 20:52:47 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 20:52:47 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.885ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 20:52:47 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_disk_type'

2022/05/25 20:52:47 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 20:52:47 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.229ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 20:52:47 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_deleted_at'

2022/05/25 20:52:47 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.505ms] [rows:-] SELECT DATABASE()

2022/05/25 20:52:47 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.599ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 20:52:47 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[4.499ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND table_type = 'BASE TABLE'

2022/05/25 20:52:47 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 20:52:47 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.986ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 20:52:47 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[7.491ms] [rows:-] SELECT * FROM `comments` LIMIT 1

2022/05/25 20:52:47 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[19.025ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'comments' ORDER BY ORDINAL_POSITION

2022/05/25 20:52:47 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 20:52:47 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.102ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 20:52:47 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND index_name = 'idx_comments_deleted_at'

2022/05/25 20:52:47 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 20:52:47 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.809ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 20:52:47 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[7.492ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND table_type = 'BASE TABLE'

2022/05/25 20:52:47 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 20:52:47 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.851ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 20:52:47 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[5.495ms] [rows:-] SELECT * FROM `favorites` LIMIT 1

2022/05/25 20:52:47 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[16.705ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' ORDER BY ORDINAL_POSITION

2022/05/25 20:52:47 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 20:52:47 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.853ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 20:52:47 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND index_name = 'idx_favorites_deleted_at'

2022/05/25 20:52:47 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 20:52:47 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.863ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 20:52:47 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[5.493ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND table_type = 'BASE TABLE'

2022/05/25 20:52:47 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 20:52:47 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.697ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 20:52:47 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[5.494ms] [rows:-] SELECT * FROM `relations` LIMIT 1

2022/05/25 20:52:47 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[14.792ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'relations' ORDER BY ORDINAL_POSITION

2022/05/25 20:52:47 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 20:52:47 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.186ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 20:52:47 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND index_name = 'idx_relations_deleted_at'

2022/05/25 20:54:25 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[2.342ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 20:54:23.413'
LIMIT 30;

2022/05/25 20:54:25 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 1

2022/05/25 20:54:25 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[1.370ms] [rows:1] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 20:54:25 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[1.662ms] [rows:1] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 20:54:25 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.539ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 20:54:23.739'
LIMIT 30;

2022/05/25 20:54:25 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[1.093ms] [rows:1] SELECT created_at FROM videos WHERE id = 1

2022/05/25 20:54:25 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[0.525ms] [rows:1] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 20:54:25 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[0.095ms] [rows:1] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 20:54:25 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.759ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 20:54:23.978'
LIMIT 30;

2022/05/25 20:54:25 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.569ms] [rows:1] SELECT created_at FROM videos WHERE id = 1

2022/05/25 20:54:32 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[1.524ms] [rows:1] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 20:54:32 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[25.642ms] [rows:1] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 20:56:06 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.861ms] [rows:-] SELECT DATABASE()

2022/05/25 20:56:06 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.238ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 20:56:06 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.534ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/25 20:56:06 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.528ms] [rows:-] SELECT DATABASE()

2022/05/25 20:56:06 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.577ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 20:56:06 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/25 20:56:06 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[17.842ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/25 20:56:06 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[8.490ms] [rows:0] ALTER TABLE `users` MODIFY COLUMN `is_follow` boolean NOT NULL DEFAULT false COMMENT '是否关注'

2022/05/25 20:56:06 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 20:56:06 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.528ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 20:56:06 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/25 20:56:06 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.509ms] [rows:-] SELECT DATABASE()

2022/05/25 20:56:06 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.631ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 20:56:06 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND table_type = 'BASE TABLE'

2022/05/25 20:56:06 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 20:56:06 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.067ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 20:56:06 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `videos` LIMIT 1

2022/05/25 20:56:06 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[12.674ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'videos' ORDER BY ORDINAL_POSITION

2022/05/25 20:56:06 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[9.261ms] [rows:0] ALTER TABLE `videos` MODIFY COLUMN `is_favorite` boolean NOT NULL DEFAULT false COMMENT '是否点赞'

2022/05/25 20:56:06 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 20:56:06 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.836ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 20:56:06 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.527ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_disk_type'

2022/05/25 20:56:06 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 20:56:06 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.939ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 20:56:06 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_deleted_at'

2022/05/25 20:56:06 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 20:56:06 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.900ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 20:56:06 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND table_type = 'BASE TABLE'

2022/05/25 20:56:06 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 20:56:06 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.081ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 20:56:06 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `comments` LIMIT 1

2022/05/25 20:56:06 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[14.800ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'comments' ORDER BY ORDINAL_POSITION

2022/05/25 20:56:06 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 20:56:06 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.166ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 20:56:06 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND index_name = 'idx_comments_deleted_at'

2022/05/25 20:56:06 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 20:56:06 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.821ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 20:56:06 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND table_type = 'BASE TABLE'

2022/05/25 20:56:06 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.644ms] [rows:-] SELECT DATABASE()

2022/05/25 20:56:06 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.929ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 20:56:06 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `favorites` LIMIT 1

2022/05/25 20:56:06 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[14.527ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' ORDER BY ORDINAL_POSITION

2022/05/25 20:56:06 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 20:56:06 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.554ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 20:56:06 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND index_name = 'idx_favorites_deleted_at'

2022/05/25 20:56:06 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.503ms] [rows:-] SELECT DATABASE()

2022/05/25 20:56:06 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.614ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 20:56:06 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND table_type = 'BASE TABLE'

2022/05/25 20:56:06 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 20:56:06 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.567ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 20:56:06 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.012ms] [rows:-] SELECT * FROM `relations` LIMIT 1

2022/05/25 20:56:06 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[9.458ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'relations' ORDER BY ORDINAL_POSITION

2022/05/25 20:56:06 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.522ms] [rows:-] SELECT DATABASE()

2022/05/25 20:56:06 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.857ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 20:56:06 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND index_name = 'idx_relations_deleted_at'

2022/05/25 20:56:10 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[1.144ms] [rows:1] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 20:56:10 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[18.705ms] [rows:1] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 20:56:22 E:/summerByteDance/DouYin_demo/app/services/publish.go:61
[4.938ms] [rows:1] INSERT INTO `videos` (`author_id`,`play_url`,`cover_url`,`favorite_count`,`comment_count`,`is_favorite`,`disk_type`,`src_type`,`created_at`,`updated_at`,`deleted_at`) VALUES (3,'file:///E:/summerByteDance/DouYin_demo/storage/app/public/local/3/527a2505-6c0c-4b38-8c46-1c83eab55277.MP4','',0,0,false,'local',1,'2022-05-25 20:56:22.255','2022-05-25 20:56:22.255',NULL)

2022/05/25 20:56:28 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[0.811ms] [rows:1] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 20:56:28 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[0.964ms] [rows:1] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 20:56:28 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.558ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 20:56:27.125'
LIMIT 30;

2022/05/25 20:56:28 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.516ms] [rows:1] SELECT created_at FROM videos WHERE id = 3

2022/05/25 20:56:36 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.920ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 20:56:34.539'
LIMIT 30;

2022/05/25 20:56:36 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 3

2022/05/25 20:56:36 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[0.181ms] [rows:1] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 20:56:36 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[0.706ms] [rows:1] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 20:56:36 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.963ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 20:56:35.077'
LIMIT 30;

2022/05/25 20:56:36 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 3

2022/05/25 20:56:41 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[0.757ms] [rows:1] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 20:56:41 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[0.547ms] [rows:1] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 20:56:41 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.819ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 20:56:40.21'
LIMIT 30;

2022/05/25 20:56:41 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.571ms] [rows:1] SELECT created_at FROM videos WHERE id = 3

2022/05/25 20:56:45 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[0.424ms] [rows:1] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:20:25 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 21:20:25 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.513ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 21:20:25 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/25 21:20:25 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.520ms] [rows:-] SELECT DATABASE()

2022/05/25 21:20:25 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.203ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 21:20:25 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.503ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/25 21:20:25 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[19.653ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/25 21:20:25 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[12.474ms] [rows:0] ALTER TABLE `users` MODIFY COLUMN `is_follow` boolean NOT NULL DEFAULT false COMMENT '是否关注'

2022/05/25 21:20:25 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 21:20:25 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.519ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 21:20:25 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/25 21:20:25 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.508ms] [rows:-] SELECT DATABASE()

2022/05/25 21:20:25 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.253ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 21:20:25 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.530ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND table_type = 'BASE TABLE'

2022/05/25 21:20:25 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 21:20:25 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.591ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 21:20:25 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.518ms] [rows:-] SELECT * FROM `videos` LIMIT 1

2022/05/25 21:20:25 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[8.592ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'videos' ORDER BY ORDINAL_POSITION

2022/05/25 21:20:25 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[11.538ms] [rows:0] ALTER TABLE `videos` MODIFY COLUMN `is_favorite` boolean NOT NULL DEFAULT false COMMENT '是否点赞'

2022/05/25 21:20:25 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 21:20:25 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.528ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 21:20:25 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_disk_type'

2022/05/25 21:20:25 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 21:20:25 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.646ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 21:20:25 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_deleted_at'

2022/05/25 21:20:25 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.054ms] [rows:-] SELECT DATABASE()

2022/05/25 21:20:25 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.391ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 21:20:25 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND table_type = 'BASE TABLE'

2022/05/25 21:20:25 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 21:20:25 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.863ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 21:20:25 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `comments` LIMIT 1

2022/05/25 21:20:25 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[11.997ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'comments' ORDER BY ORDINAL_POSITION

2022/05/25 21:20:25 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 21:20:25 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.998ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 21:20:25 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.998ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND index_name = 'idx_comments_deleted_at'

2022/05/25 21:20:25 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 21:20:25 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.996ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 21:20:25 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND table_type = 'BASE TABLE'

2022/05/25 21:20:25 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.997ms] [rows:-] SELECT DATABASE()

2022/05/25 21:20:25 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.980ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 21:20:25 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `favorites` LIMIT 1

2022/05/25 21:20:25 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[12.171ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' ORDER BY ORDINAL_POSITION

2022/05/25 21:20:25 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 21:20:25 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.271ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 21:20:25 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND index_name = 'idx_favorites_deleted_at'

2022/05/25 21:20:25 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[1.116ms] [rows:-] SELECT DATABASE()

2022/05/25 21:20:25 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.753ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 21:20:25 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND table_type = 'BASE TABLE'

2022/05/25 21:20:25 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.060ms] [rows:-] SELECT DATABASE()

2022/05/25 21:20:25 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.807ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 21:20:25 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `relations` LIMIT 1

2022/05/25 21:20:25 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[12.500ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'relations' ORDER BY ORDINAL_POSITION

2022/05/25 21:20:25 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 21:20:25 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.422ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 21:20:25 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND index_name = 'idx_relations_deleted_at'

2022/05/25 21:20:40 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[0.532ms] [rows:1] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:20:40 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[11.064ms] [rows:1] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:20:44 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[0.433ms] [rows:1] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:20:44 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[0.534ms] [rows:1] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:20:47 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.999ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 21:20:45.652'
LIMIT 30;

2022/05/25 21:20:47 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 1

2022/05/25 21:20:47 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[0.075ms] [rows:1] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:20:47 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.000ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 21:20:46.189'
LIMIT 30;

2022/05/25 21:20:47 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.936ms] [rows:1] SELECT created_at FROM videos WHERE id = 1

2022/05/25 21:20:47 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[0.636ms] [rows:1] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:20:47 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[0.997ms] [rows:1] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:20:47 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.998ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 21:20:46.244'
LIMIT 30;

2022/05/25 21:20:47 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.054ms] [rows:1] SELECT created_at FROM videos WHERE id = 1

2022/05/25 21:20:47 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[0.522ms] [rows:1] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:20:59 E:/summerByteDance/DouYin_demo/app/services/publish.go:61
[2.082ms] [rows:1] INSERT INTO `videos` (`author_id`,`play_url`,`cover_url`,`favorite_count`,`comment_count`,`is_favorite`,`disk_type`,`src_type`,`created_at`,`updated_at`,`deleted_at`) VALUES (3,'http://192.168.0.107:8888/storage/local/33333/a5c9c351-159c-4353-a4a1-df6f843e4619.MP4','',0,0,false,'local',1,'2022-05-25 21:20:59.065','2022-05-25 21:20:59.065',NULL)

2022/05/25 21:21:04 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[1.000ms] [rows:1] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:21:04 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[0.522ms] [rows:1] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:21:04 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.799ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 21:21:02.353'
LIMIT 30;

2022/05/25 21:21:04 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.513ms] [rows:1] SELECT created_at FROM videos WHERE id = 4

2022/05/25 21:21:08 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.561ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 21:21:06.557'
LIMIT 30;

2022/05/25 21:21:08 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.013ms] [rows:1] SELECT created_at FROM videos WHERE id = 4

2022/05/25 21:21:08 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[0.671ms] [rows:1] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:21:08 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[1.098ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 21:21:06.939'
LIMIT 30;

2022/05/25 21:21:08 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 4

2022/05/25 21:21:08 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[0.312ms] [rows:1] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:21:12 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[0.738ms] [rows:1] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:21:12 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[1.169ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 21:21:10.871'
LIMIT 30;

2022/05/25 21:21:12 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.504ms] [rows:1] SELECT created_at FROM videos WHERE id = 4

2022/05/25 21:21:12 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[1.819ms] [rows:1] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:21:30 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[0.517ms] [rows:1] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:21:43 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[0.997ms] [rows:1] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:21:48 E:/summerByteDance/DouYin_demo/app/services/user.go:24
[0.000ms] [rows:1] SELECT `id` FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:21:51 E:/summerByteDance/DouYin_demo/app/services/user.go:24
[0.915ms] [rows:1] SELECT `id` FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:21:53 E:/summerByteDance/DouYin_demo/app/services/user.go:24
[0.000ms] [rows:1] SELECT `id` FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:21:54 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[0.156ms] [rows:1] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:21:54 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[0.516ms] [rows:1] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:21:58 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[0.715ms] [rows:1] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:21:58 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[1.903ms] [rows:1] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:22:01 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[1.139ms] [rows:1] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:22:01 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[0.702ms] [rows:1] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:22:04 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.674ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 21:22:02.522'
LIMIT 30;

2022/05/25 21:22:04 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 4

2022/05/25 21:22:04 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[0.532ms] [rows:1] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:22:04 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[0.609ms] [rows:1] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:22:04 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[0.369ms] [rows:1] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:22:04 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[1.339ms] [rows:1] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:22:04 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.771ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 21:22:02.726'
LIMIT 30;

2022/05/25 21:22:04 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 4

2022/05/25 21:22:15 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[0.180ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:22:15 E:/summerByteDance/DouYin_demo/app/services/user.go:48
[0.821ms] [rows:1] SELECT * FROM `users` WHERE `users`.`id` = 1 AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:22:15 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[0.932ms] [rows:1] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:22:15 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[0.594ms] [rows:1] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:22:19 E:/summerByteDance/DouYin_demo/app/services/user.go:24
[0.997ms] [rows:1] SELECT `id` FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:22:21 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[0.439ms] [rows:1] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:22:21 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[0.652ms] [rows:1] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:22:21 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[1.372ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 21:22:19.514'
LIMIT 30;

2022/05/25 21:22:21 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.613ms] [rows:1] SELECT created_at FROM videos WHERE id = 4

2022/05/25 21:22:24 E:/summerByteDance/DouYin_demo/app/services/user.go:24
[0.294ms] [rows:1] SELECT `id` FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:22:26 E:/summerByteDance/DouYin_demo/app/services/user.go:24
[0.968ms] [rows:1] SELECT `id` FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:22:31 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[0.216ms] [rows:1] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:22:31 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[0.528ms] [rows:1] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:22:33 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[0.844ms] [rows:1] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:22:33 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[0.529ms] [rows:1] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:22:37 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[0.998ms] [rows:1] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:22:37 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[0.690ms] [rows:1] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:22:42 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[0.863ms] [rows:1] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:22:42 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[0.681ms] [rows:1] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:24:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 21:24:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[5.594ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 21:24:21 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.508ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/25 21:24:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 21:24:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.515ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 21:24:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/25 21:24:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[11.255ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/25 21:24:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[8.064ms] [rows:0] ALTER TABLE `users` MODIFY COLUMN `is_follow` boolean NOT NULL DEFAULT false COMMENT '是否关注'

2022/05/25 21:24:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.506ms] [rows:-] SELECT DATABASE()

2022/05/25 21:24:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.661ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 21:24:21 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/25 21:24:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 21:24:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.561ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 21:24:21 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.264ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND table_type = 'BASE TABLE'

2022/05/25 21:24:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 21:24:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.561ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 21:24:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.118ms] [rows:-] SELECT * FROM `videos` LIMIT 1

2022/05/25 21:24:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[5.568ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'videos' ORDER BY ORDINAL_POSITION

2022/05/25 21:24:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[8.486ms] [rows:0] ALTER TABLE `videos` MODIFY COLUMN `is_favorite` boolean NOT NULL DEFAULT false COMMENT '是否点赞'

2022/05/25 21:24:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 21:24:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.462ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 21:24:21 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_disk_type'

2022/05/25 21:24:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 21:24:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.556ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 21:24:21 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_deleted_at'

2022/05/25 21:24:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.514ms] [rows:-] SELECT DATABASE()

2022/05/25 21:24:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.000ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 21:24:21 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND table_type = 'BASE TABLE'

2022/05/25 21:24:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 21:24:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.888ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 21:24:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `comments` LIMIT 1

2022/05/25 21:24:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[7.120ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'comments' ORDER BY ORDINAL_POSITION

2022/05/25 21:24:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 21:24:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.169ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 21:24:21 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.533ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND index_name = 'idx_comments_deleted_at'

2022/05/25 21:24:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 21:24:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.556ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 21:24:21 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.116ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND table_type = 'BASE TABLE'

2022/05/25 21:24:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 21:24:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.555ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 21:24:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.240ms] [rows:-] SELECT * FROM `favorites` LIMIT 1

2022/05/25 21:24:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[4.956ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' ORDER BY ORDINAL_POSITION

2022/05/25 21:24:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 21:24:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.000ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 21:24:21 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND index_name = 'idx_favorites_deleted_at'

2022/05/25 21:24:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 21:24:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.102ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 21:24:21 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.521ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND table_type = 'BASE TABLE'

2022/05/25 21:24:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 21:24:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.732ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 21:24:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `relations` LIMIT 1

2022/05/25 21:24:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[5.869ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'relations' ORDER BY ORDINAL_POSITION

2022/05/25 21:24:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 21:24:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.515ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 21:24:21 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.670ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND index_name = 'idx_relations_deleted_at'

2022/05/25 21:24:24 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.712ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 21:24:22.775'
LIMIT 30;

2022/05/25 21:24:24 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.529ms] [rows:1] SELECT created_at FROM videos WHERE id = 2

2022/05/25 21:24:24 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[1.059ms] [rows:1] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:24:24 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.517ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 21:24:22.953'
LIMIT 30;

2022/05/25 21:24:24 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 2

2022/05/25 21:24:24 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[9.893ms] [rows:1] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:24:30 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[0.202ms] [rows:1] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:24:30 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[0.564ms] [rows:1] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:24:30 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.537ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 21:24:28.617'
LIMIT 30;

2022/05/25 21:24:30 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 2

2022/05/25 21:24:36 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[0.703ms] [rows:1] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:24:36 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[0.554ms] [rows:1] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:24:37 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[0.070ms] [rows:1] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:24:37 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[0.000ms] [rows:1] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:24:51 E:/summerByteDance/DouYin_demo/app/services/publish.go:61
[2.023ms] [rows:1] INSERT INTO `videos` (`author_id`,`play_url`,`cover_url`,`favorite_count`,`comment_count`,`is_favorite`,`disk_type`,`src_type`,`created_at`,`updated_at`,`deleted_at`) VALUES (3,'http://192.168.0.107:8888/storage/local/3e
/a3ff4c9b-7cab-4ec6-8a7d-6af46860d450.MP4','',0,0,false,'local',1,'2022-05-25 21:24:51.503','2022-05-25 21:24:51.503',NULL)

2022/05/25 21:24:55 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[1.017ms] [rows:1] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:24:55 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[0.517ms] [rows:1] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:24:59 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.566ms] [rows:3] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 21:24:57.411'
LIMIT 30;

2022/05/25 21:24:59 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 5

2022/05/25 21:24:59 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[0.000ms] [rows:1] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:24:59 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[0.000ms] [rows:1] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:24:59 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[1.266ms] [rows:3] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 21:24:57.752'
LIMIT 30;

2022/05/25 21:24:59 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.324ms] [rows:1] SELECT created_at FROM videos WHERE id = 5

2022/05/25 21:25:02 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[1.476ms] [rows:1] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:25:02 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[0.549ms] [rows:1] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:25:05 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[0.982ms] [rows:1] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:25:05 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[1.043ms] [rows:1] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:25:07 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[0.463ms] [rows:1] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:25:07 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[0.853ms] [rows:1] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:25:07 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[1.333ms] [rows:3] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 21:25:05.691'
LIMIT 30;

2022/05/25 21:25:07 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.681ms] [rows:1] SELECT created_at FROM videos WHERE id = 5

2022/05/25 21:25:10 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[1.001ms] [rows:1] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:25:10 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[0.528ms] [rows:1] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:25:45 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[1.131ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:25:45 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.537ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:25:47 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[1.501ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:25:47 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.527ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:25:47 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.551ms] [rows:3] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 21:25:45.612'
LIMIT 30;

2022/05/25 21:25:47 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 5

2022/05/25 21:25:48 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.158ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:25:48 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.514ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:25:49 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.188ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:25:49 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.000ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:26:04 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.691ms] [rows:3] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 21:26:02.299'
LIMIT 30;

2022/05/25 21:26:04 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 5

2022/05/25 21:26:04 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.324ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:26:04 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.000ms] [rows:3] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 21:26:02.675'
LIMIT 30;

2022/05/25 21:26:04 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.564ms] [rows:1] SELECT created_at FROM videos WHERE id = 5

2022/05/25 21:26:04 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.229ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:26:08 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[1.678ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:26:08 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.000ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:26:12 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.169ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:26:12 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.152ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:26:24 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.938ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:26:24 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.533ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:26:29 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.530ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:26:29 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.583ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:26:39 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.998ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:26:39 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[1.419ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:26:43 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[1.025ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:26:43 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.039ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:28:45 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.000ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:28:45 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.222ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:28:50 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[1.139ms] [rows:3] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 21:28:48.44'
LIMIT 30;

2022/05/25 21:28:50 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 5

2022/05/25 21:28:50 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.862ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:28:50 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.000ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:28:50 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.401ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:28:50 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.837ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:28:50 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[1.467ms] [rows:3] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 21:28:48.644'
LIMIT 30;

2022/05/25 21:28:50 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 5

2022/05/25 21:28:52 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.944ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:28:52 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.773ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:28:52 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.000ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:28:52 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[1.718ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:29:20 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[0.057ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:29:20 E:/summerByteDance/DouYin_demo/app/services/user.go:48
[0.000ms] [rows:1] SELECT * FROM `users` WHERE `users`.`id` = 1 AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:34:39 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.504ms] [rows:-] SELECT DATABASE()

2022/05/25 21:34:39 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.019ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 21:34:39 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/25 21:34:39 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 21:34:39 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.784ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 21:34:39 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/25 21:34:39 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[10.619ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/25 21:34:39 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[10.482ms] [rows:0] ALTER TABLE `users` MODIFY COLUMN `is_follow` boolean NOT NULL DEFAULT false COMMENT '是否关注'

2022/05/25 21:34:39 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 21:34:39 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.740ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 21:34:39 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/25 21:34:39 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 21:34:39 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.842ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 21:34:39 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND table_type = 'BASE TABLE'

2022/05/25 21:34:39 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 21:34:39 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.780ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 21:34:39 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `videos` LIMIT 1

2022/05/25 21:34:39 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[6.083ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'videos' ORDER BY ORDINAL_POSITION

2022/05/25 21:34:39 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[8.844ms] [rows:0] ALTER TABLE `videos` MODIFY COLUMN `is_favorite` boolean NOT NULL DEFAULT false COMMENT '是否点赞'

2022/05/25 21:34:39 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.218ms] [rows:-] SELECT DATABASE()

2022/05/25 21:34:39 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.826ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 21:34:39 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.504ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_disk_type'

2022/05/25 21:34:39 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 21:34:39 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.032ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 21:34:39 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_deleted_at'

2022/05/25 21:34:39 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 21:34:39 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.163ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 21:34:39 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND table_type = 'BASE TABLE'

2022/05/25 21:34:39 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 21:34:39 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.177ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 21:34:39 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `comments` LIMIT 1

2022/05/25 21:34:39 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[37.143ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'comments' ORDER BY ORDINAL_POSITION

2022/05/25 21:34:39 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.505ms] [rows:-] SELECT DATABASE()

2022/05/25 21:34:39 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.116ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 21:34:39 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.505ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND index_name = 'idx_comments_deleted_at'

2022/05/25 21:34:39 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 21:34:39 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.505ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 21:34:39 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.521ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND table_type = 'BASE TABLE'

2022/05/25 21:34:39 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 21:34:39 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.368ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 21:34:39 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `favorites` LIMIT 1

2022/05/25 21:34:39 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[16.369ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' ORDER BY ORDINAL_POSITION

2022/05/25 21:34:39 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 21:34:39 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.358ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 21:34:39 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND index_name = 'idx_favorites_deleted_at'

2022/05/25 21:34:39 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 21:34:39 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.443ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 21:34:39 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.672ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND table_type = 'BASE TABLE'

2022/05/25 21:34:39 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 21:34:39 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.205ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 21:34:39 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `relations` LIMIT 1

2022/05/25 21:34:39 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[8.748ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'relations' ORDER BY ORDINAL_POSITION

2022/05/25 21:34:39 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 21:34:39 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.063ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 21:34:39 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND index_name = 'idx_relations_deleted_at'

2022/05/25 21:35:04 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.656ms] [rows:3] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 21:35:02.604'
LIMIT 30;

2022/05/25 21:35:04 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 5

2022/05/25 21:35:04 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.000ms] [rows:3] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 21:35:02.975'
LIMIT 30;

2022/05/25 21:35:04 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.518ms] [rows:1] SELECT created_at FROM videos WHERE id = 5

2022/05/25 21:35:04 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.000ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:35:04 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.535ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:35:13 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.000ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:35:13 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.000ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:35:30 E:/summerByteDance/DouYin_demo/app/services/publish.go:61
[4.878ms] [rows:1] INSERT INTO `videos` (`author_id`,`play_url`,`cover_url`,`favorite_count`,`comment_count`,`is_favorite`,`disk_type`,`src_type`,`created_at`,`updated_at`,`deleted_at`) VALUES (0,'http://localhost:8888/storage/local/5555/283aa8ba-5e0a-40c3-a7fe-fde20fd21e9e.MP4','',0,0,false,'local',1,'2022-05-25 21:35:30.624','2022-05-25 21:35:30.624',NULL)

2022/05/25 21:35:35 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.996ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:35:35 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[14.642ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:35:38 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.871ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:35:38 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.000ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:35:40 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.527ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:35:40 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[1.469ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 21:35:38.702'
LIMIT 30;

2022/05/25 21:35:40 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 6

2022/05/25 21:35:40 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.000ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:35:49 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.825ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 21:35:47.539'
LIMIT 30;

2022/05/25 21:35:49 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 6

2022/05/25 21:35:49 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.518ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:35:49 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[1.517ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:35:53 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.791ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:35:53 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[1.175ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 21:35:51.452'
LIMIT 30;

2022/05/25 21:35:53 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 6

2022/05/25 21:35:53 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.983ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:35:54 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.383ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:35:54 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.000ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:35:56 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.000ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:35:56 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.078ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:37:23 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.027ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:37:27 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.806ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 21:37:25.943'
LIMIT 30;

2022/05/25 21:37:27 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 6

2022/05/25 21:37:28 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[1.476ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:37:28 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[1.058ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:37:31 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.998ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:37:31 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.998ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:37:31 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.125ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 21:37:30.135'
LIMIT 30;

2022/05/25 21:37:31 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.522ms] [rows:1] SELECT created_at FROM videos WHERE id = 6

2022/05/25 21:37:34 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.407ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:37:34 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.000ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:37:36 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.646ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:37:36 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.545ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:37:46 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.578ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:37:46 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.000ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:38:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 21:38:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.507ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 21:38:36 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/25 21:38:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 21:38:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.052ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 21:38:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/25 21:38:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[13.877ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/25 21:38:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[7.490ms] [rows:0] ALTER TABLE `users` MODIFY COLUMN `is_follow` boolean NOT NULL DEFAULT false COMMENT '是否关注'

2022/05/25 21:38:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 21:38:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.511ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 21:38:36 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/25 21:38:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 21:38:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.213ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 21:38:36 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.504ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND table_type = 'BASE TABLE'

2022/05/25 21:38:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 21:38:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.511ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 21:38:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `videos` LIMIT 1

2022/05/25 21:38:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[6.491ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'videos' ORDER BY ORDINAL_POSITION

2022/05/25 21:38:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[7.492ms] [rows:0] ALTER TABLE `videos` MODIFY COLUMN `is_favorite` boolean NOT NULL DEFAULT false COMMENT '是否点赞'

2022/05/25 21:38:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 21:38:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.565ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 21:38:36 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.550ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_deleted_at'

2022/05/25 21:38:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 21:38:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.507ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 21:38:36 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_disk_type'

2022/05/25 21:38:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 21:38:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.622ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 21:38:36 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND table_type = 'BASE TABLE'

2022/05/25 21:38:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 21:38:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.771ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 21:38:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `comments` LIMIT 1

2022/05/25 21:38:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[6.591ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'comments' ORDER BY ORDINAL_POSITION

2022/05/25 21:38:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 21:38:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.530ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 21:38:36 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND index_name = 'idx_comments_deleted_at'

2022/05/25 21:38:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 21:38:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.668ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 21:38:36 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.332ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND table_type = 'BASE TABLE'

2022/05/25 21:38:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 21:38:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.559ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 21:38:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `favorites` LIMIT 1

2022/05/25 21:38:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[10.564ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' ORDER BY ORDINAL_POSITION

2022/05/25 21:38:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 21:38:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.512ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 21:38:36 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND index_name = 'idx_favorites_deleted_at'

2022/05/25 21:38:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.512ms] [rows:-] SELECT DATABASE()

2022/05/25 21:38:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.635ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 21:38:36 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND table_type = 'BASE TABLE'

2022/05/25 21:38:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 21:38:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.532ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 21:38:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `relations` LIMIT 1

2022/05/25 21:38:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[5.493ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'relations' ORDER BY ORDINAL_POSITION

2022/05/25 21:38:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 21:38:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.404ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 21:38:36 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND index_name = 'idx_relations_deleted_at'

2022/05/25 21:38:46 E:/summerByteDance/DouYin_demo/app/services/publish.go:61
[1.585ms] [rows:1] INSERT INTO `videos` (`author_id`,`play_url`,`cover_url`,`favorite_count`,`comment_count`,`is_favorite`,`disk_type`,`src_type`,`created_at`,`updated_at`,`deleted_at`) VALUES (0,'http://127.0.0.1:8888/storage/local/qwe/34c587f8-23be-4305-9434-41db8a390dc0.MP4','',0,0,false,'local',1,'2022-05-25 21:38:46.11','2022-05-25 21:38:46.11',NULL)

2022/05/25 21:38:53 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.586ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:38:53 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.994ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:38:53 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.000ms] [rows:5] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 21:38:51.804'
LIMIT 30;

2022/05/25 21:38:53 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[1.089ms] [rows:1] SELECT created_at FROM videos WHERE id = 7

2022/05/25 21:38:55 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[1.359ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:38:55 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.645ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:38:57 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[1.030ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:38:57 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.000ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:38:59 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.954ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:38:59 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.061ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:40:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 21:40:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.510ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 21:40:17 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/25 21:40:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.508ms] [rows:-] SELECT DATABASE()

2022/05/25 21:40:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.618ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 21:40:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/25 21:40:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[10.992ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/25 21:40:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[10.482ms] [rows:0] ALTER TABLE `users` MODIFY COLUMN `is_follow` boolean NOT NULL DEFAULT false COMMENT '是否关注'

2022/05/25 21:40:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.340ms] [rows:-] SELECT DATABASE()

2022/05/25 21:40:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.716ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 21:40:17 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/25 21:40:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 21:40:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.075ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 21:40:17 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND table_type = 'BASE TABLE'

2022/05/25 21:40:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.530ms] [rows:-] SELECT DATABASE()

2022/05/25 21:40:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.514ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 21:40:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `videos` LIMIT 1

2022/05/25 21:40:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[9.883ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'videos' ORDER BY ORDINAL_POSITION

2022/05/25 21:40:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[8.975ms] [rows:0] ALTER TABLE `videos` MODIFY COLUMN `is_favorite` boolean NOT NULL DEFAULT false COMMENT '是否点赞'

2022/05/25 21:40:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 21:40:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.515ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 21:40:17 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_disk_type'

2022/05/25 21:40:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 21:40:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.344ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 21:40:17 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_deleted_at'

2022/05/25 21:40:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 21:40:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.541ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 21:40:17 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.526ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND table_type = 'BASE TABLE'

2022/05/25 21:40:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 21:40:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.727ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 21:40:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `comments` LIMIT 1

2022/05/25 21:40:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[9.621ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'comments' ORDER BY ORDINAL_POSITION

2022/05/25 21:40:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 21:40:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.869ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 21:40:17 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND index_name = 'idx_comments_deleted_at'

2022/05/25 21:40:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.510ms] [rows:-] SELECT DATABASE()

2022/05/25 21:40:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.506ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 21:40:17 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.041ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND table_type = 'BASE TABLE'

2022/05/25 21:40:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 21:40:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.554ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 21:40:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `favorites` LIMIT 1

2022/05/25 21:40:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[6.556ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' ORDER BY ORDINAL_POSITION

2022/05/25 21:40:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 21:40:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.270ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 21:40:17 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND index_name = 'idx_favorites_deleted_at'

2022/05/25 21:40:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 21:40:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.625ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 21:40:17 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND table_type = 'BASE TABLE'

2022/05/25 21:40:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 21:40:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.513ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 21:40:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.516ms] [rows:-] SELECT * FROM `relations` LIMIT 1

2022/05/25 21:40:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[8.424ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'relations' ORDER BY ORDINAL_POSITION

2022/05/25 21:40:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 21:40:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.047ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 21:40:17 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND index_name = 'idx_relations_deleted_at'

2022/05/25 21:40:32 E:/summerByteDance/DouYin_demo/app/services/publish.go:61
[9.222ms] [rows:1] INSERT INTO `videos` (`author_id`,`play_url`,`cover_url`,`favorite_count`,`comment_count`,`is_favorite`,`disk_type`,`src_type`,`created_at`,`updated_at`,`deleted_at`) VALUES (0,'http://192.168.0.107:8888/storage/local/qwe
/a6dc501e-c318-457c-b8e9-3c7607c63223.MP4','',0,0,false,'local',1,'2022-05-25 21:40:32.81','2022-05-25 21:40:32.81',NULL)

2022/05/25 21:40:36 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.000ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:40:36 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.336ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:40:37 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.368ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:40:37 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.000ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:40:37 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[1.387ms] [rows:6] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 21:40:35.907'
LIMIT 30;

2022/05/25 21:40:37 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.520ms] [rows:1] SELECT created_at FROM videos WHERE id = 8

2022/05/25 21:40:40 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.666ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:40:40 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.671ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:40:41 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.945ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:40:41 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.627ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:40:42 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.427ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:40:42 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.523ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:41:46 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.224ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:41:46 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[12.800ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:42:25 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[1.267ms] [rows:6] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 21:42:23.089'
LIMIT 30;

2022/05/25 21:42:25 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.519ms] [rows:1] SELECT created_at FROM videos WHERE id = 8

2022/05/25 21:42:25 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.635ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:42:25 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.578ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:42:28 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.835ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:42:28 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.748ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:42:59 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.722ms] [rows:6] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 21:42:58.123'
LIMIT 30;

2022/05/25 21:42:59 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 8

2022/05/25 21:43:00 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.557ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:43:00 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.514ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:43:00 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.999ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:43:00 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.000ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:43:13 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[1.301ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:43:13 E:/summerByteDance/DouYin_demo/app/services/user.go:48
[0.554ms] [rows:1] SELECT * FROM `users` WHERE `users`.`id` = 1 AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:43:13 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.615ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:43:13 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.512ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:43:28 E:/summerByteDance/DouYin_demo/app/services/publish.go:61
[1.545ms] [rows:1] INSERT INTO `videos` (`author_id`,`play_url`,`cover_url`,`favorite_count`,`comment_count`,`is_favorite`,`disk_type`,`src_type`,`created_at`,`updated_at`,`deleted_at`) VALUES (0,'http://192.168.0.107:8888/storage/local/dsadasdsad/68475706-3d03-4265-b0e1-508c59e9a12f.MP4','',0,0,false,'local',1,'2022-05-25 21:43:28.683','2022-05-25 21:43:28.683',NULL)

2022/05/25 21:43:38 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.972ms] [rows:7] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 21:43:36.442'
LIMIT 30;

2022/05/25 21:43:38 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.550ms] [rows:1] SELECT created_at FROM videos WHERE id = 9

2022/05/25 21:43:38 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.838ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:43:38 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.797ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:43:42 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.912ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:43:42 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.284ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:43:45 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.375ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:43:45 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.407ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:43:47 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.357ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:43:47 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.530ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:43:49 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.608ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:43:49 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[1.015ms] [rows:7] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 21:43:47.81'
LIMIT 30;

2022/05/25 21:43:49 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 9

2022/05/25 21:43:49 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.219ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:43:50 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.303ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:43:50 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.514ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:43:52 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.186ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:43:52 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.515ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:43:58 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.910ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:43:58 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.000ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:44:02 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.000ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:44:02 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.585ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:44:32 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.759ms] [rows:-] SELECT DATABASE()

2022/05/25 21:44:32 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.278ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 21:44:32 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/25 21:44:32 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 21:44:32 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.332ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 21:44:32 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/25 21:44:32 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[18.755ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/25 21:44:32 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[17.468ms] [rows:0] ALTER TABLE `users` MODIFY COLUMN `is_follow` boolean NOT NULL DEFAULT false COMMENT '是否关注'

2022/05/25 21:44:32 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.998ms] [rows:-] SELECT DATABASE()

2022/05/25 21:44:32 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.374ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 21:44:32 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.516ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/25 21:44:32 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 21:44:32 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.035ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 21:44:32 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[1.513ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND table_type = 'BASE TABLE'

2022/05/25 21:44:32 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 21:44:32 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.520ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 21:44:32 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.763ms] [rows:-] SELECT * FROM `videos` LIMIT 1

2022/05/25 21:44:32 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[9.758ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'videos' ORDER BY ORDINAL_POSITION

2022/05/25 21:44:32 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[14.472ms] [rows:0] ALTER TABLE `videos` MODIFY COLUMN `is_favorite` boolean NOT NULL DEFAULT false COMMENT '是否点赞'

2022/05/25 21:44:32 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 21:44:32 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.530ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 21:44:32 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_disk_type'

2022/05/25 21:44:32 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 21:44:32 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.835ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 21:44:32 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_deleted_at'

2022/05/25 21:44:32 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 21:44:32 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.519ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 21:44:32 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND table_type = 'BASE TABLE'

2022/05/25 21:44:32 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 21:44:32 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.314ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 21:44:32 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.516ms] [rows:-] SELECT * FROM `comments` LIMIT 1

2022/05/25 21:44:32 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[10.502ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'comments' ORDER BY ORDINAL_POSITION

2022/05/25 21:44:32 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 21:44:32 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.986ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 21:44:32 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND index_name = 'idx_comments_deleted_at'

2022/05/25 21:44:32 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.517ms] [rows:-] SELECT DATABASE()

2022/05/25 21:44:32 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.513ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 21:44:32 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND table_type = 'BASE TABLE'

2022/05/25 21:44:32 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 21:44:32 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.520ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 21:44:32 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.511ms] [rows:-] SELECT * FROM `favorites` LIMIT 1

2022/05/25 21:44:32 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[10.213ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' ORDER BY ORDINAL_POSITION

2022/05/25 21:44:32 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 21:44:32 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.006ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 21:44:32 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND index_name = 'idx_favorites_deleted_at'

2022/05/25 21:44:32 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 21:44:32 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.635ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 21:44:32 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.572ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND table_type = 'BASE TABLE'

2022/05/25 21:44:32 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 21:44:32 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.144ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 21:44:32 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `relations` LIMIT 1

2022/05/25 21:44:32 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[12.120ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'relations' ORDER BY ORDINAL_POSITION

2022/05/25 21:44:32 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 21:44:32 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.534ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 21:44:32 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.506ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND index_name = 'idx_relations_deleted_at'

2022/05/25 21:45:06 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.000ms] [rows:3] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 21:45:04.25'
LIMIT 30;

2022/05/25 21:45:06 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[1.355ms] [rows:1] SELECT created_at FROM videos WHERE id = 5

2022/05/25 21:45:06 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.000ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:45:06 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.790ms] [rows:3] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 21:45:04.655'
LIMIT 30;

2022/05/25 21:45:06 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.640ms] [rows:1] SELECT created_at FROM videos WHERE id = 5

2022/05/25 21:45:06 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.519ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:45:10 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.349ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:45:10 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.518ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:45:12 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.104ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:45:12 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.569ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:45:14 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.336ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:45:14 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[1.005ms] [rows:3] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 21:45:12.671'
LIMIT 30;

2022/05/25 21:45:14 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 5

2022/05/25 21:45:14 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.202ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:45:17 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.313ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:45:17 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.030ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:45:27 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.000ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:45:27 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.588ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:45:29 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.000ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:45:29 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.854ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:45:32 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[1.230ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 21:45:32 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.284ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 22:07:22 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.504ms] [rows:3] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 22:07:21.038'
LIMIT 30;

2022/05/25 22:07:22 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 5

2022/05/25 22:07:22 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.935ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 22:07:22 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.117ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 22:07:22 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.580ms] [rows:3] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 22:07:21.463'
LIMIT 30;

2022/05/25 22:07:22 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 5

2022/05/25 22:07:24 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.999ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 22:07:24 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.600ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 22:07:27 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[1.192ms] [rows:3] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 22:07:26.07'
LIMIT 30;

2022/05/25 22:07:27 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.143ms] [rows:1] SELECT created_at FROM videos WHERE id = 5

2022/05/25 22:07:27 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.621ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 22:07:27 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.000ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 22:07:27 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.258ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 22:07:27 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.999ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 22:07:27 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.517ms] [rows:3] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 22:07:26.276'
LIMIT 30;

2022/05/25 22:07:27 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.510ms] [rows:1] SELECT created_at FROM videos WHERE id = 5

2022/05/25 22:07:40 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[2.099ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 22:07:40 E:/summerByteDance/DouYin_demo/app/services/user.go:48
[0.755ms] [rows:1] SELECT * FROM `users` WHERE `users`.`id` = 1 AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 22:07:50 E:/summerByteDance/DouYin_demo/app/services/publish.go:61
[3.227ms] [rows:1] INSERT INTO `videos` (`author_id`,`play_url`,`cover_url`,`favorite_count`,`comment_count`,`is_favorite`,`disk_type`,`src_type`,`created_at`,`updated_at`,`deleted_at`) VALUES (1,'http://localhost:8888/storage/local/1561651
/e1f5debf-5bdd-4532-91dd-c1ed68f7c546.MP4','',0,0,false,'local',1,'2022-05-25 22:07:50.56','2022-05-25 22:07:50.56',NULL)

2022/05/25 22:07:58 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[1.011ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 22:07:58 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[14.275ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 22:08:03 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.303ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 22:08:03 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.620ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 22:08:06 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.974ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 22:08:06 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[1.627ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 22:08:06 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[1.112ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 22:08:05.056'
LIMIT 30;

2022/05/25 22:08:06 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.519ms] [rows:1] SELECT created_at FROM videos WHERE id = 5

2022/05/25 22:08:13 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.928ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 22:08:13 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.516ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 22:08:16 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.364ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 22:08:16 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.462ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 22:08:18 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.514ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 22:08:18 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[1.069ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 22:08:31 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.442ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 22:08:30.562'
LIMIT 30;

2022/05/25 22:08:31 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.754ms] [rows:1] SELECT created_at FROM videos WHERE id = 5

2022/05/25 22:08:32 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.000ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 22:08:32 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.569ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 22:08:42 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.510ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 22:08:42 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.518ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 22:08:42 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.037ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 22:08:41.276'
LIMIT 30;

2022/05/25 22:08:42 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 5

2022/05/25 22:09:08 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.998ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 22:09:08 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.805ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 22:09:11 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.321ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 22:09:11 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.209ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 22:09:17 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[1.539ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 22:09:17 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.000ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 22:09:22 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.340ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 22:09:22 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.560ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 22:09:22 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.915ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 22:09:21.5'
LIMIT 30;

2022/05/25 22:09:22 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 5

2022/05/25 22:09:52 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[2.003ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 22:10:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 22:10:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.508ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 22:10:37 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.278ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/25 22:10:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.508ms] [rows:-] SELECT DATABASE()

2022/05/25 22:10:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.654ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 22:10:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/25 22:10:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[13.547ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/25 22:10:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[8.436ms] [rows:0] ALTER TABLE `users` MODIFY COLUMN `is_follow` boolean NOT NULL DEFAULT false COMMENT '是否关注'

2022/05/25 22:10:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.118ms] [rows:-] SELECT DATABASE()

2022/05/25 22:10:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.507ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 22:10:37 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/25 22:10:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 22:10:38 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.959ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 22:10:38 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.517ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND table_type = 'BASE TABLE'

2022/05/25 22:10:38 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 22:10:38 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.510ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 22:10:38 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `videos` LIMIT 1

2022/05/25 22:10:38 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[13.687ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'videos' ORDER BY ORDINAL_POSITION

2022/05/25 22:10:38 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[6.917ms] [rows:0] ALTER TABLE `videos` MODIFY COLUMN `is_favorite` boolean NOT NULL DEFAULT false COMMENT '是否点赞'

2022/05/25 22:10:38 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 22:10:38 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.511ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 22:10:38 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.367ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_disk_type'

2022/05/25 22:10:38 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 22:10:38 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.508ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 22:10:38 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_deleted_at'

2022/05/25 22:10:38 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 22:10:38 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.643ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 22:10:38 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND table_type = 'BASE TABLE'

2022/05/25 22:10:38 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 22:10:38 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.635ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 22:10:38 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `comments` LIMIT 1

2022/05/25 22:10:38 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[5.536ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'comments' ORDER BY ORDINAL_POSITION

2022/05/25 22:10:38 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 22:10:38 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.510ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 22:10:38 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.386ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND index_name = 'idx_comments_deleted_at'

2022/05/25 22:10:38 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 22:10:38 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.680ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 22:10:38 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND table_type = 'BASE TABLE'

2022/05/25 22:10:38 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 22:10:38 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.702ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 22:10:38 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.336ms] [rows:-] SELECT * FROM `favorites` LIMIT 1

2022/05/25 22:10:38 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[5.168ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' ORDER BY ORDINAL_POSITION

2022/05/25 22:10:38 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 22:10:38 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.514ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 22:10:38 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND index_name = 'idx_favorites_deleted_at'

2022/05/25 22:10:38 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 22:10:38 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.732ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 22:10:38 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.368ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND table_type = 'BASE TABLE'

2022/05/25 22:10:38 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 22:10:38 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.016ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 22:10:38 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `relations` LIMIT 1

2022/05/25 22:10:38 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[5.856ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'relations' ORDER BY ORDINAL_POSITION

2022/05/25 22:10:38 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 22:10:38 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.807ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 22:10:38 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND index_name = 'idx_relations_deleted_at'

2022/05/25 22:10:38 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[1.044ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 22:10:36.276'
LIMIT 30;

2022/05/25 22:10:38 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.512ms] [rows:1] SELECT created_at FROM videos WHERE id = 5

2022/05/25 22:10:38 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.238ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 22:10:38 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[1.121ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 22:10:43 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.953ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 22:10:43 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.671ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 22:10:41.985'
LIMIT 30;

2022/05/25 22:10:43 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 5

2022/05/25 22:10:43 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.546ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 22:10:45 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[1.694ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 22:10:49 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.998ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 22:10:49 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.971ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 22:11:09 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[0.993ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 22:11:09 E:/summerByteDance/DouYin_demo/app/services/user.go:48
[0.510ms] [rows:1] SELECT * FROM `users` WHERE `users`.`id` = 1 AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 22:11:19 E:/summerByteDance/DouYin_demo/app/services/publish.go:61
[10.008ms] [rows:1] INSERT INTO `videos` (`author_id`,`play_url`,`cover_url`,`favorite_count`,`comment_count`,`is_favorite`,`disk_type`,`src_type`,`created_at`,`updated_at`,`deleted_at`) VALUES (1,'http://192.168.1.107:8888/storage/local/999999
/637ffa2a-f68c-43cd-85ad-c6018c94f77b.MP4','',0,0,false,'local',1,'2022-05-25 22:11:19.846','2022-05-25 22:11:19.846',NULL)

2022/05/25 22:11:25 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.759ms] [rows:5] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 22:11:24.635'
LIMIT 30;

2022/05/25 22:11:25 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 5

2022/05/25 22:11:26 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[1.210ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 22:11:26 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.654ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 22:11:29 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.000ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 22:11:29 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.000ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 22:11:35 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.340ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 22:11:35 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.654ms] [rows:5] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 22:11:34.008'
LIMIT 30;

2022/05/25 22:11:35 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.619ms] [rows:1] SELECT created_at FROM videos WHERE id = 5

2022/05/25 22:11:35 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.512ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 22:12:55 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[1.152ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 22:12:55 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.518ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 22:12:57 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.316ms] [rows:3] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 22:12:56.195'
LIMIT 30;

2022/05/25 22:12:57 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.523ms] [rows:1] SELECT created_at FROM videos WHERE id = 5

2022/05/25 22:12:57 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.138ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 22:12:57 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.555ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 22:12:57 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[1.382ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 22:12:57 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[8.477ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 22:12:57 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[1.029ms] [rows:3] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 22:12:56.325'
LIMIT 30;

2022/05/25 22:12:57 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 5

2022/05/25 22:13:10 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 22:13:10 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.685ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 22:13:10 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.489ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/25 22:13:10 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 22:13:10 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.541ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 22:13:10 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/25 22:13:10 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[9.461ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/25 22:13:10 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[7.331ms] [rows:0] ALTER TABLE `users` MODIFY COLUMN `is_follow` boolean NOT NULL DEFAULT false COMMENT '是否关注'

2022/05/25 22:13:10 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.558ms] [rows:-] SELECT DATABASE()

2022/05/25 22:13:10 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.649ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 22:13:10 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/25 22:13:10 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.510ms] [rows:-] SELECT DATABASE()

2022/05/25 22:13:10 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.378ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 22:13:10 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.348ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND table_type = 'BASE TABLE'

2022/05/25 22:13:10 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 22:13:10 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.010ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 22:13:10 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.035ms] [rows:-] SELECT * FROM `videos` LIMIT 1

2022/05/25 22:13:10 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[6.160ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'videos' ORDER BY ORDINAL_POSITION

2022/05/25 22:13:10 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[7.530ms] [rows:0] ALTER TABLE `videos` MODIFY COLUMN `is_favorite` boolean NOT NULL DEFAULT false COMMENT '是否点赞'

2022/05/25 22:13:10 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.218ms] [rows:-] SELECT DATABASE()

2022/05/25 22:13:10 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.611ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 22:13:10 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_disk_type'

2022/05/25 22:13:10 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 22:13:10 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.676ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 22:13:10 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.512ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_deleted_at'

2022/05/25 22:13:10 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 22:13:10 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.511ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 22:13:10 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.557ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND table_type = 'BASE TABLE'

2022/05/25 22:13:10 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 22:13:10 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.859ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 22:13:10 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `comments` LIMIT 1

2022/05/25 22:13:10 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[6.193ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'comments' ORDER BY ORDINAL_POSITION

2022/05/25 22:13:10 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 22:13:10 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.511ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 22:13:10 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND index_name = 'idx_comments_deleted_at'

2022/05/25 22:13:10 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 22:13:10 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.679ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 22:13:10 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.531ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND table_type = 'BASE TABLE'

2022/05/25 22:13:10 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 22:13:10 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.506ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 22:13:10 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.150ms] [rows:-] SELECT * FROM `favorites` LIMIT 1

2022/05/25 22:13:10 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[4.654ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' ORDER BY ORDINAL_POSITION

2022/05/25 22:13:10 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 22:13:10 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.579ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 22:13:10 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND index_name = 'idx_favorites_deleted_at'

2022/05/25 22:13:10 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.505ms] [rows:-] SELECT DATABASE()

2022/05/25 22:13:10 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.548ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 22:13:10 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND table_type = 'BASE TABLE'

2022/05/25 22:13:10 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 22:13:10 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.000ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 22:13:10 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.506ms] [rows:-] SELECT * FROM `relations` LIMIT 1

2022/05/25 22:13:10 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[4.780ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'relations' ORDER BY ORDINAL_POSITION

2022/05/25 22:13:10 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/25 22:13:10 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.846ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/25 22:13:10 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND index_name = 'idx_relations_deleted_at'

2022/05/25 22:13:17 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.823ms] [rows:3] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 22:13:16.28'
LIMIT 30;

2022/05/25 22:13:17 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 5

2022/05/25 22:13:17 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.564ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 22:13:17 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.091ms] [rows:3] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 22:13:16.6'
LIMIT 30;

2022/05/25 22:13:17 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.557ms] [rows:1] SELECT created_at FROM videos WHERE id = 5

2022/05/25 22:13:17 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.840ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 22:13:41 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[1.468ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 22:13:41 E:/summerByteDance/DouYin_demo/app/services/user.go:48
[0.523ms] [rows:1] SELECT * FROM `users` WHERE `users`.`id` = 1 AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 22:13:50 E:/summerByteDance/DouYin_demo/app/services/publish.go:61
[10.075ms] [rows:1] INSERT INTO `videos` (`author_id`,`play_url`,`cover_url`,`favorite_count`,`comment_count`,`is_favorite`,`disk_type`,`src_type`,`created_at`,`updated_at`,`deleted_at`) VALUES (1,'http://192.168.0.107:8888/storage/local/1321321
/d50c8b22-2e00-480f-bc73-2b1fbbea22ee.MP4','',0,0,false,'local',1,'2022-05-25 22:13:50.089','2022-05-25 22:13:50.089',NULL)

2022/05/25 22:13:52 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[1.185ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 22:13:51.615'
LIMIT 30;

2022/05/25 22:13:52 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.558ms] [rows:1] SELECT created_at FROM videos WHERE id = 5

2022/05/25 22:13:53 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.814ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 22:13:53 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.000ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 22:13:57 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.886ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 22:13:57 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[7.155ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 22:13:57 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.997ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 22:13:56.536'
LIMIT 30;

2022/05/25 22:13:57 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 5

2022/05/25 22:14:00 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.570ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 22:14:00 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[2.140ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 22:14:02 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.693ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 22:14:02 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.603ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 22:17:28 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.932ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 22:17:26.863'
LIMIT 30;

2022/05/25 22:17:28 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 5

2022/05/25 22:17:28 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.652ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 22:17:28 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.092ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 22:17:31 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[1.014ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 22:17:31 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.000ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 22:17:31 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.218ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 22:17:29.935'
LIMIT 30;

2022/05/25 22:17:31 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.591ms] [rows:1] SELECT created_at FROM videos WHERE id = 5

2022/05/25 22:17:33 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.584ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 22:17:33 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.540ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 22:17:35 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.769ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/25 22:17:35 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.521ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 00:03:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 00:03:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[2.601ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 00:03:17 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.510ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/26 00:03:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 00:03:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.509ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 00:03:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[1.507ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/26 00:03:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[19.745ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/26 00:03:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[8.981ms] [rows:0] ALTER TABLE `users` MODIFY COLUMN `is_follow` boolean NOT NULL DEFAULT false COMMENT '是否关注'

2022/05/26 00:03:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 00:03:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.510ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 00:03:17 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.650ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/26 00:03:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 00:03:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.507ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 00:03:17 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND table_type = 'BASE TABLE'

2022/05/26 00:03:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.136ms] [rows:-] SELECT DATABASE()

2022/05/26 00:03:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.509ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 00:03:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.512ms] [rows:-] SELECT * FROM `videos` LIMIT 1

2022/05/26 00:03:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[10.939ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'videos' ORDER BY ORDINAL_POSITION

2022/05/26 00:03:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[8.488ms] [rows:0] ALTER TABLE `videos` MODIFY COLUMN `is_favorite` boolean NOT NULL DEFAULT false COMMENT '是否点赞'

2022/05/26 00:03:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 00:03:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.625ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 00:03:17 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.244ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_disk_type'

2022/05/26 00:03:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 00:03:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.508ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 00:03:17 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_deleted_at'

2022/05/26 00:03:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.009ms] [rows:-] SELECT DATABASE()

2022/05/26 00:03:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.543ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 00:03:17 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.441ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND table_type = 'BASE TABLE'

2022/05/26 00:03:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 00:03:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.668ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 00:03:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `comments` LIMIT 1

2022/05/26 00:03:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[11.024ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'comments' ORDER BY ORDINAL_POSITION

2022/05/26 00:03:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 00:03:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.527ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 00:03:17 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND index_name = 'idx_comments_deleted_at'

2022/05/26 00:03:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.010ms] [rows:-] SELECT DATABASE()

2022/05/26 00:03:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.527ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 00:03:17 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.464ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND table_type = 'BASE TABLE'

2022/05/26 00:03:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 00:03:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.571ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 00:03:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.549ms] [rows:-] SELECT * FROM `favorites` LIMIT 1

2022/05/26 00:03:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[11.528ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' ORDER BY ORDINAL_POSITION

2022/05/26 00:03:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 00:03:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.964ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 00:03:17 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND index_name = 'idx_favorites_deleted_at'

2022/05/26 00:03:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.183ms] [rows:-] SELECT DATABASE()

2022/05/26 00:03:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.042ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 00:03:17 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND table_type = 'BASE TABLE'

2022/05/26 00:03:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.509ms] [rows:-] SELECT DATABASE()

2022/05/26 00:03:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.643ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 00:03:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `relations` LIMIT 1

2022/05/26 00:03:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[10.538ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'relations' ORDER BY ORDINAL_POSITION

2022/05/26 00:03:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 00:03:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.509ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 00:03:17 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND index_name = 'idx_relations_deleted_at'

2022/05/26 00:03:51 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[2.114ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-26 00:03:49.733'
LIMIT 30;

2022/05/26 00:03:51 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.846ms] [rows:1] SELECT created_at FROM videos WHERE id = 5

2022/05/26 00:03:51 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[1.410ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 00:03:51 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.000ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 00:03:52 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.000ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 00:03:52 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[1.550ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 00:03:55 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.822ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-26 00:03:54.007'
LIMIT 30;

2022/05/26 00:03:55 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 5

2022/05/26 00:03:55 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.741ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 00:03:55 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.549ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 00:03:55 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.426ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 00:03:55 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.348ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 00:04:33 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[1.152ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-26 00:04:31.707'
LIMIT 30;

2022/05/26 00:04:33 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 5

2022/05/26 00:04:33 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[1.210ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 00:04:33 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.103ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 00:04:38 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.260ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 00:04:38 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.000ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-26 00:04:37.078'
LIMIT 30;

2022/05/26 00:04:38 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.560ms] [rows:1] SELECT created_at FROM videos WHERE id = 5

2022/05/26 00:04:38 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.932ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 01:31:57 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 01:31:57 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[4.816ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 01:31:57 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.507ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/26 01:31:57 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 01:31:57 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.510ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 01:31:57 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.607ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/26 01:31:57 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[16.162ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/26 01:31:57 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[10.681ms] [rows:0] ALTER TABLE `users` MODIFY COLUMN `is_follow` boolean NOT NULL DEFAULT false COMMENT '是否关注'

2022/05/26 01:31:57 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.627ms] [rows:-] SELECT DATABASE()

2022/05/26 01:31:57 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.838ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 01:31:57 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/26 01:31:57 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 01:31:57 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.552ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 01:31:57 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND table_type = 'BASE TABLE'

2022/05/26 01:31:57 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.507ms] [rows:-] SELECT DATABASE()

2022/05/26 01:31:57 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.830ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 01:31:57 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `videos` LIMIT 1

2022/05/26 01:31:57 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[6.452ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'videos' ORDER BY ORDINAL_POSITION

2022/05/26 01:31:57 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[7.040ms] [rows:0] ALTER TABLE `videos` MODIFY COLUMN `is_favorite` boolean NOT NULL DEFAULT false COMMENT '是否点赞'

2022/05/26 01:31:57 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.539ms] [rows:-] SELECT DATABASE()

2022/05/26 01:31:57 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.378ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 01:31:57 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.632ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_disk_type'

2022/05/26 01:31:57 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 01:31:57 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.137ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 01:31:57 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.684ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_deleted_at'

2022/05/26 01:31:57 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.077ms] [rows:-] SELECT DATABASE()

2022/05/26 01:31:57 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.509ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 01:31:57 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.238ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND table_type = 'BASE TABLE'

2022/05/26 01:31:57 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 01:31:57 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.672ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 01:31:57 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `comments` LIMIT 1

2022/05/26 01:31:57 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[9.317ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'comments' ORDER BY ORDINAL_POSITION

2022/05/26 01:31:57 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.094ms] [rows:-] SELECT DATABASE()

2022/05/26 01:31:57 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.362ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 01:31:57 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.659ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND index_name = 'idx_comments_deleted_at'

2022/05/26 01:31:57 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.230ms] [rows:-] SELECT DATABASE()

2022/05/26 01:31:57 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.321ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 01:31:57 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.586ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND table_type = 'BASE TABLE'

2022/05/26 01:31:57 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 01:31:57 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.508ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 01:31:57 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `favorites` LIMIT 1

2022/05/26 01:31:57 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[5.494ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' ORDER BY ORDINAL_POSITION

2022/05/26 01:31:57 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 01:31:57 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.512ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 01:31:57 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND index_name = 'idx_favorites_deleted_at'

2022/05/26 01:31:57 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 01:31:57 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.506ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 01:31:57 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND table_type = 'BASE TABLE'

2022/05/26 01:31:57 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.022ms] [rows:-] SELECT DATABASE()

2022/05/26 01:31:57 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.000ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 01:31:57 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `relations` LIMIT 1

2022/05/26 01:31:57 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[9.596ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'relations' ORDER BY ORDINAL_POSITION

2022/05/26 01:31:57 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 01:31:57 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.797ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 01:31:57 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND index_name = 'idx_relations_deleted_at'

2022/05/26 01:32:14 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[1.002ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-26 01:32:12.914'
LIMIT 30;

2022/05/26 01:32:14 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 5

2022/05/26 01:32:14 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.000ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 01:32:24 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[0.205ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 01:32:24 E:/summerByteDance/DouYin_demo/app/services/user.go:48
[0.508ms] [rows:1] SELECT * FROM `users` WHERE `users`.`id` = 1 AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 01:32:24 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.161ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 01:32:24 E:/summerByteDance/DouYin_demo/app/services/publish.go:89
[9.470ms] [rows:0] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 0
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 0
ORDER BY v.created_at

2022/05/26 01:32:39 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.287ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 01:32:39 E:/summerByteDance/DouYin_demo/app/services/user.go:48
[0.792ms] [rows:1] SELECT * FROM `users` WHERE `users`.`id` = 1 AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 01:32:39 E:/summerByteDance/DouYin_demo/app/services/publish.go:89
[2.189ms] [rows:0] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 0
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 0
ORDER BY v.created_at

2022/05/26 01:37:42 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[1.243ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 01:37:45 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.903ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-26 01:37:43.811'
LIMIT 30;

2022/05/26 01:37:45 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 5

2022/05/26 01:37:45 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.482ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 01:37:45 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.000ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 01:37:56 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[0.861ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 01:37:56 E:/summerByteDance/DouYin_demo/app/services/user.go:48
[0.563ms] [rows:1] SELECT * FROM `users` WHERE `users`.`id` = 1 AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 01:37:56 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.242ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 01:37:56 E:/summerByteDance/DouYin_demo/app/services/publish.go:89
[0.610ms] [rows:0] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 0
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 0
ORDER BY v.created_at

2022/05/26 01:41:14 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 01:41:14 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.767ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 01:41:14 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[1.055ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/26 01:41:14 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 01:41:14 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.696ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 01:41:14 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/26 01:41:14 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[12.071ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/26 01:41:14 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[8.487ms] [rows:0] ALTER TABLE `users` MODIFY COLUMN `is_follow` boolean NOT NULL DEFAULT false COMMENT '是否关注'

2022/05/26 01:41:14 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 01:41:14 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.509ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 01:41:14 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/26 01:41:14 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 01:41:14 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.561ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 01:41:14 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.554ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND table_type = 'BASE TABLE'

2022/05/26 01:41:14 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 01:41:14 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.510ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 01:41:14 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.479ms] [rows:-] SELECT * FROM `videos` LIMIT 1

2022/05/26 01:41:14 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[6.110ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'videos' ORDER BY ORDINAL_POSITION

2022/05/26 01:41:14 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[8.488ms] [rows:0] ALTER TABLE `videos` MODIFY COLUMN `is_favorite` boolean NOT NULL DEFAULT false COMMENT '是否点赞'

2022/05/26 01:41:14 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 01:41:14 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.848ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 01:41:14 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.516ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_deleted_at'

2022/05/26 01:41:14 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.109ms] [rows:-] SELECT DATABASE()

2022/05/26 01:41:14 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.594ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 01:41:14 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_disk_type'

2022/05/26 01:41:14 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 01:41:14 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.645ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 01:41:14 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.512ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND table_type = 'BASE TABLE'

2022/05/26 01:41:14 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.163ms] [rows:-] SELECT DATABASE()

2022/05/26 01:41:14 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.587ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 01:41:14 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `comments` LIMIT 1

2022/05/26 01:41:14 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[11.033ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'comments' ORDER BY ORDINAL_POSITION

2022/05/26 01:41:14 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 01:41:14 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.884ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 01:41:14 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND index_name = 'idx_comments_deleted_at'

2022/05/26 01:41:14 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.510ms] [rows:-] SELECT DATABASE()

2022/05/26 01:41:14 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.563ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 01:41:14 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND table_type = 'BASE TABLE'

2022/05/26 01:41:14 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 01:41:14 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.572ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 01:41:14 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.505ms] [rows:-] SELECT * FROM `favorites` LIMIT 1

2022/05/26 01:41:14 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[6.147ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' ORDER BY ORDINAL_POSITION

2022/05/26 01:41:14 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 01:41:14 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.515ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 01:41:14 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND index_name = 'idx_favorites_deleted_at'

2022/05/26 01:41:14 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 01:41:14 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.472ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 01:41:14 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND table_type = 'BASE TABLE'

2022/05/26 01:41:14 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 01:41:14 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.511ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 01:41:14 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.169ms] [rows:-] SELECT * FROM `relations` LIMIT 1

2022/05/26 01:41:14 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[6.479ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'relations' ORDER BY ORDINAL_POSITION

2022/05/26 01:41:14 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 01:41:14 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.512ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 01:41:14 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND index_name = 'idx_relations_deleted_at'

2022/05/26 01:41:23 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.509ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 01:41:23 E:/summerByteDance/DouYin_demo/app/services/user.go:48
[0.724ms] [rows:1] SELECT * FROM `users` WHERE `users`.`id` = 1 AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 01:41:23 E:/summerByteDance/DouYin_demo/app/services/publish.go:90
[0.725ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/26 01:42:28 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.741ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-26 01:42:27.628'
LIMIT 30;

2022/05/26 01:42:28 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 5

2022/05/26 01:42:29 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.840ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 01:42:29 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.441ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 01:42:40 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[0.644ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 01:42:40 E:/summerByteDance/DouYin_demo/app/services/user.go:48
[0.504ms] [rows:1] SELECT * FROM `users` WHERE `users`.`id` = 1 AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 01:42:40 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.234ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 01:42:40 E:/summerByteDance/DouYin_demo/app/services/publish.go:90
[0.510ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/26 01:48:02 E:/summerByteDance/DouYin_demo/app/services/user.go:48
[0.610ms] [rows:1] SELECT * FROM `users` WHERE `users`.`id` = 1 AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 01:48:02 E:/summerByteDance/DouYin_demo/app/services/publish.go:90
[0.519ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/26 01:48:54 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[1.000ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 01:49:00 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.526ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-26 01:48:59.701'
LIMIT 30;

2022/05/26 01:49:00 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 5

2022/05/26 01:49:01 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.708ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 01:49:01 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.227ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 01:49:11 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[1.205ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl662666' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 01:49:31 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[8.680ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl66266' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 01:49:31 E:/summerByteDance/DouYin_demo/app/services/user.go:48
[0.517ms] [rows:1] SELECT * FROM `users` WHERE `users`.`id` = 2 AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 01:49:31 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.611ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 01:49:31 E:/summerByteDance/DouYin_demo/app/services/publish.go:90
[0.510ms] [rows:0] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 2
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 2
ORDER BY v.created_at

2022/05/26 01:50:42 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 01:50:42 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.544ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 01:50:42 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/26 01:50:42 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 01:50:42 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.175ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 01:50:42 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/26 01:50:42 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[20.545ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/26 01:50:42 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[11.479ms] [rows:0] ALTER TABLE `users` MODIFY COLUMN `is_follow` boolean NOT NULL DEFAULT false COMMENT '是否关注'

2022/05/26 01:50:42 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 01:50:42 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.512ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 01:50:42 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.515ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/26 01:50:42 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 01:50:42 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.613ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 01:50:42 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND table_type = 'BASE TABLE'

2022/05/26 01:50:42 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 01:50:42 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.558ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 01:50:42 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.512ms] [rows:-] SELECT * FROM `videos` LIMIT 1

2022/05/26 01:50:42 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[5.871ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'videos' ORDER BY ORDINAL_POSITION

2022/05/26 01:50:42 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[12.519ms] [rows:0] ALTER TABLE `videos` MODIFY COLUMN `is_favorite` boolean NOT NULL DEFAULT false COMMENT '是否点赞'

2022/05/26 01:50:42 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 01:50:42 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.762ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 01:50:42 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_disk_type'

2022/05/26 01:50:42 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 01:50:42 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.000ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 01:50:42 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_deleted_at'

2022/05/26 01:50:42 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 01:50:42 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.537ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 01:50:42 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.517ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND table_type = 'BASE TABLE'

2022/05/26 01:50:42 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 01:50:42 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.713ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 01:50:42 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `comments` LIMIT 1

2022/05/26 01:50:42 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[14.060ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'comments' ORDER BY ORDINAL_POSITION

2022/05/26 01:50:42 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 01:50:42 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.000ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 01:50:42 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND index_name = 'idx_comments_deleted_at'

2022/05/26 01:50:42 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 01:50:42 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.545ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 01:50:42 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.008ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND table_type = 'BASE TABLE'

2022/05/26 01:50:42 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 01:50:42 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.941ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 01:50:42 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `favorites` LIMIT 1

2022/05/26 01:50:42 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[8.600ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' ORDER BY ORDINAL_POSITION

2022/05/26 01:50:42 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.015ms] [rows:-] SELECT DATABASE()

2022/05/26 01:50:42 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.767ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 01:50:42 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND index_name = 'idx_favorites_deleted_at'

2022/05/26 01:50:42 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 01:50:42 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.575ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 01:50:42 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.564ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND table_type = 'BASE TABLE'

2022/05/26 01:50:42 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 01:50:42 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.871ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 01:50:42 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `relations` LIMIT 1

2022/05/26 01:50:42 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[14.971ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'relations' ORDER BY ORDINAL_POSITION

2022/05/26 01:50:42 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 01:50:42 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.042ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 01:50:42 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND index_name = 'idx_relations_deleted_at'

2022/05/26 01:50:44 E:/summerByteDance/DouYin_demo/app/services/publish.go:90
[1.031ms] [rows:0] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 2
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 2
ORDER BY v.created_at

2022/05/26 01:50:44 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.523ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 01:50:50 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.974ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-26 01:50:49.619'
LIMIT 30;

2022/05/26 01:50:50 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.588ms] [rows:1] SELECT created_at FROM videos WHERE id = 5

2022/05/26 01:50:51 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.618ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 01:50:51 E:/summerByteDance/DouYin_demo/app/services/publish.go:90
[1.323ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/26 01:50:51 E:/summerByteDance/DouYin_demo/app/services/publish.go:90
[0.951ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/26 01:50:51 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.054ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 01:51:02 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[1.528ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 01:51:02 E:/summerByteDance/DouYin_demo/app/services/user.go:48
[0.510ms] [rows:1] SELECT * FROM `users` WHERE `users`.`id` = 1 AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 01:51:02 E:/summerByteDance/DouYin_demo/app/services/publish.go:90
[1.419ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/26 01:51:02 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.526ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 01:51:10 E:/summerByteDance/DouYin_demo/app/services/publish.go:90
[1.106ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/26 01:51:10 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[15.905ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 01:54:35 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.506ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-26 01:50:49.619'
LIMIT 30;

2022/05/26 01:54:35 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 5

2022/05/26 01:54:49 E:/summerByteDance/DouYin_demo/app/services/publish.go:90
[0.616ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/26 01:54:55 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.569ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-26 01:50:49.619'
LIMIT 30;

2022/05/26 01:54:55 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 5

2022/05/26 01:55:04 E:/summerByteDance/DouYin_demo/app/services/publish.go:90
[0.526ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/26 01:56:34 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.545ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-26 01:50:49.619'
LIMIT 30;

2022/05/26 01:56:34 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.504ms] [rows:1] SELECT created_at FROM videos WHERE id = 5

2022/05/26 02:05:00 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.100ms] [rows:-] SELECT DATABASE()

2022/05/26 02:05:00 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.504ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 02:05:00 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.432ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/26 02:05:00 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 02:05:00 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.578ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 02:05:00 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.504ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/26 02:05:00 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[9.583ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/26 02:05:00 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[8.332ms] [rows:0] ALTER TABLE `users` MODIFY COLUMN `is_follow` boolean NOT NULL DEFAULT false COMMENT '是否关注'

2022/05/26 02:05:00 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 02:05:00 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.800ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 02:05:00 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/26 02:05:00 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 02:05:00 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.537ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 02:05:00 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND table_type = 'BASE TABLE'

2022/05/26 02:05:00 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 02:05:00 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.514ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 02:05:00 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `videos` LIMIT 1

2022/05/26 02:05:00 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[9.336ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'videos' ORDER BY ORDINAL_POSITION

2022/05/26 02:05:00 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[8.682ms] [rows:0] ALTER TABLE `videos` MODIFY COLUMN `is_favorite` boolean NOT NULL DEFAULT false COMMENT '是否点赞'

2022/05/26 02:05:00 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.059ms] [rows:-] SELECT DATABASE()

2022/05/26 02:05:00 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.503ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 02:05:00 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.009ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_deleted_at'

2022/05/26 02:05:00 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 02:05:00 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.619ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 02:05:00 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_disk_type'

2022/05/26 02:05:00 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.504ms] [rows:-] SELECT DATABASE()

2022/05/26 02:05:00 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.551ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 02:05:00 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.068ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND table_type = 'BASE TABLE'

2022/05/26 02:05:00 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 02:05:00 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.630ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 02:05:00 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `comments` LIMIT 1

2022/05/26 02:05:00 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[6.056ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'comments' ORDER BY ORDINAL_POSITION

2022/05/26 02:05:00 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 02:05:00 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.045ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 02:05:00 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND index_name = 'idx_comments_deleted_at'

2022/05/26 02:05:00 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 02:05:00 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.200ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 02:05:00 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.582ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND table_type = 'BASE TABLE'

2022/05/26 02:05:00 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 02:05:00 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.541ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 02:05:00 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.504ms] [rows:-] SELECT * FROM `favorites` LIMIT 1

2022/05/26 02:05:00 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[8.254ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' ORDER BY ORDINAL_POSITION

2022/05/26 02:05:00 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 02:05:00 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.578ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 02:05:00 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.660ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND index_name = 'idx_favorites_deleted_at'

2022/05/26 02:05:00 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 02:05:00 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.290ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 02:05:00 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND table_type = 'BASE TABLE'

2022/05/26 02:05:00 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 02:05:00 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.905ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 02:05:00 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `relations` LIMIT 1

2022/05/26 02:05:00 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[13.409ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'relations' ORDER BY ORDINAL_POSITION

2022/05/26 02:05:00 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 02:05:00 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.391ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 02:05:00 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND index_name = 'idx_relations_deleted_at'

2022/05/26 02:05:25 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[1.880ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-26 02:05:23.945'
LIMIT 30;

2022/05/26 02:05:25 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.596ms] [rows:1] SELECT created_at FROM videos WHERE id = 5

2022/05/26 02:05:25 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.997ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 02:05:25 E:/summerByteDance/DouYin_demo/app/services/user.go:48
[0.554ms] [rows:1] SELECT * FROM `users` WHERE `users`.`id` = 1 AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 02:05:25 E:/summerByteDance/DouYin_demo/app/services/publish.go:93
[0.052ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/26 02:05:26 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.232ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 02:05:26 E:/summerByteDance/DouYin_demo/app/services/publish.go:93
[0.517ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/26 02:05:36 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.097ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-26 02:05:34.511'
LIMIT 30;

2022/05/26 02:05:36 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.511ms] [rows:1] SELECT created_at FROM videos WHERE id = 5

2022/05/26 02:05:36 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.058ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 02:05:37 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.684ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 02:06:13 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.591ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-26 02:06:12.353'
LIMIT 30;

2022/05/26 02:06:13 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 5

2022/05/26 02:06:13 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[16.809ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 02:06:15 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.408ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 02:06:18 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.000ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 02:06:21 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[3.961ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-26 02:06:20.165'
LIMIT 30;

2022/05/26 02:06:21 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 5

2022/05/26 02:06:21 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[1.014ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 02:06:21 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.999ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 02:06:30 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[0.408ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 02:06:30 E:/summerByteDance/DouYin_demo/app/services/user.go:48
[0.998ms] [rows:1] SELECT * FROM `users` WHERE `users`.`id` = 1 AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 02:06:30 E:/summerByteDance/DouYin_demo/app/services/publish.go:93
[0.649ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/26 02:06:30 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.141ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 02:06:43 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[1.448ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-26 02:06:41.75'
LIMIT 30;

2022/05/26 02:06:43 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.770ms] [rows:1] SELECT created_at FROM videos WHERE id = 5

2022/05/26 02:06:43 E:/summerByteDance/DouYin_demo/app/services/user.go:48
[0.750ms] [rows:1] SELECT * FROM `users` WHERE `users`.`id` = 1 AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 02:06:43 E:/summerByteDance/DouYin_demo/app/services/publish.go:93
[0.512ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/26 02:06:43 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.131ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 02:06:46 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.595ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 02:06:46 E:/summerByteDance/DouYin_demo/app/services/publish.go:93
[0.649ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/26 02:35:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.507ms] [rows:-] SELECT DATABASE()

2022/05/26 02:35:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[4.878ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 02:35:21 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[1.073ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/26 02:35:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 02:35:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.540ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 02:35:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.507ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/26 02:35:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[18.997ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/26 02:35:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[16.466ms] [rows:0] ALTER TABLE `users` MODIFY COLUMN `is_follow` boolean NOT NULL DEFAULT false COMMENT '是否关注'

2022/05/26 02:35:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 02:35:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.509ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 02:35:21 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/26 02:35:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 02:35:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.193ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 02:35:21 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.582ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND table_type = 'BASE TABLE'

2022/05/26 02:35:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 02:35:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.507ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 02:35:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.340ms] [rows:-] SELECT * FROM `videos` LIMIT 1

2022/05/26 02:35:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[7.675ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'videos' ORDER BY ORDINAL_POSITION

2022/05/26 02:35:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[8.485ms] [rows:0] ALTER TABLE `videos` MODIFY COLUMN `is_favorite` boolean NOT NULL DEFAULT false COMMENT '是否点赞'

2022/05/26 02:35:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 02:35:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.507ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 02:35:21 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_disk_type'

2022/05/26 02:35:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 02:35:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.510ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 02:35:21 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.049ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_deleted_at'

2022/05/26 02:35:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 02:35:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.658ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 02:35:21 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.641ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND table_type = 'BASE TABLE'

2022/05/26 02:35:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.207ms] [rows:-] SELECT DATABASE()

2022/05/26 02:35:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.558ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 02:35:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `comments` LIMIT 1

2022/05/26 02:35:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[12.640ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'comments' ORDER BY ORDINAL_POSITION

2022/05/26 02:35:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.082ms] [rows:-] SELECT DATABASE()

2022/05/26 02:35:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.848ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 02:35:21 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.670ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND index_name = 'idx_comments_deleted_at'

2022/05/26 02:35:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 02:35:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.075ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 02:35:21 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND table_type = 'BASE TABLE'

2022/05/26 02:35:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 02:35:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.508ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 02:35:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `favorites` LIMIT 1

2022/05/26 02:35:22 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[5.557ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' ORDER BY ORDINAL_POSITION

2022/05/26 02:35:22 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 02:35:22 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.037ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 02:35:22 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND index_name = 'idx_favorites_deleted_at'

2022/05/26 02:35:22 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 02:35:22 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.507ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 02:35:22 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.344ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND table_type = 'BASE TABLE'

2022/05/26 02:35:22 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 02:35:22 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.622ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 02:35:22 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.504ms] [rows:-] SELECT * FROM `relations` LIMIT 1

2022/05/26 02:35:22 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[16.145ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'relations' ORDER BY ORDINAL_POSITION

2022/05/26 02:35:22 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 02:35:22 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.508ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 02:35:22 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND index_name = 'idx_relations_deleted_at'

2022/05/26 02:35:24 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.514ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-26 02:35:23.052'
LIMIT 30;

2022/05/26 02:35:24 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.107ms] [rows:1] SELECT created_at FROM videos WHERE id = 5

2022/05/26 02:35:24 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.126ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 02:35:28 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[1.305ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 02:35:28 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.513ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-26 02:35:27.545'
LIMIT 30;

2022/05/26 02:35:28 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 5

2022/05/26 02:35:32 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.000ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 02:35:34 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[1.378ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 02:35:38 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.610ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 02:35:47 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.998ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 02:35:53 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.357ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-26 02:35:51.953'
LIMIT 30;

2022/05/26 02:35:53 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 5

2022/05/26 02:35:53 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.567ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 02:35:53 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.512ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 02:36:02 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[0.497ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 02:36:02 E:/summerByteDance/DouYin_demo/app/services/user.go:48
[0.507ms] [rows:1] SELECT * FROM `users` WHERE `users`.`id` = 1 AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 02:36:02 E:/summerByteDance/DouYin_demo/app/services/publish.go:93
[0.998ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/26 02:36:02 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.000ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 02:36:09 E:/summerByteDance/DouYin_demo/app/services/user.go:48
[0.528ms] [rows:1] SELECT * FROM `users` WHERE `users`.`id` = 1 AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 02:36:09 E:/summerByteDance/DouYin_demo/app/services/publish.go:93
[0.529ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/26 02:36:09 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[1.319ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-26 02:36:08.375'
LIMIT 30;

2022/05/26 02:36:09 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 5

2022/05/26 02:36:09 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[17.923ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 02:36:11 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[0.146ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 02:36:11 E:/summerByteDance/DouYin_demo/app/services/publish.go:93
[2.229ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 3
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 3
ORDER BY v.created_at

2022/05/26 02:36:14 E:/summerByteDance/DouYin_demo/app/services/publish.go:93
[0.524ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/26 02:36:14 E:/summerByteDance/DouYin_demo/app/services/user.go:37 record not found
[1.164ms] [rows:0] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 12:59:55 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[1.000ms] [rows:-] SELECT DATABASE()

2022/05/26 12:59:55 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[25.767ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 12:59:55 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[1.087ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/26 12:59:55 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 12:59:55 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.424ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 12:59:55 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[3.502ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/26 12:59:55 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[45.041ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/26 12:59:55 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[31.430ms] [rows:0] ALTER TABLE `users` MODIFY COLUMN `is_follow` boolean NOT NULL DEFAULT false COMMENT '是否关注'

2022/05/26 12:59:55 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 12:59:55 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.132ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 12:59:55 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/26 12:59:55 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 12:59:55 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.504ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 12:59:55 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[3.103ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND table_type = 'BASE TABLE'

2022/05/26 12:59:55 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 12:59:55 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[2.221ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 12:59:55 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[2.993ms] [rows:-] SELECT * FROM `videos` LIMIT 1

2022/05/26 12:59:55 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[44.909ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'videos' ORDER BY ORDINAL_POSITION

2022/05/26 12:59:55 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[20.114ms] [rows:0] ALTER TABLE `videos` MODIFY COLUMN `is_favorite` boolean NOT NULL DEFAULT false COMMENT '是否点赞'

2022/05/26 12:59:55 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[1.996ms] [rows:-] SELECT DATABASE()

2022/05/26 12:59:55 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[4.439ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 12:59:55 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[1.998ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_disk_type'

2022/05/26 12:59:55 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 12:59:55 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.506ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 12:59:55 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.724ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_deleted_at'

2022/05/26 12:59:55 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 12:59:55 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.505ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 12:59:55 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[1.994ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND table_type = 'BASE TABLE'

2022/05/26 12:59:55 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 12:59:55 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.231ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 12:59:55 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[1.507ms] [rows:-] SELECT * FROM `comments` LIMIT 1

2022/05/26 12:59:55 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[13.348ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'comments' ORDER BY ORDINAL_POSITION

2022/05/26 12:59:55 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 12:59:55 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.506ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 12:59:55 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND index_name = 'idx_comments_deleted_at'

2022/05/26 12:59:55 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 12:59:55 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.997ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 12:59:55 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND table_type = 'BASE TABLE'

2022/05/26 12:59:55 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 12:59:55 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.761ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 12:59:55 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.504ms] [rows:-] SELECT * FROM `favorites` LIMIT 1

2022/05/26 12:59:55 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[8.616ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' ORDER BY ORDINAL_POSITION

2022/05/26 12:59:55 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 12:59:55 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.145ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 12:59:55 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.504ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND index_name = 'idx_favorites_deleted_at'

2022/05/26 12:59:55 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 12:59:55 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.746ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 12:59:55 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND table_type = 'BASE TABLE'

2022/05/26 12:59:55 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 12:59:55 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.115ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 12:59:55 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.504ms] [rows:-] SELECT * FROM `relations` LIMIT 1

2022/05/26 12:59:55 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[17.737ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'relations' ORDER BY ORDINAL_POSITION

2022/05/26 12:59:55 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 12:59:55 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.213ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 12:59:55 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.504ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND index_name = 'idx_relations_deleted_at'

2022/05/26 15:35:39 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.503ms] [rows:-] SELECT DATABASE()

2022/05/26 15:35:39 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[3.968ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 15:35:39 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[1.044ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/26 15:35:39 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 15:35:39 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.476ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 15:35:39 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[2.502ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/26 15:35:39 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[19.960ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/26 15:35:39 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[16.990ms] [rows:0] ALTER TABLE `users` MODIFY COLUMN `is_follow` boolean NOT NULL DEFAULT false COMMENT '是否关注'

2022/05/26 15:35:39 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 15:35:39 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.857ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 15:35:39 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[1.029ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/26 15:35:39 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.505ms] [rows:-] SELECT DATABASE()

2022/05/26 15:35:39 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[2.020ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 15:35:39 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.505ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND table_type = 'BASE TABLE'

2022/05/26 15:35:39 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 15:35:39 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.149ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 15:35:39 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.505ms] [rows:-] SELECT * FROM `videos` LIMIT 1

2022/05/26 15:35:39 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[11.705ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'videos' ORDER BY ORDINAL_POSITION

2022/05/26 15:35:39 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[12.475ms] [rows:0] ALTER TABLE `videos` MODIFY COLUMN `is_favorite` boolean NOT NULL DEFAULT false COMMENT '是否点赞'

2022/05/26 15:35:39 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 15:35:39 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.755ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 15:35:39 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_disk_type'

2022/05/26 15:35:39 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 15:35:39 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.517ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 15:35:39 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.504ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_deleted_at'

2022/05/26 15:35:39 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 15:35:39 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.556ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 15:35:39 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND table_type = 'BASE TABLE'

2022/05/26 15:35:39 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 15:35:39 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.546ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 15:35:39 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.503ms] [rows:-] SELECT * FROM `comments` LIMIT 1

2022/05/26 15:35:39 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[9.528ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'comments' ORDER BY ORDINAL_POSITION

2022/05/26 15:35:39 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 15:35:39 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.654ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 15:35:39 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND index_name = 'idx_comments_deleted_at'

2022/05/26 15:35:39 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 15:35:39 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.586ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 15:35:39 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND table_type = 'BASE TABLE'

2022/05/26 15:35:39 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 15:35:39 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.787ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 15:35:39 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `favorites` LIMIT 1

2022/05/26 15:35:39 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[6.426ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' ORDER BY ORDINAL_POSITION

2022/05/26 15:35:39 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 15:35:39 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.800ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 15:35:39 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND index_name = 'idx_favorites_deleted_at'

2022/05/26 15:35:39 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 15:35:39 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.000ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 15:35:39 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND table_type = 'BASE TABLE'

2022/05/26 15:35:39 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 15:35:39 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.812ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 15:35:39 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `relations` LIMIT 1

2022/05/26 15:35:39 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[10.281ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'relations' ORDER BY ORDINAL_POSITION

2022/05/26 15:35:39 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 15:35:39 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.757ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 15:35:39 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND index_name = 'idx_relations_deleted_at'

2022/05/26 15:36:21 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[4.179ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-26 15:36:19.589'
LIMIT 30;

2022/05/26 15:36:21 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.663ms] [rows:1] SELECT created_at FROM videos WHERE id = 5

2022/05/26 15:36:44 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[1.383ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-26 15:36:43.235'
LIMIT 30;

2022/05/26 15:36:44 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 5

2022/05/26 15:36:54 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[12.847ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 15:36:54 E:/summerByteDance/DouYin_demo/app/services/user.go:48
[0.772ms] [rows:1] SELECT * FROM `users` WHERE `users`.`id` = 1 AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 15:36:54 E:/summerByteDance/DouYin_demo/app/services/publish.go:92
[1.508ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/26 15:36:58 E:/summerByteDance/DouYin_demo/app/services/user.go:48
[0.679ms] [rows:1] SELECT * FROM `users` WHERE `users`.`id` = 1 AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 15:36:58 E:/summerByteDance/DouYin_demo/app/services/publish.go:92
[0.845ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/26 15:36:58 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.522ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-26 15:36:56.646'
LIMIT 30;

2022/05/26 15:36:58 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 5

2022/05/26 15:36:59 E:/summerByteDance/DouYin_demo/app/services/publish.go:92
[0.519ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 3
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 3
ORDER BY v.created_at

2022/05/26 15:37:01 E:/summerByteDance/DouYin_demo/app/services/favorite.go:38
[15.545ms] [rows:1] INSERT INTO `favorites` (`user_id`,`video_id`,`created_at`,`updated_at`,`deleted_at`) VALUES (0,2,'2022-05-26 15:37:01.765','2022-05-26 15:37:01.765',NULL)

2022/05/26 15:37:01 E:/summerByteDance/DouYin_demo/app/services/favorite.go:42
[6.461ms] [rows:1] UPDATE `videos` SET `favorite_count`=favorite_count + 1,`updated_at`='2022-05-26 15:37:01.78' WHERE id = 2 AND `videos`.`deleted_at` IS NULL

2022/05/26 15:37:03 E:/summerByteDance/DouYin_demo/app/services/favorite.go:51
[3.596ms] [rows:1] UPDATE `favorites` SET `deleted_at`='2022-05-26 15:37:03.694' WHERE (user_id = 0 AND video_id = 2) AND `favorites`.`deleted_at` IS NULL

2022/05/26 15:37:03 E:/summerByteDance/DouYin_demo/app/services/favorite.go:55
[10.952ms] [rows:1] UPDATE `videos` SET `favorite_count`=favorite_count - 1,`updated_at`='2022-05-26 15:37:03.698' WHERE id = 2 AND `videos`.`deleted_at` IS NULL

2022/05/26 15:37:06 E:/summerByteDance/DouYin_demo/app/services/favorite.go:38
[10.632ms] [rows:1] INSERT INTO `favorites` (`user_id`,`video_id`,`created_at`,`updated_at`,`deleted_at`) VALUES (0,2,'2022-05-26 15:37:06.328','2022-05-26 15:37:06.328',NULL)

2022/05/26 15:37:06 E:/summerByteDance/DouYin_demo/app/services/favorite.go:42
[3.541ms] [rows:1] UPDATE `videos` SET `favorite_count`=favorite_count + 1,`updated_at`='2022-05-26 15:37:06.339' WHERE id = 2 AND `videos`.`deleted_at` IS NULL

2022/05/26 15:37:07 E:/summerByteDance/DouYin_demo/app/services/favorite.go:51
[8.992ms] [rows:1] UPDATE `favorites` SET `deleted_at`='2022-05-26 15:37:07.477' WHERE (user_id = 0 AND video_id = 2) AND `favorites`.`deleted_at` IS NULL

2022/05/26 15:37:07 E:/summerByteDance/DouYin_demo/app/services/favorite.go:55
[1.326ms] [rows:1] UPDATE `videos` SET `favorite_count`=favorite_count - 1,`updated_at`='2022-05-26 15:37:07.486' WHERE id = 2 AND `videos`.`deleted_at` IS NULL

2022/05/26 15:41:07 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.569ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-26 15:41:06.065'
LIMIT 30;

2022/05/26 15:41:07 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 5

2022/05/26 15:41:18 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[0.000ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 15:41:18 E:/summerByteDance/DouYin_demo/app/services/user.go:48
[1.124ms] [rows:1] SELECT * FROM `users` WHERE `users`.`id` = 1 AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 15:41:18 E:/summerByteDance/DouYin_demo/app/services/favorite.go:38
[9.798ms] [rows:1] INSERT INTO `favorites` (`user_id`,`video_id`,`created_at`,`updated_at`,`deleted_at`) VALUES (0,1,'2022-05-26 15:41:18.778','2022-05-26 15:41:18.778',NULL)

2022/05/26 15:41:18 E:/summerByteDance/DouYin_demo/app/services/favorite.go:42
[2.066ms] [rows:1] UPDATE `videos` SET `favorite_count`=favorite_count + 1,`updated_at`='2022-05-26 15:41:18.788' WHERE id = 1 AND `videos`.`deleted_at` IS NULL

2022/05/26 15:41:23 E:/summerByteDance/DouYin_demo/app/services/user.go:48
[0.542ms] [rows:1] SELECT * FROM `users` WHERE `users`.`id` = 1 AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 15:41:23 E:/summerByteDance/DouYin_demo/app/services/publish.go:92
[1.319ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/26 15:41:23 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.327ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-26 15:41:21.516'
LIMIT 30;

2022/05/26 15:41:23 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 5

2022/05/26 15:41:26 E:/summerByteDance/DouYin_demo/app/services/publish.go:92
[1.081ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 3
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 3
ORDER BY v.created_at

2022/05/26 15:41:28 E:/summerByteDance/DouYin_demo/app/services/publish.go:92
[0.524ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 3
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 3
ORDER BY v.created_at

2022/05/26 15:41:31 E:/summerByteDance/DouYin_demo/app/services/favorite.go:51
[0.633ms] [rows:0] UPDATE `favorites` SET `deleted_at`='2022-05-26 15:41:31.007' WHERE (user_id = 0 AND video_id = 5) AND `favorites`.`deleted_at` IS NULL

2022/05/26 15:41:31 E:/summerByteDance/DouYin_demo/app/services/favorite.go:55 Error 1690: BIGINT UNSIGNED value is out of range in '(`douyin_demo`.`videos`.`favorite_count` - 1)'
[1.506ms] [rows:0] UPDATE `videos` SET `favorite_count`=favorite_count - 1,`updated_at`='2022-05-26 15:41:31.008' WHERE id = 5 AND `videos`.`deleted_at` IS NULL

2022/05/26 15:47:03 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 15:47:03 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.740ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 15:47:03 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/26 15:47:03 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.511ms] [rows:-] SELECT DATABASE()

2022/05/26 15:47:03 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.620ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 15:47:03 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/26 15:47:03 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[17.727ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/26 15:47:03 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[17.464ms] [rows:0] ALTER TABLE `users` MODIFY COLUMN `is_follow` boolean NOT NULL DEFAULT false COMMENT '是否关注'

2022/05/26 15:47:03 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 15:47:03 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[2.508ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 15:47:03 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/26 15:47:03 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 15:47:03 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.129ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 15:47:03 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND table_type = 'BASE TABLE'

2022/05/26 15:47:03 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 15:47:03 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.133ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 15:47:03 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.513ms] [rows:-] SELECT * FROM `videos` LIMIT 1

2022/05/26 15:47:03 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[7.490ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'videos' ORDER BY ORDINAL_POSITION

2022/05/26 15:47:03 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[14.473ms] [rows:0] ALTER TABLE `videos` MODIFY COLUMN `is_favorite` boolean NOT NULL DEFAULT false COMMENT '是否点赞'

2022/05/26 15:47:03 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 15:47:03 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.998ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 15:47:03 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_disk_type'

2022/05/26 15:47:03 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 15:47:03 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.885ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 15:47:03 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_deleted_at'

2022/05/26 15:47:03 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 15:47:03 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.858ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 15:47:03 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND table_type = 'BASE TABLE'

2022/05/26 15:47:03 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 15:47:03 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.517ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 15:47:03 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.506ms] [rows:-] SELECT * FROM `comments` LIMIT 1

2022/05/26 15:47:03 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[9.003ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'comments' ORDER BY ORDINAL_POSITION

2022/05/26 15:47:03 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 15:47:03 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.563ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 15:47:03 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND index_name = 'idx_comments_deleted_at'

2022/05/26 15:47:03 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 15:47:03 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.516ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 15:47:03 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.514ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND table_type = 'BASE TABLE'

2022/05/26 15:47:03 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 15:47:03 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.637ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 15:47:03 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `favorites` LIMIT 1

2022/05/26 15:47:03 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[10.081ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' ORDER BY ORDINAL_POSITION

2022/05/26 15:47:03 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.524ms] [rows:-] SELECT DATABASE()

2022/05/26 15:47:03 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.931ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 15:47:03 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.511ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND index_name = 'idx_favorites_deleted_at'

2022/05/26 15:47:03 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 15:47:03 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.836ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 15:47:03 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND table_type = 'BASE TABLE'

2022/05/26 15:47:03 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.009ms] [rows:-] SELECT DATABASE()

2022/05/26 15:47:03 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.509ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 15:47:03 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `relations` LIMIT 1

2022/05/26 15:47:03 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[7.480ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'relations' ORDER BY ORDINAL_POSITION

2022/05/26 15:47:03 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 15:47:03 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.511ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 15:47:03 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND index_name = 'idx_relations_deleted_at'

2022/05/26 15:47:31 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.858ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-26 15:47:29.837'
LIMIT 30;

2022/05/26 15:47:31 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 5

2022/05/26 15:47:41 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[0.828ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 15:47:41 E:/summerByteDance/DouYin_demo/app/services/user.go:48
[0.516ms] [rows:1] SELECT * FROM `users` WHERE `users`.`id` = 1 AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 15:47:41 E:/summerByteDance/DouYin_demo/app/services/publish.go:92
[1.565ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/26 15:47:51 E:/summerByteDance/DouYin_demo/app/services/user.go:48
[1.225ms] [rows:1] SELECT * FROM `users` WHERE `users`.`id` = 1 AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 15:47:51 E:/summerByteDance/DouYin_demo/app/services/publish.go:92
[1.057ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/26 15:47:51 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.690ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-26 15:47:50.392'
LIMIT 30;

2022/05/26 15:47:51 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.599ms] [rows:1] SELECT created_at FROM videos WHERE id = 5

2022/05/26 15:47:53 E:/summerByteDance/DouYin_demo/app/services/publish.go:92
[0.935ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 3
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 3
ORDER BY v.created_at

2022/05/26 15:47:55 E:/summerByteDance/DouYin_demo/app/services/favorite.go:38
[1.671ms] [rows:1] INSERT INTO `favorites` (`user_id`,`video_id`,`created_at`,`updated_at`,`deleted_at`) VALUES (0,2,'2022-05-26 15:47:55.966','2022-05-26 15:47:55.966',NULL)

2022/05/26 15:47:55 E:/summerByteDance/DouYin_demo/app/services/favorite.go:42
[3.227ms] [rows:1] UPDATE `videos` SET `favorite_count`=favorite_count + 1,`updated_at`='2022-05-26 15:47:55.967' WHERE id = 2 AND `videos`.`deleted_at` IS NULL

2022/05/26 15:47:57 E:/summerByteDance/DouYin_demo/app/services/publish.go:92
[1.039ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 3
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 3
ORDER BY v.created_at

2022/05/26 15:50:28 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 15:50:28 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.664ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 15:50:28 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.651ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/26 15:50:28 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 15:50:28 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.509ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 15:50:28 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.421ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/26 15:50:28 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[9.840ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/26 15:50:28 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[7.488ms] [rows:0] ALTER TABLE `users` MODIFY COLUMN `is_follow` boolean NOT NULL DEFAULT false COMMENT '是否关注'

2022/05/26 15:50:28 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.372ms] [rows:-] SELECT DATABASE()

2022/05/26 15:50:28 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.544ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 15:50:28 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/26 15:50:28 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 15:50:28 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.544ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 15:50:28 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND table_type = 'BASE TABLE'

2022/05/26 15:50:28 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.509ms] [rows:-] SELECT DATABASE()

2022/05/26 15:50:28 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.546ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 15:50:28 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `videos` LIMIT 1

2022/05/26 15:50:28 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[5.875ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'videos' ORDER BY ORDINAL_POSITION

2022/05/26 15:50:28 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[6.981ms] [rows:0] ALTER TABLE `videos` MODIFY COLUMN `is_favorite` boolean NOT NULL DEFAULT false COMMENT '是否点赞'

2022/05/26 15:50:28 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 15:50:28 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.887ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 15:50:28 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_disk_type'

2022/05/26 15:50:28 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.510ms] [rows:-] SELECT DATABASE()

2022/05/26 15:50:28 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.669ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 15:50:28 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_deleted_at'

2022/05/26 15:50:28 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 15:50:28 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.551ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 15:50:28 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND table_type = 'BASE TABLE'

2022/05/26 15:50:28 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 15:50:28 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.750ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 15:50:28 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.360ms] [rows:-] SELECT * FROM `comments` LIMIT 1

2022/05/26 15:50:28 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[5.881ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'comments' ORDER BY ORDINAL_POSITION

2022/05/26 15:50:28 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 15:50:28 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.507ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 15:50:28 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.501ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND index_name = 'idx_comments_deleted_at'

2022/05/26 15:50:28 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 15:50:28 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.507ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 15:50:28 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.514ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND table_type = 'BASE TABLE'

2022/05/26 15:50:28 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 15:50:28 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.506ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 15:50:28 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.349ms] [rows:-] SELECT * FROM `favorites` LIMIT 1

2022/05/26 15:50:28 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[9.864ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' ORDER BY ORDINAL_POSITION

2022/05/26 15:50:28 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 15:50:28 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.512ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 15:50:28 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND index_name = 'idx_favorites_deleted_at'

2022/05/26 15:50:28 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 15:50:28 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.721ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 15:50:28 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.580ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND table_type = 'BASE TABLE'

2022/05/26 15:50:28 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 15:50:28 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.513ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 15:50:28 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.507ms] [rows:-] SELECT * FROM `relations` LIMIT 1

2022/05/26 15:50:28 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[4.827ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'relations' ORDER BY ORDINAL_POSITION

2022/05/26 15:50:28 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 15:50:28 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.508ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 15:50:28 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND index_name = 'idx_relations_deleted_at'

2022/05/26 15:50:29 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[1.834ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-26 15:50:25.924'
LIMIT 30;

2022/05/26 15:50:29 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.756ms] [rows:1] SELECT created_at FROM videos WHERE id = 5

2022/05/26 15:50:45 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[0.696ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 15:50:45 E:/summerByteDance/DouYin_demo/app/services/user.go:48
[0.610ms] [rows:1] SELECT * FROM `users` WHERE `users`.`id` = 1 AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 15:50:45 E:/summerByteDance/DouYin_demo/app/services/publish.go:92
[0.869ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/26 15:50:53 E:/summerByteDance/DouYin_demo/app/services/user.go:48
[0.564ms] [rows:1] SELECT * FROM `users` WHERE `users`.`id` = 1 AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 15:50:53 E:/summerByteDance/DouYin_demo/app/services/publish.go:92
[0.000ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/26 15:50:53 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.648ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-26 15:50:52.114'
LIMIT 30;

2022/05/26 15:50:53 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.512ms] [rows:1] SELECT created_at FROM videos WHERE id = 5

2022/05/26 15:50:55 E:/summerByteDance/DouYin_demo/app/services/publish.go:92
[1.044ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 3
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 3
ORDER BY v.created_at

2022/05/26 15:50:57 E:/summerByteDance/DouYin_demo/app/services/favorite.go:38
[11.190ms] [rows:1] INSERT INTO `favorites` (`user_id`,`video_id`,`created_at`,`updated_at`,`deleted_at`) VALUES (0,2,'2022-05-26 15:50:57.312','2022-05-26 15:50:57.312',NULL)

2022/05/26 15:50:57 E:/summerByteDance/DouYin_demo/app/services/favorite.go:42
[1.383ms] [rows:1] UPDATE `videos` SET `favorite_count`=favorite_count + 1,`updated_at`='2022-05-26 15:50:57.323' WHERE id = 2 AND `videos`.`deleted_at` IS NULL

2022/05/26 15:51:05 E:/summerByteDance/DouYin_demo/app/services/favorite.go:51
[1.539ms] [rows:0] UPDATE `favorites` SET `deleted_at`='2022-05-26 15:51:05.361' WHERE (user_id = 0 AND video_id = 5) AND `favorites`.`deleted_at` IS NULL

2022/05/26 15:51:05 E:/summerByteDance/DouYin_demo/app/services/favorite.go:55 Error 1690: BIGINT UNSIGNED value is out of range in '(`douyin_demo`.`videos`.`favorite_count` - 1)'
[0.621ms] [rows:0] UPDATE `videos` SET `favorite_count`=favorite_count - 1,`updated_at`='2022-05-26 15:51:05.361' WHERE id = 5 AND `videos`.`deleted_at` IS NULL

2022/05/26 15:53:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.508ms] [rows:-] SELECT DATABASE()

2022/05/26 15:53:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.510ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 15:53:36 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/26 15:53:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.508ms] [rows:-] SELECT DATABASE()

2022/05/26 15:53:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.234ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 15:53:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.508ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/26 15:53:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[10.941ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/26 15:53:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[8.485ms] [rows:0] ALTER TABLE `users` MODIFY COLUMN `is_follow` boolean NOT NULL DEFAULT false COMMENT '是否关注'

2022/05/26 15:53:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 15:53:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.509ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 15:53:36 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.411ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/26 15:53:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 15:53:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.645ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 15:53:36 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.610ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND table_type = 'BASE TABLE'

2022/05/26 15:53:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.203ms] [rows:-] SELECT DATABASE()

2022/05/26 15:53:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.010ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 15:53:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `videos` LIMIT 1

2022/05/26 15:53:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[6.853ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'videos' ORDER BY ORDINAL_POSITION

2022/05/26 15:53:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[7.494ms] [rows:0] ALTER TABLE `videos` MODIFY COLUMN `is_favorite` boolean NOT NULL DEFAULT false COMMENT '是否点赞'

2022/05/26 15:53:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 15:53:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.515ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 15:53:36 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.630ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_disk_type'

2022/05/26 15:53:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 15:53:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.702ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 15:53:36 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_deleted_at'

2022/05/26 15:53:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.526ms] [rows:-] SELECT DATABASE()

2022/05/26 15:53:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.611ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 15:53:36 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.103ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND table_type = 'BASE TABLE'

2022/05/26 15:53:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 15:53:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.509ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 15:53:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `comments` LIMIT 1

2022/05/26 15:53:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[10.381ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'comments' ORDER BY ORDINAL_POSITION

2022/05/26 15:53:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 15:53:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.210ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 15:53:36 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND index_name = 'idx_comments_deleted_at'

2022/05/26 15:53:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 15:53:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.509ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 15:53:36 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.357ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND table_type = 'BASE TABLE'

2022/05/26 15:53:36 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[38.993ms] [rows:0] CREATE TABLE `favorites` (`id` bigint unsigned AUTO_INCREMENT,`user_id` bigint unsigned,`video_id` bigint unsigned,`created_at` datetime NULL,`updated_at` datetime NULL,PRIMARY KEY (`id`))

2022/05/26 15:53:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.507ms] [rows:-] SELECT DATABASE()

2022/05/26 15:53:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.566ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 15:53:36 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND table_type = 'BASE TABLE'

2022/05/26 15:53:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 15:53:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.901ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 15:53:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `relations` LIMIT 1

2022/05/26 15:53:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[6.847ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'relations' ORDER BY ORDINAL_POSITION

2022/05/26 15:53:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 15:53:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.838ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 15:53:36 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND index_name = 'idx_relations_deleted_at'

2022/05/26 15:54:02 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.517ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-26 15:54:01.057'
LIMIT 30;

2022/05/26 15:54:02 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.509ms] [rows:1] SELECT created_at FROM videos WHERE id = 5

2022/05/26 15:55:27 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.510ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-26 15:55:25.695'
LIMIT 30;

2022/05/26 15:55:27 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 5

2022/05/26 15:55:38 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[1.006ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 15:55:38 E:/summerByteDance/DouYin_demo/app/services/user.go:48
[0.000ms] [rows:1] SELECT * FROM `users` WHERE `users`.`id` = 1 AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 15:55:38 E:/summerByteDance/DouYin_demo/app/services/publish.go:92
[0.915ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/26 15:55:46 E:/summerByteDance/DouYin_demo/app/services/favorite.go:38
[13.511ms] [rows:1] INSERT INTO `favorites` (`user_id`,`video_id`,`created_at`,`updated_at`) VALUES (0,1,'2022-05-26 15:55:46.693','2022-05-26 15:55:46.693')

2022/05/26 15:55:46 E:/summerByteDance/DouYin_demo/app/services/favorite.go:42
[1.610ms] [rows:1] UPDATE `videos` SET `favorite_count`=favorite_count + 1,`updated_at`='2022-05-26 15:55:46.706' WHERE id = 1 AND `videos`.`deleted_at` IS NULL

2022/05/26 15:55:48 E:/summerByteDance/DouYin_demo/app/services/favorite.go:51
[2.844ms] [rows:1] DELETE FROM `favorites` WHERE user_id = 0 AND video_id = 1

2022/05/26 15:55:48 E:/summerByteDance/DouYin_demo/app/services/favorite.go:55
[1.504ms] [rows:1] UPDATE `videos` SET `favorite_count`=favorite_count - 1,`updated_at`='2022-05-26 15:55:48.685' WHERE id = 1 AND `videos`.`deleted_at` IS NULL

2022/05/26 15:55:50 E:/summerByteDance/DouYin_demo/app/services/favorite.go:38
[2.631ms] [rows:1] INSERT INTO `favorites` (`user_id`,`video_id`,`created_at`,`updated_at`) VALUES (0,1,'2022-05-26 15:55:50.608','2022-05-26 15:55:50.608')

2022/05/26 15:55:50 E:/summerByteDance/DouYin_demo/app/services/favorite.go:42
[2.261ms] [rows:1] UPDATE `videos` SET `favorite_count`=favorite_count + 1,`updated_at`='2022-05-26 15:55:50.61' WHERE id = 1 AND `videos`.`deleted_at` IS NULL

2022/05/26 15:55:51 E:/summerByteDance/DouYin_demo/app/services/favorite.go:51
[9.335ms] [rows:1] DELETE FROM `favorites` WHERE user_id = 0 AND video_id = 1

2022/05/26 15:55:51 E:/summerByteDance/DouYin_demo/app/services/favorite.go:55
[1.065ms] [rows:1] UPDATE `videos` SET `favorite_count`=favorite_count - 1,`updated_at`='2022-05-26 15:55:51.821' WHERE id = 1 AND `videos`.`deleted_at` IS NULL

2022/05/26 15:55:53 E:/summerByteDance/DouYin_demo/app/services/user.go:48
[0.722ms] [rows:1] SELECT * FROM `users` WHERE `users`.`id` = 1 AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 15:55:53 E:/summerByteDance/DouYin_demo/app/services/publish.go:92
[0.520ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/26 15:55:53 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.525ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-26 15:55:52.306'
LIMIT 30;

2022/05/26 15:55:53 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.528ms] [rows:1] SELECT created_at FROM videos WHERE id = 5

2022/05/26 15:55:56 E:/summerByteDance/DouYin_demo/app/services/favorite.go:51
[0.641ms] [rows:0] DELETE FROM `favorites` WHERE user_id = 0 AND video_id = 12

2022/05/26 15:55:56 E:/summerByteDance/DouYin_demo/app/services/favorite.go:55 Error 1690: BIGINT UNSIGNED value is out of range in '(`douyin_demo`.`videos`.`favorite_count` - 1)'
[0.525ms] [rows:0] UPDATE `videos` SET `favorite_count`=favorite_count - 1,`updated_at`='2022-05-26 15:55:56.761' WHERE id = 12 AND `videos`.`deleted_at` IS NULL

2022/05/26 15:56:01 E:/summerByteDance/DouYin_demo/app/services/favorite.go:51
[0.736ms] [rows:0] DELETE FROM `favorites` WHERE user_id = 0 AND video_id = 12

2022/05/26 15:56:01 E:/summerByteDance/DouYin_demo/app/services/favorite.go:55 Error 1690: BIGINT UNSIGNED value is out of range in '(`douyin_demo`.`videos`.`favorite_count` - 1)'
[0.729ms] [rows:0] UPDATE `videos` SET `favorite_count`=favorite_count - 1,`updated_at`='2022-05-26 15:56:01.444' WHERE id = 12 AND `videos`.`deleted_at` IS NULL

2022/05/26 15:56:02 E:/summerByteDance/DouYin_demo/app/services/favorite.go:51
[0.000ms] [rows:0] DELETE FROM `favorites` WHERE user_id = 0 AND video_id = 12

2022/05/26 15:56:02 E:/summerByteDance/DouYin_demo/app/services/favorite.go:55 Error 1690: BIGINT UNSIGNED value is out of range in '(`douyin_demo`.`videos`.`favorite_count` - 1)'
[1.514ms] [rows:0] UPDATE `videos` SET `favorite_count`=favorite_count - 1,`updated_at`='2022-05-26 15:56:02.227' WHERE id = 12 AND `videos`.`deleted_at` IS NULL

2022/05/26 15:56:06 E:/summerByteDance/DouYin_demo/app/services/favorite.go:38
[10.217ms] [rows:1] INSERT INTO `favorites` (`user_id`,`video_id`,`created_at`,`updated_at`) VALUES (0,2,'2022-05-26 15:56:06.234','2022-05-26 15:56:06.234')

2022/05/26 15:56:06 E:/summerByteDance/DouYin_demo/app/services/favorite.go:42
[1.722ms] [rows:1] UPDATE `videos` SET `favorite_count`=favorite_count + 1,`updated_at`='2022-05-26 15:56:06.245' WHERE id = 2 AND `videos`.`deleted_at` IS NULL

2022/05/26 15:56:08 E:/summerByteDance/DouYin_demo/app/services/favorite.go:51
[4.472ms] [rows:1] DELETE FROM `favorites` WHERE user_id = 0 AND video_id = 2

2022/05/26 15:56:08 E:/summerByteDance/DouYin_demo/app/services/favorite.go:55
[2.119ms] [rows:1] UPDATE `videos` SET `favorite_count`=favorite_count - 1,`updated_at`='2022-05-26 15:56:08.828' WHERE id = 2 AND `videos`.`deleted_at` IS NULL

2022/05/26 15:56:15 E:/summerByteDance/DouYin_demo/app/services/favorite.go:51
[1.330ms] [rows:0] DELETE FROM `favorites` WHERE user_id = 0 AND video_id = 5

2022/05/26 15:56:15 E:/summerByteDance/DouYin_demo/app/services/favorite.go:55 Error 1690: BIGINT UNSIGNED value is out of range in '(`douyin_demo`.`videos`.`favorite_count` - 1)'
[0.594ms] [rows:0] UPDATE `videos` SET `favorite_count`=favorite_count - 1,`updated_at`='2022-05-26 15:56:15.342' WHERE id = 5 AND `videos`.`deleted_at` IS NULL

2022/05/26 15:57:33 E:/summerByteDance/DouYin_demo/app/services/favorite.go:51
[0.510ms] [rows:0] DELETE FROM `favorites` WHERE user_id = 0 AND video_id = 5

2022/05/26 15:57:33 E:/summerByteDance/DouYin_demo/app/services/favorite.go:55 Error 1690: BIGINT UNSIGNED value is out of range in '(`douyin_demo`.`videos`.`favorite_count` - 1)'
[0.580ms] [rows:0] UPDATE `videos` SET `favorite_count`=favorite_count - 1,`updated_at`='2022-05-26 15:57:33.998' WHERE id = 5 AND `videos`.`deleted_at` IS NULL

2022/05/26 15:58:31 E:/summerByteDance/DouYin_demo/app/services/favorite.go:51
[1.828ms] [rows:0] DELETE FROM `favorites` WHERE user_id = 0 AND video_id = 5

2022/05/26 15:58:31 E:/summerByteDance/DouYin_demo/app/services/favorite.go:55 Error 1690: BIGINT UNSIGNED value is out of range in '(`douyin_demo`.`videos`.`favorite_count` - 1)'
[0.509ms] [rows:0] UPDATE `videos` SET `favorite_count`=favorite_count - 1,`updated_at`='2022-05-26 15:58:31.437' WHERE id = 5 AND `videos`.`deleted_at` IS NULL

2022/05/26 15:59:45 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.000ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-26 15:59:44.1'
LIMIT 30;

2022/05/26 15:59:45 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.854ms] [rows:1] SELECT created_at FROM videos WHERE id = 5

2022/05/26 15:59:55 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.543ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-26 15:59:53.819'
LIMIT 30;

2022/05/26 15:59:55 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 5

2022/05/26 16:00:05 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[1.114ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 16:00:05 E:/summerByteDance/DouYin_demo/app/services/user.go:48
[0.533ms] [rows:1] SELECT * FROM `users` WHERE `users`.`id` = 1 AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 16:00:05 E:/summerByteDance/DouYin_demo/app/services/publish.go:92
[0.579ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/26 16:00:12 E:/summerByteDance/DouYin_demo/app/services/user.go:48
[0.524ms] [rows:1] SELECT * FROM `users` WHERE `users`.`id` = 1 AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 16:00:12 E:/summerByteDance/DouYin_demo/app/services/publish.go:92
[0.514ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/26 16:00:12 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.523ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 21:24:52'
LIMIT 30;

2022/05/26 16:00:12 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 2

2022/05/26 16:00:15 E:/summerByteDance/DouYin_demo/app/services/publish.go:92
[0.794ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 3
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 3
ORDER BY v.created_at

2022/05/26 16:00:17 E:/summerByteDance/DouYin_demo/app/services/publish.go:92
[1.607ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 3
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 3
ORDER BY v.created_at

2022/05/26 16:00:17 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[1.026ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 21:20:59'
LIMIT 30;

2022/05/26 16:00:17 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.561ms] [rows:1] SELECT created_at FROM videos WHERE id = 1

2022/05/26 16:00:24 E:/summerByteDance/DouYin_demo/app/services/favorite.go:38
[26.323ms] [rows:1] INSERT INTO `favorites` (`user_id`,`video_id`,`created_at`,`updated_at`) VALUES (0,2,'2022-05-26 16:00:24.059','2022-05-26 16:00:24.059')

2022/05/26 16:00:24 E:/summerByteDance/DouYin_demo/app/services/favorite.go:42
[1.952ms] [rows:1] UPDATE `videos` SET `favorite_count`=favorite_count + 1,`updated_at`='2022-05-26 16:00:24.085' WHERE id = 2 AND `videos`.`deleted_at` IS NULL

2022/05/26 16:00:27 E:/summerByteDance/DouYin_demo/app/services/favorite.go:38
[10.069ms] [rows:1] INSERT INTO `favorites` (`user_id`,`video_id`,`created_at`,`updated_at`) VALUES (0,5,'2022-05-26 16:00:27.704','2022-05-26 16:00:27.704')

2022/05/26 16:00:27 E:/summerByteDance/DouYin_demo/app/services/favorite.go:42
[2.428ms] [rows:1] UPDATE `videos` SET `favorite_count`=favorite_count + 1,`updated_at`='2022-05-26 16:00:27.714' WHERE id = 5 AND `videos`.`deleted_at` IS NULL

2022/05/26 16:00:28 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.873ms] [rows:0] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-24 02:23:38'
LIMIT 30;

2022/05/26 16:00:32 E:/summerByteDance/DouYin_demo/app/services/favorite.go:38
[18.422ms] [rows:1] INSERT INTO `favorites` (`user_id`,`video_id`,`created_at`,`updated_at`) VALUES (0,1,'2022-05-26 16:00:32.013','2022-05-26 16:00:32.013')

2022/05/26 16:00:32 E:/summerByteDance/DouYin_demo/app/services/favorite.go:42
[2.426ms] [rows:1] UPDATE `videos` SET `favorite_count`=favorite_count + 1,`updated_at`='2022-05-26 16:00:32.032' WHERE id = 1 AND `videos`.`deleted_at` IS NULL

2022/05/26 16:00:33 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.000ms] [rows:0] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-24 02:23:38'
LIMIT 30;

2022/05/26 16:00:34 E:/summerByteDance/DouYin_demo/app/services/favorite.go:38
[1.959ms] [rows:1] INSERT INTO `favorites` (`user_id`,`video_id`,`created_at`,`updated_at`) VALUES (0,2,'2022-05-26 16:00:34.651','2022-05-26 16:00:34.651')

2022/05/26 16:00:34 E:/summerByteDance/DouYin_demo/app/services/favorite.go:42
[1.549ms] [rows:1] UPDATE `videos` SET `favorite_count`=favorite_count + 1,`updated_at`='2022-05-26 16:00:34.654' WHERE id = 2 AND `videos`.`deleted_at` IS NULL

2022/05/26 16:00:36 E:/summerByteDance/DouYin_demo/app/services/favorite.go:51
[3.663ms] [rows:2] DELETE FROM `favorites` WHERE user_id = 0 AND video_id = 2

2022/05/26 16:00:36 E:/summerByteDance/DouYin_demo/app/services/favorite.go:55
[2.145ms] [rows:1] UPDATE `videos` SET `favorite_count`=favorite_count - 1,`updated_at`='2022-05-26 16:00:36.322' WHERE id = 2 AND `videos`.`deleted_at` IS NULL

2022/05/26 16:00:37 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.503ms] [rows:0] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-24 02:23:38'
LIMIT 30;

2022/05/26 16:00:46 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.272ms] [rows:0] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-24 02:23:38'
LIMIT 30;

2022/05/26 16:00:50 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.597ms] [rows:0] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-24 02:23:38'
LIMIT 30;

2022/05/26 16:00:53 E:/summerByteDance/DouYin_demo/app/services/favorite.go:51
[4.249ms] [rows:1] DELETE FROM `favorites` WHERE user_id = 0 AND video_id = 1

2022/05/26 16:00:53 E:/summerByteDance/DouYin_demo/app/services/favorite.go:55
[1.962ms] [rows:1] UPDATE `videos` SET `favorite_count`=favorite_count - 1,`updated_at`='2022-05-26 16:00:53.898' WHERE id = 1 AND `videos`.`deleted_at` IS NULL

2022/05/26 16:00:58 E:/summerByteDance/DouYin_demo/app/services/favorite.go:38
[1.205ms] [rows:1] INSERT INTO `favorites` (`user_id`,`video_id`,`created_at`,`updated_at`) VALUES (0,1,'2022-05-26 16:00:58.134','2022-05-26 16:00:58.134')

2022/05/26 16:00:58 E:/summerByteDance/DouYin_demo/app/services/favorite.go:42
[1.028ms] [rows:1] UPDATE `videos` SET `favorite_count`=favorite_count + 1,`updated_at`='2022-05-26 16:00:58.136' WHERE id = 1 AND `videos`.`deleted_at` IS NULL

2022/05/26 16:00:59 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.170ms] [rows:0] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-24 02:23:38'
LIMIT 30;

2022/05/26 16:01:00 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[1.465ms] [rows:0] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-24 02:23:38'
LIMIT 30;

2022/05/26 16:03:01 E:/summerByteDance/DouYin_demo/app/services/favorite.go:51
[9.243ms] [rows:1] DELETE FROM `favorites` WHERE user_id = 0 AND video_id = 1

2022/05/26 16:03:01 E:/summerByteDance/DouYin_demo/app/services/favorite.go:55
[2.295ms] [rows:1] UPDATE `videos` SET `favorite_count`=favorite_count - 1,`updated_at`='2022-05-26 16:03:01.458' WHERE id = 1 AND `videos`.`deleted_at` IS NULL

2022/05/26 16:03:10 E:/summerByteDance/DouYin_demo/app/services/favorite.go:38
[3.197ms] [rows:1] INSERT INTO `favorites` (`user_id`,`video_id`,`created_at`,`updated_at`) VALUES (0,1,'2022-05-26 16:03:10.466','2022-05-26 16:03:10.466')

2022/05/26 16:03:10 E:/summerByteDance/DouYin_demo/app/services/favorite.go:42
[1.907ms] [rows:1] UPDATE `videos` SET `favorite_count`=favorite_count + 1,`updated_at`='2022-05-26 16:03:10.468' WHERE id = 1 AND `videos`.`deleted_at` IS NULL

2022/05/26 16:04:49 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 16:04:49 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.019ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 16:04:49 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/26 16:04:49 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.008ms] [rows:-] SELECT DATABASE()

2022/05/26 16:04:49 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.626ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 16:04:49 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/26 16:04:49 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[14.444ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/26 16:04:49 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[10.486ms] [rows:0] ALTER TABLE `users` MODIFY COLUMN `is_follow` boolean NOT NULL DEFAULT false COMMENT '是否关注'

2022/05/26 16:04:49 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 16:04:49 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.956ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 16:04:49 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.649ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/26 16:04:49 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 16:04:49 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.847ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 16:04:49 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND table_type = 'BASE TABLE'

2022/05/26 16:04:49 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 16:04:49 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.581ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 16:04:49 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `videos` LIMIT 1

2022/05/26 16:04:49 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[5.713ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'videos' ORDER BY ORDINAL_POSITION

2022/05/26 16:04:49 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[10.483ms] [rows:0] ALTER TABLE `videos` MODIFY COLUMN `is_favorite` boolean NOT NULL DEFAULT false COMMENT '是否点赞'

2022/05/26 16:04:49 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 16:04:49 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.664ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 16:04:49 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_disk_type'

2022/05/26 16:04:49 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 16:04:49 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.721ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 16:04:49 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_deleted_at'

2022/05/26 16:04:49 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 16:04:49 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.716ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 16:04:49 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND table_type = 'BASE TABLE'

2022/05/26 16:04:49 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 16:04:49 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.773ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 16:04:49 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `comments` LIMIT 1

2022/05/26 16:04:49 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[10.944ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'comments' ORDER BY ORDINAL_POSITION

2022/05/26 16:04:49 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 16:04:49 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.505ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 16:04:49 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND index_name = 'idx_comments_deleted_at'

2022/05/26 16:04:49 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 16:04:49 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.699ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 16:04:49 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND table_type = 'BASE TABLE'

2022/05/26 16:04:49 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 16:04:49 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.518ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 16:04:49 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `favorites` LIMIT 1

2022/05/26 16:04:49 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[5.480ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' ORDER BY ORDINAL_POSITION

2022/05/26 16:04:49 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 16:04:49 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.509ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 16:04:49 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND table_type = 'BASE TABLE'

2022/05/26 16:04:49 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 16:04:49 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.000ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 16:04:49 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `relations` LIMIT 1

2022/05/26 16:04:49 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[5.974ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'relations' ORDER BY ORDINAL_POSITION

2022/05/26 16:04:49 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 16:04:49 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.806ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 16:04:49 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND index_name = 'idx_relations_deleted_at'

2022/05/26 16:04:55 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[1.144ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-26 16:04:54.359'
LIMIT 30;

2022/05/26 16:04:55 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.549ms] [rows:1] SELECT created_at FROM videos WHERE id = 5

2022/05/26 16:05:04 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[0.843ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 16:05:04 E:/summerByteDance/DouYin_demo/app/services/user.go:48
[0.519ms] [rows:1] SELECT * FROM `users` WHERE `users`.`id` = 1 AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 16:05:04 E:/summerByteDance/DouYin_demo/app/services/publish.go:92
[0.512ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/26 16:05:12 E:/summerByteDance/DouYin_demo/app/services/user.go:48
[0.742ms] [rows:1] SELECT * FROM `users` WHERE `users`.`id` = 1 AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 16:05:12 E:/summerByteDance/DouYin_demo/app/services/publish.go:92
[0.515ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/26 16:05:12 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[1.119ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 21:24:52'
LIMIT 30;

2022/05/26 16:05:12 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 2

2022/05/26 16:05:14 E:/summerByteDance/DouYin_demo/app/services/publish.go:92
[1.038ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 3
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 3
ORDER BY v.created_at

2022/05/26 16:05:21 E:/summerByteDance/DouYin_demo/app/services/favorite.go:40
[9.997ms] [rows:1] INSERT INTO `favorites` (`user_id`,`video_id`,`created_at`,`updated_at`) VALUES (0,2,'2022-05-26 16:05:21.979','2022-05-26 16:05:21.979')

2022/05/26 16:05:21 E:/summerByteDance/DouYin_demo/app/services/favorite.go:44
[2.321ms] [rows:1] UPDATE `videos` SET `favorite_count`=favorite_count + 1,`updated_at`='2022-05-26 16:05:21.99' WHERE id = 2 AND `videos`.`deleted_at` IS NULL

2022/05/26 16:07:24 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 16:07:24 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.509ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 16:07:24 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/26 16:07:24 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 16:07:24 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.604ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 16:07:24 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.007ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/26 16:07:24 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[11.946ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/26 16:07:24 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[10.288ms] [rows:0] ALTER TABLE `users` MODIFY COLUMN `is_follow` boolean NOT NULL DEFAULT false COMMENT '是否关注'

2022/05/26 16:07:24 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 16:07:24 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.557ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 16:07:24 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.266ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/26 16:07:24 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 16:07:24 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.556ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 16:07:24 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.275ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND table_type = 'BASE TABLE'

2022/05/26 16:07:24 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 16:07:24 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.557ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 16:07:24 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.233ms] [rows:-] SELECT * FROM `videos` LIMIT 1

2022/05/26 16:07:24 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[5.983ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'videos' ORDER BY ORDINAL_POSITION

2022/05/26 16:07:24 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[9.485ms] [rows:0] ALTER TABLE `videos` MODIFY COLUMN `is_favorite` boolean NOT NULL DEFAULT false COMMENT '是否点赞'

2022/05/26 16:07:24 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 16:07:24 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.558ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 16:07:24 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_disk_type'

2022/05/26 16:07:24 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 16:07:24 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.556ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 16:07:24 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_deleted_at'

2022/05/26 16:07:24 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 16:07:24 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.779ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 16:07:24 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND table_type = 'BASE TABLE'

2022/05/26 16:07:24 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 16:07:24 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.000ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 16:07:24 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.552ms] [rows:-] SELECT * FROM `comments` LIMIT 1

2022/05/26 16:07:24 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[6.008ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'comments' ORDER BY ORDINAL_POSITION

2022/05/26 16:07:24 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 16:07:24 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.167ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 16:07:24 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND index_name = 'idx_comments_deleted_at'

2022/05/26 16:07:24 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 16:07:24 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.094ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 16:07:24 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND table_type = 'BASE TABLE'

2022/05/26 16:07:24 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 16:07:24 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.556ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 16:07:24 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.370ms] [rows:-] SELECT * FROM `favorites` LIMIT 1

2022/05/26 16:07:24 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[6.715ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' ORDER BY ORDINAL_POSITION

2022/05/26 16:07:24 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 16:07:24 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.509ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 16:07:24 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND table_type = 'BASE TABLE'

2022/05/26 16:07:24 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 16:07:24 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.532ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 16:07:24 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `relations` LIMIT 1

2022/05/26 16:07:24 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[7.787ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'relations' ORDER BY ORDINAL_POSITION

2022/05/26 16:07:24 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 16:07:24 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.572ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 16:07:24 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.720ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND index_name = 'idx_relations_deleted_at'

2022/05/26 16:07:25 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.523ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-26 16:07:23.95'
LIMIT 30;

2022/05/26 16:07:25 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.058ms] [rows:1] SELECT created_at FROM videos WHERE id = 5

2022/05/26 16:07:36 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[0.998ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 16:07:36 E:/summerByteDance/DouYin_demo/app/services/user.go:48
[0.533ms] [rows:1] SELECT * FROM `users` WHERE `users`.`id` = 1 AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 16:07:36 E:/summerByteDance/DouYin_demo/app/services/publish.go:92
[0.520ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/26 16:07:41 E:/summerByteDance/DouYin_demo/app/services/user.go:48
[0.548ms] [rows:1] SELECT * FROM `users` WHERE `users`.`id` = 1 AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 16:07:41 E:/summerByteDance/DouYin_demo/app/services/publish.go:92
[1.161ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/26 16:07:41 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.000ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 21:24:52'
LIMIT 30;

2022/05/26 16:07:41 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[1.024ms] [rows:1] SELECT created_at FROM videos WHERE id = 2

2022/05/26 16:07:42 E:/summerByteDance/DouYin_demo/app/services/publish.go:92
[0.755ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 3
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 3
ORDER BY v.created_at

2022/05/26 16:07:44 E:/summerByteDance/DouYin_demo/app/services/favorite.go:40
[9.306ms] [rows:1] INSERT INTO `favorites` (`user_id`,`video_id`,`created_at`,`updated_at`) VALUES (0,2,'2022-05-26 16:07:44.525','2022-05-26 16:07:44.525')

2022/05/26 16:07:44 E:/summerByteDance/DouYin_demo/app/services/favorite.go:44
[1.503ms] [rows:1] UPDATE `videos` SET `favorite_count`=favorite_count + 1,`updated_at`='2022-05-26 16:07:44.535' WHERE id = 2 AND `videos`.`deleted_at` IS NULL

2022/05/26 16:08:29 E:/summerByteDance/DouYin_demo/app/services/favorite.go:40
[1.457ms] [rows:1] INSERT INTO `favorites` (`user_id`,`video_id`,`created_at`,`updated_at`) VALUES (0,2,'2022-05-26 16:08:29.875','2022-05-26 16:08:29.875')

2022/05/26 16:08:29 E:/summerByteDance/DouYin_demo/app/services/favorite.go:44
[1.004ms] [rows:1] UPDATE `videos` SET `favorite_count`=favorite_count + 1,`updated_at`='2022-05-26 16:08:29.877' WHERE id = 2 AND `videos`.`deleted_at` IS NULL

2022/05/26 16:17:56 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 16:17:56 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[2.171ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 16:17:56 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.509ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/26 16:17:56 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.006ms] [rows:-] SELECT DATABASE()

2022/05/26 16:17:56 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.507ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 16:17:56 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.806ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/26 16:17:56 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[12.546ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/26 16:17:56 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[11.479ms] [rows:0] ALTER TABLE `users` MODIFY COLUMN `is_follow` boolean NOT NULL DEFAULT false COMMENT '是否关注'

2022/05/26 16:17:56 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.998ms] [rows:-] SELECT DATABASE()

2022/05/26 16:17:56 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.000ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 16:17:56 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.944ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/26 16:17:56 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 16:17:56 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.589ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 16:17:56 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.638ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND table_type = 'BASE TABLE'

2022/05/26 16:17:56 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 16:17:56 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.507ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 16:17:56 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.399ms] [rows:-] SELECT * FROM `videos` LIMIT 1

2022/05/26 16:17:56 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[6.352ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'videos' ORDER BY ORDINAL_POSITION

2022/05/26 16:17:56 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[9.488ms] [rows:0] ALTER TABLE `videos` MODIFY COLUMN `is_favorite` boolean NOT NULL DEFAULT false COMMENT '是否点赞'

2022/05/26 16:17:56 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 16:17:56 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.878ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 16:17:56 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_disk_type'

2022/05/26 16:17:56 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.510ms] [rows:-] SELECT DATABASE()

2022/05/26 16:17:56 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.718ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 16:17:56 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_deleted_at'

2022/05/26 16:17:56 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 16:17:56 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.645ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 16:17:56 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.688ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND table_type = 'BASE TABLE'

2022/05/26 16:17:56 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 16:17:56 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.545ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 16:17:56 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `comments` LIMIT 1

2022/05/26 16:17:56 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[6.917ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'comments' ORDER BY ORDINAL_POSITION

2022/05/26 16:17:56 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.507ms] [rows:-] SELECT DATABASE()

2022/05/26 16:17:56 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.088ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 16:17:56 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND index_name = 'idx_comments_deleted_at'

2022/05/26 16:17:56 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.510ms] [rows:-] SELECT DATABASE()

2022/05/26 16:17:56 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.651ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 16:17:56 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND table_type = 'BASE TABLE'

2022/05/26 16:17:56 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 16:17:56 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.936ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 16:17:56 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `favorites` LIMIT 1

2022/05/26 16:17:56 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[6.258ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' ORDER BY ORDINAL_POSITION

2022/05/26 16:17:56 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.089ms] [rows:-] SELECT DATABASE()

2022/05/26 16:17:56 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.401ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 16:17:56 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.620ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND table_type = 'BASE TABLE'

2022/05/26 16:17:56 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 16:17:56 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.509ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 16:17:56 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.365ms] [rows:-] SELECT * FROM `relations` LIMIT 1

2022/05/26 16:17:56 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[12.459ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'relations' ORDER BY ORDINAL_POSITION

2022/05/26 16:17:56 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 16:17:56 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.000ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 16:17:56 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND index_name = 'idx_relations_deleted_at'

2022/05/26 16:18:05 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[1.306ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-26 16:18:03.557'
LIMIT 30;

2022/05/26 16:18:05 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.523ms] [rows:1] SELECT created_at FROM videos WHERE id = 5

2022/05/26 16:18:08 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.075ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-26 16:18:06.943'
LIMIT 30;

2022/05/26 16:18:08 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 5

2022/05/26 16:18:18 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[1.902ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 16:18:18 E:/summerByteDance/DouYin_demo/app/services/user.go:48
[0.636ms] [rows:1] SELECT * FROM `users` WHERE `users`.`id` = 1 AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 16:18:18 E:/summerByteDance/DouYin_demo/app/services/publish.go:92
[2.373ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/26 16:18:25 E:/summerByteDance/DouYin_demo/app/services/favorite.go:40
[1.573ms] [rows:1] INSERT INTO `favorites` (`user_id`,`video_id`,`created_at`,`updated_at`) VALUES (1,1,'2022-05-26 16:18:25.592','2022-05-26 16:18:25.592')

2022/05/26 16:18:25 E:/summerByteDance/DouYin_demo/app/services/favorite.go:44
[1.928ms] [rows:1] UPDATE `videos` SET `favorite_count`=favorite_count + 1,`updated_at`='2022-05-26 16:18:25.594' WHERE id = 1 AND `videos`.`deleted_at` IS NULL

2022/05/26 16:18:28 E:/summerByteDance/DouYin_demo/app/services/user.go:48
[0.540ms] [rows:1] SELECT * FROM `users` WHERE `users`.`id` = 1 AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 16:18:28 E:/summerByteDance/DouYin_demo/app/services/publish.go:92
[0.513ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/26 16:18:28 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[2.066ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 21:24:52'
LIMIT 30;

2022/05/26 16:18:28 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.999ms] [rows:1] SELECT created_at FROM videos WHERE id = 2

2022/05/26 16:18:30 E:/summerByteDance/DouYin_demo/app/services/publish.go:92
[0.940ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/26 16:18:48 E:/summerByteDance/DouYin_demo/app/services/favorite.go:53
[2.054ms] [rows:1] DELETE FROM `favorites` WHERE user_id = 1 AND video_id = 1

2022/05/26 16:18:48 E:/summerByteDance/DouYin_demo/app/services/favorite.go:57
[1.029ms] [rows:1] UPDATE `videos` SET `favorite_count`=favorite_count - 1,`updated_at`='2022-05-26 16:18:48.762' WHERE id = 1 AND `videos`.`deleted_at` IS NULL

2022/05/26 16:18:49 E:/summerByteDance/DouYin_demo/app/services/favorite.go:40
[2.699ms] [rows:1] INSERT INTO `favorites` (`user_id`,`video_id`,`created_at`,`updated_at`) VALUES (1,1,'2022-05-26 16:18:49.512','2022-05-26 16:18:49.512')

2022/05/26 16:18:49 E:/summerByteDance/DouYin_demo/app/services/favorite.go:44
[2.096ms] [rows:1] UPDATE `videos` SET `favorite_count`=favorite_count + 1,`updated_at`='2022-05-26 16:18:49.515' WHERE id = 1 AND `videos`.`deleted_at` IS NULL

2022/05/26 16:18:50 E:/summerByteDance/DouYin_demo/app/services/favorite.go:53
[1.585ms] [rows:1] DELETE FROM `favorites` WHERE user_id = 1 AND video_id = 1

2022/05/26 16:18:50 E:/summerByteDance/DouYin_demo/app/services/favorite.go:57
[2.141ms] [rows:1] UPDATE `videos` SET `favorite_count`=favorite_count - 1,`updated_at`='2022-05-26 16:18:50.148' WHERE id = 1 AND `videos`.`deleted_at` IS NULL

2022/05/26 16:18:52 E:/summerByteDance/DouYin_demo/app/services/favorite.go:40
[1.138ms] [rows:1] INSERT INTO `favorites` (`user_id`,`video_id`,`created_at`,`updated_at`) VALUES (1,12,'2022-05-26 16:18:52.708','2022-05-26 16:18:52.708')

2022/05/26 16:18:52 E:/summerByteDance/DouYin_demo/app/services/favorite.go:44
[1.028ms] [rows:1] UPDATE `videos` SET `favorite_count`=favorite_count + 1,`updated_at`='2022-05-26 16:18:52.71' WHERE id = 12 AND `videos`.`deleted_at` IS NULL

2022/05/26 16:18:53 E:/summerByteDance/DouYin_demo/app/services/favorite.go:53
[9.325ms] [rows:1] DELETE FROM `favorites` WHERE user_id = 1 AND video_id = 12

2022/05/26 16:18:53 E:/summerByteDance/DouYin_demo/app/services/favorite.go:57
[1.172ms] [rows:1] UPDATE `videos` SET `favorite_count`=favorite_count - 1,`updated_at`='2022-05-26 16:18:53.388' WHERE id = 12 AND `videos`.`deleted_at` IS NULL

2022/05/26 16:18:57 E:/summerByteDance/DouYin_demo/app/services/favorite.go:40
[2.642ms] [rows:1] INSERT INTO `favorites` (`user_id`,`video_id`,`created_at`,`updated_at`) VALUES (1,2,'2022-05-26 16:18:57.03','2022-05-26 16:18:57.03')

2022/05/26 16:18:57 E:/summerByteDance/DouYin_demo/app/services/favorite.go:44
[1.326ms] [rows:1] UPDATE `videos` SET `favorite_count`=favorite_count + 1,`updated_at`='2022-05-26 16:18:57.033' WHERE id = 2 AND `videos`.`deleted_at` IS NULL

2022/05/26 16:18:57 E:/summerByteDance/DouYin_demo/app/services/favorite.go:53
[5.131ms] [rows:1] DELETE FROM `favorites` WHERE user_id = 1 AND video_id = 2

2022/05/26 16:18:57 E:/summerByteDance/DouYin_demo/app/services/favorite.go:57
[1.089ms] [rows:1] UPDATE `videos` SET `favorite_count`=favorite_count - 1,`updated_at`='2022-05-26 16:18:57.569' WHERE id = 2 AND `videos`.`deleted_at` IS NULL

2022/05/26 16:18:58 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.708ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 21:20:59'
LIMIT 30;

2022/05/26 16:18:58 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 1

2022/05/26 16:19:02 E:/summerByteDance/DouYin_demo/app/services/favorite.go:40
[9.979ms] [rows:1] INSERT INTO `favorites` (`user_id`,`video_id`,`created_at`,`updated_at`) VALUES (1,5,'2022-05-26 16:19:02.48','2022-05-26 16:19:02.48')

2022/05/26 16:19:02 E:/summerByteDance/DouYin_demo/app/services/favorite.go:44
[1.109ms] [rows:1] UPDATE `videos` SET `favorite_count`=favorite_count + 1,`updated_at`='2022-05-26 16:19:02.491' WHERE id = 5 AND `videos`.`deleted_at` IS NULL

2022/05/26 16:19:21 E:/summerByteDance/DouYin_demo/app/services/favorite.go:40
[1.696ms] [rows:1] INSERT INTO `favorites` (`user_id`,`video_id`,`created_at`,`updated_at`) VALUES (1,1,'2022-05-26 16:19:21.862','2022-05-26 16:19:21.862')

2022/05/26 16:19:21 E:/summerByteDance/DouYin_demo/app/services/favorite.go:44
[0.857ms] [rows:1] UPDATE `videos` SET `favorite_count`=favorite_count + 1,`updated_at`='2022-05-26 16:19:21.864' WHERE id = 1 AND `videos`.`deleted_at` IS NULL

2022/05/26 16:20:30 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.099ms] [rows:0] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-24 02:23:38'
LIMIT 30;

2022/05/26 16:20:33 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.099ms] [rows:0] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-24 02:23:38'
LIMIT 30;

2022/05/26 16:25:48 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[1.547ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-26 16:25:47.313'
LIMIT 30;

2022/05/26 16:25:48 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 5

2022/05/26 16:26:10 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.000ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 21:24:52'
LIMIT 30;

2022/05/26 16:26:10 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.999ms] [rows:1] SELECT created_at FROM videos WHERE id = 2

2022/05/26 16:26:22 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[0.000ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 16:26:22 E:/summerByteDance/DouYin_demo/app/services/user.go:48
[0.000ms] [rows:1] SELECT * FROM `users` WHERE `users`.`id` = 1 AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 16:26:22 E:/summerByteDance/DouYin_demo/app/services/publish.go:92
[2.120ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/26 16:26:28 E:/summerByteDance/DouYin_demo/app/services/favorite.go:40
[8.471ms] [rows:1] INSERT INTO `favorites` (`user_id`,`video_id`,`created_at`,`updated_at`) VALUES (1,12,'2022-05-26 16:26:28.481','2022-05-26 16:26:28.481')

2022/05/26 16:26:28 E:/summerByteDance/DouYin_demo/app/services/favorite.go:44
[2.116ms] [rows:1] UPDATE `videos` SET `favorite_count`=favorite_count + 1,`updated_at`='2022-05-26 16:26:28.49' WHERE id = 12 AND `videos`.`deleted_at` IS NULL

2022/05/26 16:26:29 E:/summerByteDance/DouYin_demo/app/services/favorite.go:53
[3.143ms] [rows:1] DELETE FROM `favorites` WHERE user_id = 1 AND video_id = 12

2022/05/26 16:26:29 E:/summerByteDance/DouYin_demo/app/services/favorite.go:57
[4.023ms] [rows:1] UPDATE `videos` SET `favorite_count`=favorite_count - 1,`updated_at`='2022-05-26 16:26:29.133' WHERE id = 12 AND `videos`.`deleted_at` IS NULL

2022/05/26 16:26:29 E:/summerByteDance/DouYin_demo/app/services/user.go:48
[0.520ms] [rows:1] SELECT * FROM `users` WHERE `users`.`id` = 1 AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 16:26:29 E:/summerByteDance/DouYin_demo/app/services/publish.go:92
[0.519ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 3
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 3
ORDER BY v.created_at

2022/05/26 16:26:31 E:/summerByteDance/DouYin_demo/app/services/favorite.go:40
[9.221ms] [rows:1] INSERT INTO `favorites` (`user_id`,`video_id`,`created_at`,`updated_at`) VALUES (1,2,'2022-05-26 16:26:31.612','2022-05-26 16:26:31.612')

2022/05/26 16:26:31 E:/summerByteDance/DouYin_demo/app/services/favorite.go:44
[1.045ms] [rows:1] UPDATE `videos` SET `favorite_count`=favorite_count + 1,`updated_at`='2022-05-26 16:26:31.622' WHERE id = 2 AND `videos`.`deleted_at` IS NULL

2022/05/26 16:26:32 E:/summerByteDance/DouYin_demo/app/services/favorite.go:53
[9.168ms] [rows:1] DELETE FROM `favorites` WHERE user_id = 1 AND video_id = 2

2022/05/26 16:26:32 E:/summerByteDance/DouYin_demo/app/services/favorite.go:57
[1.654ms] [rows:1] UPDATE `videos` SET `favorite_count`=favorite_count - 1,`updated_at`='2022-05-26 16:26:32.055' WHERE id = 2 AND `videos`.`deleted_at` IS NULL

2022/05/26 16:26:32 E:/summerByteDance/DouYin_demo/app/services/publish.go:92
[0.520ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/26 16:26:33 E:/summerByteDance/DouYin_demo/app/services/publish.go:92
[1.704ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/26 16:26:35 E:/summerByteDance/DouYin_demo/app/services/favorite.go:40
[1.655ms] [rows:1] INSERT INTO `favorites` (`user_id`,`video_id`,`created_at`,`updated_at`) VALUES (1,1,'2022-05-26 16:26:35.89','2022-05-26 16:26:35.89')

2022/05/26 16:26:35 E:/summerByteDance/DouYin_demo/app/services/favorite.go:44
[2.529ms] [rows:1] UPDATE `videos` SET `favorite_count`=favorite_count + 1,`updated_at`='2022-05-26 16:26:35.893' WHERE id = 1 AND `videos`.`deleted_at` IS NULL

2022/05/26 16:26:36 E:/summerByteDance/DouYin_demo/app/services/favorite.go:53
[10.097ms] [rows:2] DELETE FROM `favorites` WHERE user_id = 1 AND video_id = 1

2022/05/26 16:26:36 E:/summerByteDance/DouYin_demo/app/services/favorite.go:57
[3.011ms] [rows:1] UPDATE `videos` SET `favorite_count`=favorite_count - 1,`updated_at`='2022-05-26 16:26:36.221' WHERE id = 1 AND `videos`.`deleted_at` IS NULL

2022/05/26 16:37:50 E:/summerByteDance/DouYin_demo/app/services/favorite.go:40
[10.558ms] [rows:1] INSERT INTO `favorites` (`user_id`,`video_id`,`created_at`,`updated_at`) VALUES (1,1,'2022-05-26 16:37:50.243','2022-05-26 16:37:50.243')

2022/05/26 16:37:50 E:/summerByteDance/DouYin_demo/app/services/favorite.go:44
[2.201ms] [rows:1] UPDATE `videos` SET `favorite_count`=favorite_count + 1,`updated_at`='2022-05-26 16:37:50.254' WHERE id = 1 AND `videos`.`deleted_at` IS NULL

2022/05/26 16:37:54 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.000ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-26 16:37:52.567'
LIMIT 30;

2022/05/26 16:37:54 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 5

2022/05/26 16:38:25 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[1.629ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-26 16:38:23.747'
LIMIT 30;

2022/05/26 16:38:25 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 5

2022/05/26 16:38:35 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[1.950ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 16:38:35 E:/summerByteDance/DouYin_demo/app/services/user.go:48
[0.928ms] [rows:1] SELECT * FROM `users` WHERE `users`.`id` = 1 AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 16:38:35 E:/summerByteDance/DouYin_demo/app/services/publish.go:92
[9.114ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/26 16:38:41 E:/summerByteDance/DouYin_demo/app/services/favorite.go:40
[1.201ms] [rows:1] INSERT INTO `favorites` (`user_id`,`video_id`,`created_at`,`updated_at`) VALUES (1,1,'2022-05-26 16:38:41.082','2022-05-26 16:38:41.082')

2022/05/26 16:38:41 E:/summerByteDance/DouYin_demo/app/services/favorite.go:44
[2.984ms] [rows:1] UPDATE `videos` SET `favorite_count`=favorite_count + 1,`updated_at`='2022-05-26 16:38:41.084' WHERE id = 1 AND `videos`.`deleted_at` IS NULL

2022/05/26 16:38:42 E:/summerByteDance/DouYin_demo/app/services/favorite.go:53
[1.266ms] [rows:2] DELETE FROM `favorites` WHERE user_id = 1 AND video_id = 1

2022/05/26 16:38:42 E:/summerByteDance/DouYin_demo/app/services/favorite.go:57
[3.162ms] [rows:1] UPDATE `videos` SET `favorite_count`=favorite_count - 1,`updated_at`='2022-05-26 16:38:42.528' WHERE id = 1 AND `videos`.`deleted_at` IS NULL

2022/05/26 16:38:46 E:/summerByteDance/DouYin_demo/app/services/favorite.go:40
[9.063ms] [rows:1] INSERT INTO `favorites` (`user_id`,`video_id`,`created_at`,`updated_at`) VALUES (1,1,'2022-05-26 16:38:46.107','2022-05-26 16:38:46.107')

2022/05/26 16:38:46 E:/summerByteDance/DouYin_demo/app/services/favorite.go:44
[1.374ms] [rows:1] UPDATE `videos` SET `favorite_count`=favorite_count + 1,`updated_at`='2022-05-26 16:38:46.117' WHERE id = 1 AND `videos`.`deleted_at` IS NULL

2022/05/26 16:39:09 E:/summerByteDance/DouYin_demo/app/services/user.go:48
[0.647ms] [rows:1] SELECT * FROM `users` WHERE `users`.`id` = 1 AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 16:39:09 E:/summerByteDance/DouYin_demo/app/services/publish.go:92
[1.077ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/26 16:39:11 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[1.468ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-26 16:39:10.42'
LIMIT 30;

2022/05/26 16:39:11 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 5

2022/05/26 16:39:32 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[1.558ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 16:39:32 E:/summerByteDance/DouYin_demo/app/services/user.go:48
[0.560ms] [rows:1] SELECT * FROM `users` WHERE `users`.`id` = 1 AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 16:39:32 E:/summerByteDance/DouYin_demo/app/services/publish.go:92
[1.123ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/26 16:39:38 E:/summerByteDance/DouYin_demo/app/services/favorite.go:40
[2.517ms] [rows:1] INSERT INTO `favorites` (`user_id`,`video_id`,`created_at`,`updated_at`) VALUES (1,1,'2022-05-26 16:39:38.579','2022-05-26 16:39:38.579')

2022/05/26 16:39:38 E:/summerByteDance/DouYin_demo/app/services/favorite.go:44
[3.127ms] [rows:1] UPDATE `videos` SET `favorite_count`=favorite_count + 1,`updated_at`='2022-05-26 16:39:38.582' WHERE id = 1 AND `videos`.`deleted_at` IS NULL

2022/05/26 18:33:41 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.607ms] [rows:-] SELECT DATABASE()

2022/05/26 18:33:41 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.185ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 18:33:41 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.546ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/26 18:33:41 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 18:33:41 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.889ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 18:33:41 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/26 18:33:41 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[14.984ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/26 18:33:41 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[11.764ms] [rows:0] ALTER TABLE `users` MODIFY COLUMN `is_follow` boolean NOT NULL DEFAULT false COMMENT '是否关注'

2022/05/26 18:33:41 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 18:33:41 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.505ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 18:33:41 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.547ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/26 18:33:41 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.504ms] [rows:-] SELECT DATABASE()

2022/05/26 18:33:41 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.504ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 18:33:41 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.212ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND table_type = 'BASE TABLE'

2022/05/26 18:33:41 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.522ms] [rows:-] SELECT DATABASE()

2022/05/26 18:33:41 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.503ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 18:33:41 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `videos` LIMIT 1

2022/05/26 18:33:41 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[5.042ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'videos' ORDER BY ORDINAL_POSITION

2022/05/26 18:33:41 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[9.390ms] [rows:0] ALTER TABLE `videos` MODIFY COLUMN `is_favorite` boolean NOT NULL DEFAULT false COMMENT '是否点赞'

2022/05/26 18:33:41 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 18:33:41 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.504ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 18:33:41 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_disk_type'

2022/05/26 18:33:41 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 18:33:41 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.425ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 18:33:41 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_deleted_at'

2022/05/26 18:33:41 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 18:33:41 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.020ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 18:33:41 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[1.328ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND table_type = 'BASE TABLE'

2022/05/26 18:33:41 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.080ms] [rows:-] SELECT DATABASE()

2022/05/26 18:33:41 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.504ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 18:33:41 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.504ms] [rows:-] SELECT * FROM `comments` LIMIT 1

2022/05/26 18:33:41 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[9.377ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'comments' ORDER BY ORDINAL_POSITION

2022/05/26 18:33:41 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 18:33:41 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.504ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 18:33:41 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND index_name = 'idx_comments_deleted_at'

2022/05/26 18:33:41 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.544ms] [rows:-] SELECT DATABASE()

2022/05/26 18:33:41 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.230ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 18:33:41 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[1.118ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND table_type = 'BASE TABLE'

2022/05/26 18:33:41 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[43.421ms] [rows:0] CREATE TABLE `favorites` (`id` bigint unsigned AUTO_INCREMENT,`user_id` bigint unsigned,`video_id` bigint unsigned,`created_at` datetime NULL,`updated_at` datetime NULL,`deleted_at` datetime NULL,PRIMARY KEY (`id`),INDEX idx_favorites_deleted_at (`deleted_at`))

2022/05/26 18:33:41 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.503ms] [rows:-] SELECT DATABASE()

2022/05/26 18:33:41 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.640ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 18:33:41 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.503ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND table_type = 'BASE TABLE'

2022/05/26 18:33:41 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 18:33:41 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.804ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 18:33:41 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `relations` LIMIT 1

2022/05/26 18:33:41 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[9.531ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'relations' ORDER BY ORDINAL_POSITION

2022/05/26 18:33:41 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 18:33:41 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.937ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 18:33:41 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND index_name = 'idx_relations_deleted_at'

2022/05/26 18:34:25 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[2.842ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-26 18:34:23.197'
LIMIT 30;

2022/05/26 18:34:25 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.600ms] [rows:1] SELECT created_at FROM videos WHERE id = 5

2022/05/26 18:34:25 E:/summerByteDance/DouYin_demo/app/services/user.go:48
[0.512ms] [rows:1] SELECT * FROM `users` WHERE `users`.`id` = 1 AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 18:34:25 E:/summerByteDance/DouYin_demo/app/services/publish.go:92
[2.571ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/26 18:34:27 E:/summerByteDance/DouYin_demo/app/services/publish.go:92
[1.029ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/26 18:35:16 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[1.002ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 21:24:52'
LIMIT 30;

2022/05/26 18:35:16 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 2

2022/05/26 18:35:18 E:/summerByteDance/DouYin_demo/app/services/favorite.go:40
[3.214ms] [rows:1] INSERT INTO `favorites` (`user_id`,`video_id`,`created_at`,`updated_at`,`deleted_at`) VALUES (0,12,'2022-05-26 18:35:18.573','2022-05-26 18:35:18.573',NULL)

2022/05/26 18:35:18 E:/summerByteDance/DouYin_demo/app/services/favorite.go:44
[2.583ms] [rows:1] UPDATE `videos` SET `favorite_count`=favorite_count + 1,`updated_at`='2022-05-26 18:35:18.577' WHERE id = 12 AND `videos`.`deleted_at` IS NULL

2022/05/26 18:35:40 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[1.439ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-26 18:35:38.397'
LIMIT 30;

2022/05/26 18:35:40 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 5

2022/05/26 18:35:52 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[1.559ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 18:35:52 E:/summerByteDance/DouYin_demo/app/services/user.go:48
[0.524ms] [rows:1] SELECT * FROM `users` WHERE `users`.`id` = 1 AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 18:35:52 E:/summerByteDance/DouYin_demo/app/services/publish.go:92
[1.032ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/26 18:35:57 E:/summerByteDance/DouYin_demo/app/services/favorite.go:40
[0.998ms] [rows:1] INSERT INTO `favorites` (`user_id`,`video_id`,`created_at`,`updated_at`,`deleted_at`) VALUES (1,1,'2022-05-26 18:35:57.279','2022-05-26 18:35:57.279',NULL)

2022/05/26 18:35:57 E:/summerByteDance/DouYin_demo/app/services/favorite.go:44
[4.405ms] [rows:1] UPDATE `videos` SET `favorite_count`=favorite_count + 1,`updated_at`='2022-05-26 18:35:57.281' WHERE id = 1 AND `videos`.`deleted_at` IS NULL

2022/05/26 18:36:04 E:/summerByteDance/DouYin_demo/app/services/favorite.go:53
[2.071ms] [rows:1] UPDATE `favorites` SET `deleted_at`='2022-05-26 18:36:04.831' WHERE (user_id = 1 AND video_id = 1) AND `favorites`.`deleted_at` IS NULL

2022/05/26 18:36:04 E:/summerByteDance/DouYin_demo/app/services/favorite.go:57
[1.028ms] [rows:1] UPDATE `videos` SET `favorite_count`=favorite_count - 1,`updated_at`='2022-05-26 18:36:04.834' WHERE id = 1 AND `videos`.`deleted_at` IS NULL

2022/05/26 18:36:13 E:/summerByteDance/DouYin_demo/app/services/favorite.go:40
[1.065ms] [rows:1] INSERT INTO `favorites` (`user_id`,`video_id`,`created_at`,`updated_at`,`deleted_at`) VALUES (1,1,'2022-05-26 18:36:13.148','2022-05-26 18:36:13.148',NULL)

2022/05/26 18:36:13 E:/summerByteDance/DouYin_demo/app/services/favorite.go:44
[2.826ms] [rows:1] UPDATE `videos` SET `favorite_count`=favorite_count + 1,`updated_at`='2022-05-26 18:36:13.15' WHERE id = 1 AND `videos`.`deleted_at` IS NULL

2022/05/26 18:36:20 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.545ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-26 18:36:19.155'
LIMIT 30;

2022/05/26 18:36:20 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 5

2022/05/26 18:36:21 E:/summerByteDance/DouYin_demo/app/services/user.go:48
[1.210ms] [rows:1] SELECT * FROM `users` WHERE `users`.`id` = 1 AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 18:36:21 E:/summerByteDance/DouYin_demo/app/services/publish.go:92
[1.091ms] [rows:3] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/26 18:36:24 E:/summerByteDance/DouYin_demo/app/services/favorite.go:40
[3.019ms] [rows:1] INSERT INTO `favorites` (`user_id`,`video_id`,`created_at`,`updated_at`,`deleted_at`) VALUES (1,1,'2022-05-26 18:36:24.964','2022-05-26 18:36:24.964',NULL)

2022/05/26 18:36:24 E:/summerByteDance/DouYin_demo/app/services/favorite.go:44
[2.308ms] [rows:1] UPDATE `videos` SET `favorite_count`=favorite_count + 1,`updated_at`='2022-05-26 18:36:24.968' WHERE id = 1 AND `videos`.`deleted_at` IS NULL

2022/05/26 18:36:29 E:/summerByteDance/DouYin_demo/app/services/favorite.go:53
[3.381ms] [rows:2] UPDATE `favorites` SET `deleted_at`='2022-05-26 18:36:29.631' WHERE (user_id = 1 AND video_id = 1) AND `favorites`.`deleted_at` IS NULL

2022/05/26 18:36:29 E:/summerByteDance/DouYin_demo/app/services/favorite.go:57
[2.573ms] [rows:1] UPDATE `videos` SET `favorite_count`=favorite_count - 1,`updated_at`='2022-05-26 18:36:29.635' WHERE id = 1 AND `videos`.`deleted_at` IS NULL

2022/05/26 18:36:42 E:/summerByteDance/DouYin_demo/app/services/favorite.go:40
[3.454ms] [rows:1] INSERT INTO `favorites` (`user_id`,`video_id`,`created_at`,`updated_at`,`deleted_at`) VALUES (1,1,'2022-05-26 18:36:42.681','2022-05-26 18:36:42.681',NULL)

2022/05/26 18:36:42 E:/summerByteDance/DouYin_demo/app/services/favorite.go:44
[2.608ms] [rows:1] UPDATE `videos` SET `favorite_count`=favorite_count + 1,`updated_at`='2022-05-26 18:36:42.685' WHERE id = 1 AND `videos`.`deleted_at` IS NULL

2022/05/26 18:36:48 E:/summerByteDance/DouYin_demo/app/services/favorite.go:53
[3.433ms] [rows:1] UPDATE `favorites` SET `deleted_at`='2022-05-26 18:36:48.214' WHERE (user_id = 1 AND video_id = 1) AND `favorites`.`deleted_at` IS NULL

2022/05/26 18:36:48 E:/summerByteDance/DouYin_demo/app/services/favorite.go:57
[1.925ms] [rows:1] UPDATE `videos` SET `favorite_count`=favorite_count - 1,`updated_at`='2022-05-26 18:36:48.218' WHERE id = 1 AND `videos`.`deleted_at` IS NULL

2022/05/26 18:36:51 E:/summerByteDance/DouYin_demo/app/services/favorite.go:40
[3.631ms] [rows:1] INSERT INTO `favorites` (`user_id`,`video_id`,`created_at`,`updated_at`,`deleted_at`) VALUES (1,1,'2022-05-26 18:36:51.103','2022-05-26 18:36:51.103',NULL)

2022/05/26 18:36:51 E:/summerByteDance/DouYin_demo/app/services/favorite.go:44
[1.963ms] [rows:1] UPDATE `videos` SET `favorite_count`=favorite_count + 1,`updated_at`='2022-05-26 18:36:51.106' WHERE id = 1 AND `videos`.`deleted_at` IS NULL

2022/05/26 18:36:51 E:/summerByteDance/DouYin_demo/app/services/favorite.go:53
[10.079ms] [rows:1] UPDATE `favorites` SET `deleted_at`='2022-05-26 18:36:51.551' WHERE (user_id = 1 AND video_id = 1) AND `favorites`.`deleted_at` IS NULL

2022/05/26 18:36:51 E:/summerByteDance/DouYin_demo/app/services/favorite.go:57
[1.745ms] [rows:1] UPDATE `videos` SET `favorite_count`=favorite_count - 1,`updated_at`='2022-05-26 18:36:51.562' WHERE id = 1 AND `videos`.`deleted_at` IS NULL

2022/05/26 18:36:52 E:/summerByteDance/DouYin_demo/app/services/favorite.go:40
[9.751ms] [rows:1] INSERT INTO `favorites` (`user_id`,`video_id`,`created_at`,`updated_at`,`deleted_at`) VALUES (1,1,'2022-05-26 18:36:52.003','2022-05-26 18:36:52.003',NULL)

2022/05/26 18:36:52 E:/summerByteDance/DouYin_demo/app/services/favorite.go:44
[2.425ms] [rows:1] UPDATE `videos` SET `favorite_count`=favorite_count + 1,`updated_at`='2022-05-26 18:36:52.013' WHERE id = 1 AND `videos`.`deleted_at` IS NULL

2022/05/26 18:36:52 E:/summerByteDance/DouYin_demo/app/services/favorite.go:53
[8.880ms] [rows:1] UPDATE `favorites` SET `deleted_at`='2022-05-26 18:36:52.235' WHERE (user_id = 1 AND video_id = 1) AND `favorites`.`deleted_at` IS NULL

2022/05/26 18:36:52 E:/summerByteDance/DouYin_demo/app/services/favorite.go:57
[1.290ms] [rows:1] UPDATE `videos` SET `favorite_count`=favorite_count - 1,`updated_at`='2022-05-26 18:36:52.245' WHERE id = 1 AND `videos`.`deleted_at` IS NULL

2022/05/26 18:36:52 E:/summerByteDance/DouYin_demo/app/services/favorite.go:40
[2.124ms] [rows:1] INSERT INTO `favorites` (`user_id`,`video_id`,`created_at`,`updated_at`,`deleted_at`) VALUES (1,1,'2022-05-26 18:36:52.414','2022-05-26 18:36:52.414',NULL)

2022/05/26 18:36:52 E:/summerByteDance/DouYin_demo/app/services/favorite.go:44
[2.051ms] [rows:1] UPDATE `videos` SET `favorite_count`=favorite_count + 1,`updated_at`='2022-05-26 18:36:52.417' WHERE id = 1 AND `videos`.`deleted_at` IS NULL

2022/05/26 18:36:52 E:/summerByteDance/DouYin_demo/app/services/favorite.go:53
[2.119ms] [rows:1] UPDATE `favorites` SET `deleted_at`='2022-05-26 18:36:52.599' WHERE (user_id = 1 AND video_id = 1) AND `favorites`.`deleted_at` IS NULL

2022/05/26 18:36:52 E:/summerByteDance/DouYin_demo/app/services/favorite.go:57
[2.374ms] [rows:1] UPDATE `videos` SET `favorite_count`=favorite_count - 1,`updated_at`='2022-05-26 18:36:52.601' WHERE id = 1 AND `videos`.`deleted_at` IS NULL

2022/05/26 18:36:52 E:/summerByteDance/DouYin_demo/app/services/favorite.go:40
[1.631ms] [rows:1] INSERT INTO `favorites` (`user_id`,`video_id`,`created_at`,`updated_at`,`deleted_at`) VALUES (1,1,'2022-05-26 18:36:52.782','2022-05-26 18:36:52.782',NULL)

2022/05/26 18:36:52 E:/summerByteDance/DouYin_demo/app/services/favorite.go:44
[2.337ms] [rows:1] UPDATE `videos` SET `favorite_count`=favorite_count + 1,`updated_at`='2022-05-26 18:36:52.785' WHERE id = 1 AND `videos`.`deleted_at` IS NULL

2022/05/26 18:36:52 E:/summerByteDance/DouYin_demo/app/services/favorite.go:53
[1.314ms] [rows:1] UPDATE `favorites` SET `deleted_at`='2022-05-26 18:36:52.993' WHERE (user_id = 1 AND video_id = 1) AND `favorites`.`deleted_at` IS NULL

2022/05/26 18:36:52 E:/summerByteDance/DouYin_demo/app/services/favorite.go:57
[2.439ms] [rows:1] UPDATE `videos` SET `favorite_count`=favorite_count - 1,`updated_at`='2022-05-26 18:36:52.995' WHERE id = 1 AND `videos`.`deleted_at` IS NULL

2022/05/26 19:06:12 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 19:06:12 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.511ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 19:06:12 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/26 19:06:12 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.535ms] [rows:-] SELECT DATABASE()

2022/05/26 19:06:12 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.552ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 19:06:12 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/26 19:06:12 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[10.118ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/26 19:06:12 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[10.527ms] [rows:0] ALTER TABLE `users` MODIFY COLUMN `is_follow` boolean NOT NULL DEFAULT false COMMENT '是否关注'

2022/05/26 19:06:12 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.342ms] [rows:-] SELECT DATABASE()

2022/05/26 19:06:12 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.009ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 19:06:12 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.289ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/26 19:06:12 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 19:06:12 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.504ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 19:06:12 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.595ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND table_type = 'BASE TABLE'

2022/05/26 19:06:12 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 19:06:12 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.503ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 19:06:12 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.505ms] [rows:-] SELECT * FROM `videos` LIMIT 1

2022/05/26 19:06:12 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[6.510ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'videos' ORDER BY ORDINAL_POSITION

2022/05/26 19:06:12 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[8.303ms] [rows:0] ALTER TABLE `videos` MODIFY COLUMN `is_favorite` boolean NOT NULL DEFAULT false COMMENT '是否点赞'

2022/05/26 19:06:12 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 19:06:12 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.505ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 19:06:12 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.669ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_disk_type'

2022/05/26 19:06:12 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.251ms] [rows:-] SELECT DATABASE()

2022/05/26 19:06:12 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.350ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 19:06:12 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.614ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_deleted_at'

2022/05/26 19:06:12 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.222ms] [rows:-] SELECT DATABASE()

2022/05/26 19:06:12 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.503ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 19:06:12 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.724ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND table_type = 'BASE TABLE'

2022/05/26 19:06:12 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.095ms] [rows:-] SELECT DATABASE()

2022/05/26 19:06:12 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.307ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 19:06:12 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.516ms] [rows:-] SELECT * FROM `comments` LIMIT 1

2022/05/26 19:06:12 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[5.729ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'comments' ORDER BY ORDINAL_POSITION

2022/05/26 19:06:12 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 19:06:12 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.035ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 19:06:12 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND index_name = 'idx_comments_deleted_at'

2022/05/26 19:06:12 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.503ms] [rows:-] SELECT DATABASE()

2022/05/26 19:06:12 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.281ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 19:06:12 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.606ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND table_type = 'BASE TABLE'

2022/05/26 19:06:12 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[33.343ms] [rows:0] CREATE TABLE `favorites` (`id` bigint unsigned AUTO_INCREMENT,`user_id` bigint unsigned,`video_id` bigint unsigned,`created_at` datetime NULL,`updated_at` datetime NULL,`deleted_at` datetime NULL,PRIMARY KEY (`id`),INDEX idx_favorites_deleted_at (`deleted_at`))

2022/05/26 19:06:12 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 19:06:12 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.157ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 19:06:12 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND table_type = 'BASE TABLE'

2022/05/26 19:06:12 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 19:06:12 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.545ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 19:06:12 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.504ms] [rows:-] SELECT * FROM `relations` LIMIT 1

2022/05/26 19:06:12 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[7.302ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'relations' ORDER BY ORDINAL_POSITION

2022/05/26 19:06:12 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 19:06:12 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.505ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 19:06:12 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.022ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND index_name = 'idx_relations_deleted_at'

2022/05/26 19:06:41 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[2.967ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-26 19:06:39.438'
LIMIT 30;

2022/05/26 19:06:41 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.873ms] [rows:1] SELECT created_at FROM videos WHERE id = 5

2022/05/26 19:06:41 E:/summerByteDance/DouYin_demo/app/services/favorite.go:78
[5.823ms] [rows:0] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/26 19:06:42 E:/summerByteDance/DouYin_demo/app/services/favorite.go:78
[0.583ms] [rows:0] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/26 19:06:44 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.000ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-26 19:06:42.662'
LIMIT 30;

2022/05/26 19:06:44 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 5

2022/05/26 19:06:44 E:/summerByteDance/DouYin_demo/app/services/favorite.go:78
[1.144ms] [rows:0] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/26 19:06:44 E:/summerByteDance/DouYin_demo/app/services/favorite.go:78
[1.296ms] [rows:0] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/26 19:06:54 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[1.070ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 19:06:54 E:/summerByteDance/DouYin_demo/app/services/user.go:48
[0.000ms] [rows:1] SELECT * FROM `users` WHERE `users`.`id` = 1 AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 19:06:54 E:/summerByteDance/DouYin_demo/app/services/publish.go:92
[0.510ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/26 19:06:54 E:/summerByteDance/DouYin_demo/app/services/favorite.go:78
[20.882ms] [rows:0] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/26 19:07:01 E:/summerByteDance/DouYin_demo/app/services/favorite.go:73 record not found
[0.511ms] [rows:0] SELECT * FROM `favorites` WHERE (user_id = 1 and video_id = 1) AND `favorites`.`deleted_at` IS NULL ORDER BY `favorites`.`id` LIMIT 1

2022/05/26 19:07:01 E:/summerByteDance/DouYin_demo/app/services/favorite.go:46
[3.158ms] [rows:1] INSERT INTO `favorites` (`user_id`,`video_id`,`created_at`,`updated_at`,`deleted_at`) VALUES (1,1,'2022-05-26 19:07:01.761','2022-05-26 19:07:01.761',NULL)

2022/05/26 19:07:01 E:/summerByteDance/DouYin_demo/app/services/favorite.go:50
[4.249ms] [rows:1] UPDATE `videos` SET `favorite_count`=favorite_count + 1,`updated_at`='2022-05-26 19:07:01.764' WHERE id = 1 AND `videos`.`deleted_at` IS NULL

2022/05/26 19:07:16 E:/summerByteDance/DouYin_demo/app/services/favorite.go:78
[0.608ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/26 19:07:16 E:/summerByteDance/DouYin_demo/app/services/user.go:48
[0.520ms] [rows:1] SELECT * FROM `users` WHERE `users`.`id` = 1 AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 19:07:16 E:/summerByteDance/DouYin_demo/app/services/publish.go:92
[0.155ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/26 19:07:18 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.367ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-26 19:07:16.467'
LIMIT 30;

2022/05/26 19:07:18 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.522ms] [rows:1] SELECT created_at FROM videos WHERE id = 5

2022/05/26 19:07:18 E:/summerByteDance/DouYin_demo/app/services/favorite.go:78
[0.652ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/26 19:07:18 E:/summerByteDance/DouYin_demo/app/services/favorite.go:78
[0.898ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/26 19:07:27 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[0.688ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 19:07:27 E:/summerByteDance/DouYin_demo/app/services/user.go:48
[0.998ms] [rows:1] SELECT * FROM `users` WHERE `users`.`id` = 1 AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 19:07:27 E:/summerByteDance/DouYin_demo/app/services/publish.go:92
[0.521ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/26 19:07:27 E:/summerByteDance/DouYin_demo/app/services/favorite.go:78
[0.560ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/26 19:07:33 E:/summerByteDance/DouYin_demo/app/services/favorite.go:73
[0.526ms] [rows:1] SELECT * FROM `favorites` WHERE (user_id = 1 and video_id = 1) AND `favorites`.`deleted_at` IS NULL ORDER BY `favorites`.`id` LIMIT 1

2022/05/26 19:07:39 E:/summerByteDance/DouYin_demo/app/services/user.go:48
[0.714ms] [rows:1] SELECT * FROM `users` WHERE `users`.`id` = 1 AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 19:07:39 E:/summerByteDance/DouYin_demo/app/services/publish.go:92
[1.166ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/26 19:07:39 E:/summerByteDance/DouYin_demo/app/services/favorite.go:78
[2.003ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/26 20:17:22 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 20:17:22 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[2.055ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 20:17:22 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[1.442ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/26 20:17:22 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 20:17:22 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.680ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 20:17:22 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.931ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/26 20:17:22 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[15.537ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/26 20:17:22 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[12.475ms] [rows:0] ALTER TABLE `users` MODIFY COLUMN `is_follow` boolean NOT NULL DEFAULT false COMMENT '是否关注'

2022/05/26 20:17:22 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 20:17:22 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.518ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 20:17:22 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.514ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/26 20:17:22 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 20:17:22 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.655ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 20:17:22 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.504ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND table_type = 'BASE TABLE'

2022/05/26 20:17:22 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 20:17:22 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.758ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 20:17:22 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `videos` LIMIT 1

2022/05/26 20:17:22 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[10.261ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'videos' ORDER BY ORDINAL_POSITION

2022/05/26 20:17:22 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[8.529ms] [rows:0] ALTER TABLE `videos` MODIFY COLUMN `is_favorite` boolean NOT NULL DEFAULT false COMMENT '是否点赞'

2022/05/26 20:17:22 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.634ms] [rows:-] SELECT DATABASE()

2022/05/26 20:17:22 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.418ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 20:17:22 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.638ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_deleted_at'

2022/05/26 20:17:22 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 20:17:22 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[3.594ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 20:17:22 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_disk_type'

2022/05/26 20:17:22 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 20:17:22 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.503ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 20:17:22 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.504ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND table_type = 'BASE TABLE'

2022/05/26 20:17:22 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 20:17:22 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.504ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 20:17:22 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[1.244ms] [rows:-] SELECT * FROM `comments` LIMIT 1

2022/05/26 20:17:22 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[8.588ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'comments' ORDER BY ORDINAL_POSITION

2022/05/26 20:17:22 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 20:17:22 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.583ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 20:17:22 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.517ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND index_name = 'idx_comments_deleted_at'

2022/05/26 20:17:22 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 20:17:22 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.701ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 20:17:22 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND table_type = 'BASE TABLE'

2022/05/26 20:17:22 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 20:17:22 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.217ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 20:17:22 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.504ms] [rows:-] SELECT * FROM `favorites` LIMIT 1

2022/05/26 20:17:22 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[8.541ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' ORDER BY ORDINAL_POSITION

2022/05/26 20:17:22 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.092ms] [rows:-] SELECT DATABASE()

2022/05/26 20:17:22 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.351ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 20:17:22 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[1.213ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND index_name = 'idx_favorites_deleted_at'

2022/05/26 20:17:22 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 20:17:22 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.755ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 20:17:22 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.101ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND table_type = 'BASE TABLE'

2022/05/26 20:17:22 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 20:17:22 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.515ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 20:17:22 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.671ms] [rows:-] SELECT * FROM `relations` LIMIT 1

2022/05/26 20:17:22 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[8.330ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'relations' ORDER BY ORDINAL_POSITION

2022/05/26 20:17:22 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 20:17:22 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.608ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 20:17:22 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.513ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND index_name = 'idx_relations_deleted_at'

2022/05/26 20:17:55 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[3.407ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-26 20:17:53.911'
LIMIT 30;

2022/05/26 20:17:55 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[2.168ms] [rows:1] SELECT created_at FROM videos WHERE id = 5

2022/05/26 20:17:56 E:/summerByteDance/DouYin_demo/app/services/favorite.go:78
[2.239ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/26 20:17:58 E:/summerByteDance/DouYin_demo/app/services/favorite.go:78
[2.991ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/26 20:18:02 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.691ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-26 20:18:00.805'
LIMIT 30;

2022/05/26 20:18:02 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 5

2022/05/26 20:18:02 E:/summerByteDance/DouYin_demo/app/services/favorite.go:78
[1.225ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/26 20:18:02 E:/summerByteDance/DouYin_demo/app/services/favorite.go:78
[1.995ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/26 20:18:14 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[2.532ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 20:18:14 E:/summerByteDance/DouYin_demo/app/services/user.go:48
[0.513ms] [rows:1] SELECT * FROM `users` WHERE `users`.`id` = 1 AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 20:18:14 E:/summerByteDance/DouYin_demo/app/services/favorite.go:78
[1.414ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/26 20:18:14 E:/summerByteDance/DouYin_demo/app/services/publish.go:92
[20.266ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/26 20:18:23 E:/summerByteDance/DouYin_demo/app/services/favorite.go:78
[2.229ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/26 20:18:23 E:/summerByteDance/DouYin_demo/app/services/user.go:48
[1.195ms] [rows:1] SELECT * FROM `users` WHERE `users`.`id` = 1 AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 20:18:23 E:/summerByteDance/DouYin_demo/app/services/publish.go:92
[1.864ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/26 20:18:23 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.764ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 21:24:52'
LIMIT 30;

2022/05/26 20:18:23 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.382ms] [rows:1] SELECT created_at FROM videos WHERE id = 2

2022/05/26 20:18:25 E:/summerByteDance/DouYin_demo/app/services/user.go:24 record not found
[0.522ms] [rows:0] SELECT `id` FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 20:18:25 E:/summerByteDance/DouYin_demo/app/services/user.go:31
[3.622ms] [rows:1] INSERT INTO `users` (`name`,`password`,`token`,`follow_count`,`follower_count`,`is_follow`,`created_at`,`updated_at`,`deleted_at`) VALUES ('','$2a$04$BDDy3sivN7zpZZr3j0il1eZGEnCkeQbvW3nX51tA5zc1yGPZ2X6d2','',0,0,false,'2022-05-26 20:18:25.982','2022-05-26 20:18:25.982',NULL)

2022/05/26 20:18:31 E:/summerByteDance/DouYin_demo/app/services/favorite.go:78
[0.570ms] [rows:0] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 3
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 3
    )
ORDER BY v.created_at;

2022/05/26 20:18:31 E:/summerByteDance/DouYin_demo/app/services/publish.go:92
[0.513ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 3
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 3
ORDER BY v.created_at

2022/05/26 20:18:33 E:/summerByteDance/DouYin_demo/app/services/user.go:24
[0.471ms] [rows:1] SELECT `id` FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 20:18:38 E:/summerByteDance/DouYin_demo/app/services/user.go:24
[0.857ms] [rows:1] SELECT `id` FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 20:18:42 E:/summerByteDance/DouYin_demo/app/services/favorite.go:78
[1.443ms] [rows:0] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 3
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 3
    )
ORDER BY v.created_at;

2022/05/26 20:18:42 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.000ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 21:20:59'
LIMIT 30;

2022/05/26 20:18:42 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[1.217ms] [rows:1] SELECT created_at FROM videos WHERE id = 1

2022/05/26 20:18:43 E:/summerByteDance/DouYin_demo/app/services/user.go:24
[0.701ms] [rows:1] SELECT `id` FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 20:18:45 E:/summerByteDance/DouYin_demo/app/services/favorite.go:78
[1.581ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/26 20:18:45 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.000ms] [rows:0] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-24 02:23:38'
LIMIT 30;

2022/05/26 20:18:46 E:/summerByteDance/DouYin_demo/app/services/user.go:24
[0.788ms] [rows:1] SELECT `id` FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 20:20:48 E:/summerByteDance/DouYin_demo/app/services/user.go:24
[3.964ms] [rows:1] SELECT `id` FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 20:21:49 E:/summerByteDance/DouYin_demo/app/services/favorite.go:78
[0.511ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/26 20:22:30 E:/summerByteDance/DouYin_demo/app/services/user.go:24
[0.000ms] [rows:1] SELECT `id` FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 20:25:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 20:25:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.237ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 20:25:17 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/26 20:25:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 20:25:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.839ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 20:25:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/26 20:25:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[14.048ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/26 20:25:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[8.484ms] [rows:0] ALTER TABLE `users` MODIFY COLUMN `is_follow` boolean NOT NULL DEFAULT false COMMENT '是否关注'

2022/05/26 20:25:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 20:25:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.957ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 20:25:17 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/26 20:25:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 20:25:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.090ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 20:25:17 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.515ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND table_type = 'BASE TABLE'

2022/05/26 20:25:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 20:25:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.094ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 20:25:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `videos` LIMIT 1

2022/05/26 20:25:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[9.000ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'videos' ORDER BY ORDINAL_POSITION

2022/05/26 20:25:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[10.480ms] [rows:0] ALTER TABLE `videos` MODIFY COLUMN `is_favorite` boolean NOT NULL DEFAULT false COMMENT '是否点赞'

2022/05/26 20:25:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 20:25:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.010ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 20:25:17 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_deleted_at'

2022/05/26 20:25:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.508ms] [rows:-] SELECT DATABASE()

2022/05/26 20:25:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.517ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 20:25:17 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_disk_type'

2022/05/26 20:25:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.508ms] [rows:-] SELECT DATABASE()

2022/05/26 20:25:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.670ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 20:25:17 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND table_type = 'BASE TABLE'

2022/05/26 20:25:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 20:25:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.863ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 20:25:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `comments` LIMIT 1

2022/05/26 20:25:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[13.997ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'comments' ORDER BY ORDINAL_POSITION

2022/05/26 20:25:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 20:25:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.509ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 20:25:17 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND index_name = 'idx_comments_deleted_at'

2022/05/26 20:25:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.507ms] [rows:-] SELECT DATABASE()

2022/05/26 20:25:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.627ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 20:25:17 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND table_type = 'BASE TABLE'

2022/05/26 20:25:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 20:25:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.594ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 20:25:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.509ms] [rows:-] SELECT * FROM `favorites` LIMIT 1

2022/05/26 20:25:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[7.967ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' ORDER BY ORDINAL_POSITION

2022/05/26 20:25:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 20:25:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.694ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 20:25:17 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND index_name = 'idx_favorites_deleted_at'

2022/05/26 20:25:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 20:25:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.920ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 20:25:17 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND table_type = 'BASE TABLE'

2022/05/26 20:25:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 20:25:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.603ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 20:25:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.508ms] [rows:-] SELECT * FROM `relations` LIMIT 1

2022/05/26 20:25:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[5.866ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'relations' ORDER BY ORDINAL_POSITION

2022/05/26 20:25:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 20:25:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.688ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 20:25:17 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND index_name = 'idx_relations_deleted_at'

2022/05/26 20:25:18 E:/summerByteDance/DouYin_demo/app/services/favorite.go:78
[0.512ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/26 20:25:20 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.613ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-26 20:25:18.943'
LIMIT 30;

2022/05/26 20:25:20 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 5

2022/05/26 20:25:20 E:/summerByteDance/DouYin_demo/app/services/favorite.go:78
[1.704ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/26 20:25:20 E:/summerByteDance/DouYin_demo/app/services/favorite.go:78
[1.169ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/26 20:25:31 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[1.490ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 20:25:31 E:/summerByteDance/DouYin_demo/app/services/user.go:48
[0.527ms] [rows:1] SELECT * FROM `users` WHERE `users`.`id` = 1 AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 20:25:31 E:/summerByteDance/DouYin_demo/app/services/publish.go:92
[0.999ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/26 20:25:31 E:/summerByteDance/DouYin_demo/app/services/favorite.go:78
[7.361ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/26 20:25:42 E:/summerByteDance/DouYin_demo/app/services/favorite.go:78
[1.510ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/26 20:25:42 E:/summerByteDance/DouYin_demo/app/services/user.go:48
[1.751ms] [rows:1] SELECT * FROM `users` WHERE `users`.`id` = 1 AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 20:25:42 E:/summerByteDance/DouYin_demo/app/services/publish.go:92
[0.550ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/26 20:25:42 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.564ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 21:24:52'
LIMIT 30;

2022/05/26 20:25:42 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 2

2022/05/26 20:25:43 E:/summerByteDance/DouYin_demo/app/services/publish.go:92
[0.740ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 3
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 3
ORDER BY v.created_at

2022/05/26 20:25:43 E:/summerByteDance/DouYin_demo/app/services/favorite.go:78
[1.840ms] [rows:0] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 3
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 3
    )
ORDER BY v.created_at;

2022/05/26 20:25:46 E:/summerByteDance/DouYin_demo/app/services/relation.go:87 record not found
[11.008ms] [rows:0] SELECT * FROM `relations` WHERE (user_id = 1 and follow_id = 3) AND `relations`.`deleted_at` IS NULL ORDER BY `relations`.`id` LIMIT 1

2022/05/26 20:25:46 E:/summerByteDance/DouYin_demo/app/services/relation.go:47
[3.496ms] [rows:1] INSERT INTO `relations` (`user_id`,`follow_id`,`created_at`,`updated_at`,`deleted_at`) VALUES (1,3,'2022-05-26 20:25:46.489','2022-05-26 20:25:46.489',NULL)

2022/05/26 20:25:46 E:/summerByteDance/DouYin_demo/app/services/relation.go:51
[3.147ms] [rows:1] UPDATE `users` SET `follower_count`=follower_count + 1,`updated_at`='2022-05-26 20:25:46.492' WHERE id = 3 AND `users`.`deleted_at` IS NULL

2022/05/26 20:25:46 E:/summerByteDance/DouYin_demo/app/services/relation.go:56
[3.107ms] [rows:1] UPDATE `users` SET `follow_count`=follow_count + 1,`updated_at`='2022-05-26 20:25:46.496' WHERE id = 1 AND `users`.`deleted_at` IS NULL

2022/05/26 20:25:54 E:/summerByteDance/DouYin_demo/app/services/relation.go:87
[0.278ms] [rows:1] SELECT * FROM `relations` WHERE (user_id = 1 and follow_id = 3) AND `relations`.`deleted_at` IS NULL ORDER BY `relations`.`id` LIMIT 1

2022/05/26 20:25:54 E:/summerByteDance/DouYin_demo/app/services/relation.go:71
[10.180ms] [rows:1] UPDATE `relations` SET `deleted_at`='2022-05-26 20:25:54.612' WHERE (user_id=1 AND follow_id=3) AND `relations`.`deleted_at` IS NULL

2022/05/26 20:25:54 E:/summerByteDance/DouYin_demo/app/services/relation.go:75
[1.552ms] [rows:1] UPDATE `users` SET `follower_count`=follower_count - 1,`updated_at`='2022-05-26 20:25:54.622' WHERE id = 3 AND `users`.`deleted_at` IS NULL

2022/05/26 20:25:54 E:/summerByteDance/DouYin_demo/app/services/relation.go:80
[4.605ms] [rows:1] UPDATE `users` SET `follow_count`=follow_count - 1,`updated_at`='2022-05-26 20:25:54.624' WHERE id = 1 AND `users`.`deleted_at` IS NULL

2022/05/26 20:25:57 E:/summerByteDance/DouYin_demo/app/services/relation.go:87 record not found
[1.076ms] [rows:0] SELECT * FROM `relations` WHERE (user_id = 1 and follow_id = 3) AND `relations`.`deleted_at` IS NULL ORDER BY `relations`.`id` LIMIT 1

2022/05/26 20:25:57 E:/summerByteDance/DouYin_demo/app/services/relation.go:47
[8.864ms] [rows:1] INSERT INTO `relations` (`user_id`,`follow_id`,`created_at`,`updated_at`,`deleted_at`) VALUES (1,3,'2022-05-26 20:25:57.878','2022-05-26 20:25:57.878',NULL)

2022/05/26 20:25:57 E:/summerByteDance/DouYin_demo/app/services/relation.go:51
[2.422ms] [rows:1] UPDATE `users` SET `follower_count`=follower_count + 1,`updated_at`='2022-05-26 20:25:57.887' WHERE id = 3 AND `users`.`deleted_at` IS NULL

2022/05/26 20:25:57 E:/summerByteDance/DouYin_demo/app/services/relation.go:56
[1.159ms] [rows:1] UPDATE `users` SET `follow_count`=follow_count + 1,`updated_at`='2022-05-26 20:25:57.889' WHERE id = 1 AND `users`.`deleted_at` IS NULL

2022/05/26 20:41:40 E:/summerByteDance/DouYin_demo/app/services/favorite.go:78
[1.423ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/26 20:58:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 20:58:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.824ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 20:58:16 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/26 20:58:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 20:58:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.515ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 20:58:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/26 20:58:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[14.899ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/26 20:58:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[8.440ms] [rows:0] ALTER TABLE `users` MODIFY COLUMN `is_follow` boolean NOT NULL DEFAULT false COMMENT '是否关注'

2022/05/26 20:58:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.260ms] [rows:-] SELECT DATABASE()

2022/05/26 20:58:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.520ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 20:58:16 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.461ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/26 20:58:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 20:58:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.546ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 20:58:16 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.547ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND table_type = 'BASE TABLE'

2022/05/26 20:58:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.511ms] [rows:-] SELECT DATABASE()

2022/05/26 20:58:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.661ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 20:58:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `videos` LIMIT 1

2022/05/26 20:58:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[10.999ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'videos' ORDER BY ORDINAL_POSITION

2022/05/26 20:58:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[7.521ms] [rows:0] ALTER TABLE `videos` MODIFY COLUMN `is_favorite` boolean NOT NULL DEFAULT false COMMENT '是否点赞'

2022/05/26 20:58:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.853ms] [rows:-] SELECT DATABASE()

2022/05/26 20:58:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.556ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 20:58:16 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_disk_type'

2022/05/26 20:58:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 20:58:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.714ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 20:58:16 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_deleted_at'

2022/05/26 20:58:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.511ms] [rows:-] SELECT DATABASE()

2022/05/26 20:58:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.594ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 20:58:16 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND table_type = 'BASE TABLE'

2022/05/26 20:58:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 20:58:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.515ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 20:58:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.509ms] [rows:-] SELECT * FROM `comments` LIMIT 1

2022/05/26 20:58:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[5.455ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'comments' ORDER BY ORDINAL_POSITION

2022/05/26 20:58:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 20:58:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.515ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 20:58:16 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.519ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND index_name = 'idx_comments_deleted_at'

2022/05/26 20:58:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 20:58:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.755ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 20:58:16 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND table_type = 'BASE TABLE'

2022/05/26 20:58:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 20:58:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.568ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 20:58:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `favorites` LIMIT 1

2022/05/26 20:58:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[5.604ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' ORDER BY ORDINAL_POSITION

2022/05/26 20:58:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.998ms] [rows:-] SELECT DATABASE()

2022/05/26 20:58:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.000ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 20:58:16 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND index_name = 'idx_favorites_deleted_at'

2022/05/26 20:58:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[1.182ms] [rows:-] SELECT DATABASE()

2022/05/26 20:58:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.512ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 20:58:16 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND table_type = 'BASE TABLE'

2022/05/26 20:58:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 20:58:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.667ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 20:58:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.345ms] [rows:-] SELECT * FROM `relations` LIMIT 1

2022/05/26 20:58:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[5.081ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'relations' ORDER BY ORDINAL_POSITION

2022/05/26 20:58:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 20:58:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.755ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 20:58:17 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.230ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND index_name = 'idx_relations_deleted_at'

2022/05/26 20:58:22 E:/summerByteDance/DouYin_demo/app/services/favorite.go:78
[1.360ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/26 20:58:24 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[1.310ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-26 20:58:23.165'
LIMIT 30;

2022/05/26 20:58:24 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 5

2022/05/26 20:58:25 E:/summerByteDance/DouYin_demo/app/services/favorite.go:78
[1.992ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/26 20:58:25 E:/summerByteDance/DouYin_demo/app/services/favorite.go:78
[2.906ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/26 20:58:33 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[0.637ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 20:58:33 E:/summerByteDance/DouYin_demo/app/services/user.go:48
[0.794ms] [rows:1] SELECT * FROM `users` WHERE `users`.`id` = 1 AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 20:58:33 E:/summerByteDance/DouYin_demo/app/services/favorite.go:78
[1.000ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/26 20:58:33 E:/summerByteDance/DouYin_demo/app/services/publish.go:92
[0.515ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/26 20:58:41 E:/summerByteDance/DouYin_demo/app/services/relation.go:105
[0.560ms] [rows:2] SELECT
    u.id AS id,
    u.name AS name,
    u.follow_count AS follow_count,
    u.follower_count AS follower_count,
    IF(r.id IS NULL,false,true) AS is_follow
FROM users u
LEFT JOIN relations r ON u.id = r.follow_id AND r.user_id=1
WHERE u.id IN (
    SELECT r2.follow_id
    FROM relations r2
    WHERE r2.user_id=1
    );

2022/05/26 20:58:46 E:/summerByteDance/DouYin_demo/app/services/favorite.go:78
[0.678ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/26 20:58:46 E:/summerByteDance/DouYin_demo/app/services/user.go:48
[13.926ms] [rows:1] SELECT * FROM `users` WHERE `users`.`id` = 1 AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 20:58:46 E:/summerByteDance/DouYin_demo/app/services/publish.go:92
[1.075ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/26 20:58:49 E:/summerByteDance/DouYin_demo/app/services/relation.go:105
[0.710ms] [rows:2] SELECT
    u.id AS id,
    u.name AS name,
    u.follow_count AS follow_count,
    u.follower_count AS follower_count,
    IF(r.id IS NULL,false,true) AS is_follow
FROM users u
LEFT JOIN relations r ON u.id = r.follow_id AND r.user_id=1
WHERE u.id IN (
    SELECT r2.follow_id
    FROM relations r2
    WHERE r2.user_id=1
    );

2022/05/26 20:58:51 E:/summerByteDance/DouYin_demo/app/services/relation.go:89
[0.998ms] [rows:1] SELECT * FROM `relations` WHERE (user_id = 1 and follow_id = 3) AND `relations`.`deleted_at` IS NULL ORDER BY `relations`.`id` LIMIT 1

2022/05/26 20:58:51 E:/summerByteDance/DouYin_demo/app/services/relation.go:73
[3.701ms] [rows:1] UPDATE `relations` SET `deleted_at`='2022-05-26 20:58:51.984' WHERE (user_id=1 AND follow_id=3) AND `relations`.`deleted_at` IS NULL

2022/05/26 20:58:51 E:/summerByteDance/DouYin_demo/app/services/relation.go:77
[2.007ms] [rows:1] UPDATE `users` SET `follower_count`=follower_count - 1,`updated_at`='2022-05-26 20:58:51.989' WHERE id = 3 AND `users`.`deleted_at` IS NULL

2022/05/26 20:58:51 E:/summerByteDance/DouYin_demo/app/services/relation.go:82
[2.126ms] [rows:1] UPDATE `users` SET `follow_count`=follow_count - 1,`updated_at`='2022-05-26 20:58:51.991' WHERE id = 1 AND `users`.`deleted_at` IS NULL

2022/05/26 20:58:54 E:/summerByteDance/DouYin_demo/app/services/publish.go:92
[0.651ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/26 20:58:54 E:/summerByteDance/DouYin_demo/app/services/favorite.go:78
[2.683ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/26 20:58:56 E:/summerByteDance/DouYin_demo/app/services/relation.go:105
[0.625ms] [rows:2] SELECT
    u.id AS id,
    u.name AS name,
    u.follow_count AS follow_count,
    u.follower_count AS follower_count,
    IF(r.id IS NULL,false,true) AS is_follow
FROM users u
LEFT JOIN relations r ON u.id = r.follow_id AND r.user_id=1
WHERE u.id IN (
    SELECT r2.follow_id
    FROM relations r2
    WHERE r2.user_id=1
    );

2022/05/26 20:59:10 E:/summerByteDance/DouYin_demo/app/services/relation.go:89 record not found
[1.418ms] [rows:0] SELECT * FROM `relations` WHERE (user_id = 1 and follow_id = 3) AND `relations`.`deleted_at` IS NULL ORDER BY `relations`.`id` LIMIT 1

2022/05/26 20:59:12 E:/summerByteDance/DouYin_demo/app/services/relation.go:89 record not found
[1.011ms] [rows:0] SELECT * FROM `relations` WHERE (user_id = 1 and follow_id = 3) AND `relations`.`deleted_at` IS NULL ORDER BY `relations`.`id` LIMIT 1

2022/05/26 20:59:13 E:/summerByteDance/DouYin_demo/app/services/favorite.go:78
[1.363ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/26 20:59:17 E:/summerByteDance/DouYin_demo/app/services/relation.go:105
[1.389ms] [rows:2] SELECT
    u.id AS id,
    u.name AS name,
    u.follow_count AS follow_count,
    u.follower_count AS follower_count,
    IF(r.id IS NULL,false,true) AS is_follow
FROM users u
LEFT JOIN relations r ON u.id = r.follow_id AND r.user_id=1
WHERE u.id IN (
    SELECT r2.follow_id
    FROM relations r2
    WHERE r2.user_id=1
    );

2022/05/26 20:59:19 E:/summerByteDance/DouYin_demo/app/services/favorite.go:78
[1.489ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/26 20:59:22 E:/summerByteDance/DouYin_demo/app/services/favorite.go:78
[1.435ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/26 20:59:22 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[1.558ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 21:24:52'
LIMIT 30;

2022/05/26 20:59:22 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.515ms] [rows:1] SELECT created_at FROM videos WHERE id = 2

2022/05/26 20:59:24 E:/summerByteDance/DouYin_demo/app/services/favorite.go:78
[1.135ms] [rows:0] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 3
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 3
    )
ORDER BY v.created_at;

2022/05/26 20:59:28 E:/summerByteDance/DouYin_demo/app/services/relation.go:89 record not found
[0.690ms] [rows:0] SELECT * FROM `relations` WHERE (user_id = 1 and follow_id = 3) AND `relations`.`deleted_at` IS NULL ORDER BY `relations`.`id` LIMIT 1

2022/05/26 20:59:28 E:/summerByteDance/DouYin_demo/app/services/relation.go:49
[3.930ms] [rows:1] INSERT INTO `relations` (`user_id`,`follow_id`,`created_at`,`updated_at`,`deleted_at`) VALUES (1,3,'2022-05-26 20:59:28.326','2022-05-26 20:59:28.326',NULL)

2022/05/26 20:59:28 E:/summerByteDance/DouYin_demo/app/services/relation.go:53
[3.414ms] [rows:1] UPDATE `users` SET `follower_count`=follower_count + 1,`updated_at`='2022-05-26 20:59:28.33' WHERE id = 3 AND `users`.`deleted_at` IS NULL

2022/05/26 20:59:28 E:/summerByteDance/DouYin_demo/app/services/relation.go:58
[1.500ms] [rows:1] UPDATE `users` SET `follow_count`=follow_count + 1,`updated_at`='2022-05-26 20:59:28.333' WHERE id = 1 AND `users`.`deleted_at` IS NULL

2022/05/26 20:59:33 E:/summerByteDance/DouYin_demo/app/services/favorite.go:78
[1.179ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/26 20:59:35 E:/summerByteDance/DouYin_demo/app/services/relation.go:105
[0.736ms] [rows:3] SELECT
    u.id AS id,
    u.name AS name,
    u.follow_count AS follow_count,
    u.follower_count AS follower_count,
    IF(r.id IS NULL,false,true) AS is_follow
FROM users u
LEFT JOIN relations r ON u.id = r.follow_id AND r.user_id=1
WHERE u.id IN (
    SELECT r2.follow_id
    FROM relations r2
    WHERE r2.user_id=1
    );

2022/05/26 21:10:41 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.539ms] [rows:-] SELECT DATABASE()

2022/05/26 21:10:41 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[2.148ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 21:10:41 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.517ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/26 21:10:41 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 21:10:41 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.518ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 21:10:41 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/26 21:10:41 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[15.081ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/26 21:10:41 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[14.983ms] [rows:0] ALTER TABLE `users` MODIFY COLUMN `is_follow` boolean NOT NULL DEFAULT false COMMENT '是否关注'

2022/05/26 21:10:41 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 21:10:41 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.512ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 21:10:41 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.581ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/26 21:10:41 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 21:10:41 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.513ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 21:10:41 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND table_type = 'BASE TABLE'

2022/05/26 21:10:41 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.512ms] [rows:-] SELECT DATABASE()

2022/05/26 21:10:41 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.655ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 21:10:41 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `videos` LIMIT 1

2022/05/26 21:10:41 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[9.008ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'videos' ORDER BY ORDINAL_POSITION

2022/05/26 21:10:41 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[10.399ms] [rows:0] ALTER TABLE `videos` MODIFY COLUMN `is_favorite` boolean NOT NULL DEFAULT false COMMENT '是否点赞'

2022/05/26 21:10:41 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 21:10:41 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.938ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 21:10:41 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.568ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_disk_type'

2022/05/26 21:10:41 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 21:10:41 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.685ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 21:10:41 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_deleted_at'

2022/05/26 21:10:41 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.518ms] [rows:-] SELECT DATABASE()

2022/05/26 21:10:41 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.711ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 21:10:41 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND table_type = 'BASE TABLE'

2022/05/26 21:10:41 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 21:10:41 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.508ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 21:10:41 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `comments` LIMIT 1

2022/05/26 21:10:41 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[9.431ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'comments' ORDER BY ORDINAL_POSITION

2022/05/26 21:10:41 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 21:10:41 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.177ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 21:10:41 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND index_name = 'idx_comments_deleted_at'

2022/05/26 21:10:41 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.602ms] [rows:-] SELECT DATABASE()

2022/05/26 21:10:41 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.926ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 21:10:41 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.513ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND table_type = 'BASE TABLE'

2022/05/26 21:10:41 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 21:10:41 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.529ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 21:10:41 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `favorites` LIMIT 1

2022/05/26 21:10:41 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[7.644ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' ORDER BY ORDINAL_POSITION

2022/05/26 21:10:41 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 21:10:41 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.000ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 21:10:41 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[1.282ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND index_name = 'idx_favorites_deleted_at'

2022/05/26 21:10:41 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.169ms] [rows:-] SELECT DATABASE()

2022/05/26 21:10:41 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.733ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 21:10:41 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND table_type = 'BASE TABLE'

2022/05/26 21:10:41 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 21:10:41 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.517ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 21:10:41 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `relations` LIMIT 1

2022/05/26 21:10:41 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[7.706ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'relations' ORDER BY ORDINAL_POSITION

2022/05/26 21:10:41 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/26 21:10:41 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.520ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/26 21:10:41 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.012ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND index_name = 'idx_relations_deleted_at'

2022/05/26 21:10:43 E:/summerByteDance/DouYin_demo/app/services/favorite.go:78
[1.486ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/26 21:10:45 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[1.454ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-26 21:10:43.697'
LIMIT 30;

2022/05/26 21:10:45 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 5

2022/05/26 21:10:45 E:/summerByteDance/DouYin_demo/app/services/favorite.go:78
[0.991ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/26 21:10:45 E:/summerByteDance/DouYin_demo/app/services/favorite.go:78
[1.396ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/26 21:11:21 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[0.523ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl662666' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 21:11:24 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[0.642ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl662666' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 21:11:26 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[1.032ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl662666' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 21:12:26 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[1.430ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl662666' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 21:12:31 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[0.615ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl662666' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 21:12:36 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[0.621ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl662666' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 21:12:44 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[1.778ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl662666' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 21:12:49 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[0.143ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl662666' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 21:12:53 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[0.618ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl662666' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 21:12:59 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[0.675ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl662666' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 21:13:06 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[0.963ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl66266' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 21:13:06 E:/summerByteDance/DouYin_demo/app/services/user.go:48
[0.517ms] [rows:1] SELECT * FROM `users` WHERE `users`.`id` = 2 AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 21:13:06 E:/summerByteDance/DouYin_demo/app/services/publish.go:92
[0.784ms] [rows:0] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 2
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 2
ORDER BY v.created_at

2022/05/26 21:13:06 E:/summerByteDance/DouYin_demo/app/services/favorite.go:78
[0.615ms] [rows:0] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 2
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 2
    )
ORDER BY v.created_at;

2022/05/26 21:13:14 E:/summerByteDance/DouYin_demo/app/services/relation.go:88 record not found
[0.854ms] [rows:0] SELECT * FROM `relations` WHERE (user_id = 2 and follow_id = 1) AND `relations`.`deleted_at` IS NULL ORDER BY `relations`.`id` LIMIT 1

2022/05/26 21:13:14 E:/summerByteDance/DouYin_demo/app/services/relation.go:48
[8.976ms] [rows:1] INSERT INTO `relations` (`user_id`,`follow_id`,`created_at`,`updated_at`,`deleted_at`) VALUES (2,1,'2022-05-26 21:13:14.126','2022-05-26 21:13:14.126',NULL)

2022/05/26 21:13:14 E:/summerByteDance/DouYin_demo/app/services/relation.go:52
[1.652ms] [rows:1] UPDATE `users` SET `follower_count`=follower_count + 1,`updated_at`='2022-05-26 21:13:14.135' WHERE id = 1 AND `users`.`deleted_at` IS NULL

2022/05/26 21:13:14 E:/summerByteDance/DouYin_demo/app/services/relation.go:57
[2.286ms] [rows:1] UPDATE `users` SET `follow_count`=follow_count + 1,`updated_at`='2022-05-26 21:13:14.138' WHERE id = 2 AND `users`.`deleted_at` IS NULL

2022/05/26 21:13:20 E:/summerByteDance/DouYin_demo/app/services/relation.go:115
[1.092ms] [rows:1] SELECT
    u.id AS id,
    u.name AS name,
    u.follow_count AS follow_count,
    u.follower_count AS follower_count,
    IF(r.id IS NULL,false,true) AS is_follow
FROM users u
LEFT JOIN relations r ON u.id = r.follow_id AND r.user_id=2
WHERE u.id IN (
    SELECT r2.follow_id
    FROM relations r2
    WHERE r2.user_id=1
    );

2022/05/26 21:13:27 E:/summerByteDance/DouYin_demo/app/services/relation.go:124
[0.654ms] [rows:1] SELECT
    u.id AS id,
    u.name AS name,
    u.follow_count AS follow_count,
    u.follower_count AS follower_count,
    IF(r.id IS NULL,false,true) AS is_follow
FROM users u
LEFT JOIN relations r ON u.id = r.follow_id AND r.user_id=2
WHERE u.id IN (
    SELECT r2.user_id
    FROM relations r2
    WHERE r2.follow_id=1
    );

2022/05/26 21:13:31 E:/summerByteDance/DouYin_demo/app/services/relation.go:115
[0.880ms] [rows:1] SELECT
    u.id AS id,
    u.name AS name,
    u.follow_count AS follow_count,
    u.follower_count AS follower_count,
    IF(r.id IS NULL,false,true) AS is_follow
FROM users u
LEFT JOIN relations r ON u.id = r.follow_id AND r.user_id=2
WHERE u.id IN (
    SELECT r2.follow_id
    FROM relations r2
    WHERE r2.user_id=1
    );

2022/05/26 21:13:33 E:/summerByteDance/DouYin_demo/app/services/relation.go:124
[0.927ms] [rows:1] SELECT
    u.id AS id,
    u.name AS name,
    u.follow_count AS follow_count,
    u.follower_count AS follower_count,
    IF(r.id IS NULL,false,true) AS is_follow
FROM users u
LEFT JOIN relations r ON u.id = r.follow_id AND r.user_id=2
WHERE u.id IN (
    SELECT r2.user_id
    FROM relations r2
    WHERE r2.follow_id=1
    );

2022/05/26 21:13:42 E:/summerByteDance/DouYin_demo/app/services/user.go:48
[1.070ms] [rows:1] SELECT * FROM `users` WHERE `users`.`id` = 2 AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 21:13:42 E:/summerByteDance/DouYin_demo/app/services/favorite.go:78
[0.716ms] [rows:0] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 2
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 2
    )
ORDER BY v.created_at;

2022/05/26 21:13:42 E:/summerByteDance/DouYin_demo/app/services/publish.go:92
[14.466ms] [rows:0] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 2
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 2
ORDER BY v.created_at

2022/05/26 21:13:49 E:/summerByteDance/DouYin_demo/app/services/relation.go:115
[1.312ms] [rows:1] SELECT
    u.id AS id,
    u.name AS name,
    u.follow_count AS follow_count,
    u.follower_count AS follower_count,
    IF(r.id IS NULL,false,true) AS is_follow
FROM users u
LEFT JOIN relations r ON u.id = r.follow_id AND r.user_id=2
WHERE u.id IN (
    SELECT r2.follow_id
    FROM relations r2
    WHERE r2.user_id=2
    );

2022/05/26 21:13:50 E:/summerByteDance/DouYin_demo/app/services/publish.go:92
[0.527ms] [rows:0] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 2
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 2
ORDER BY v.created_at

2022/05/26 21:13:50 E:/summerByteDance/DouYin_demo/app/services/favorite.go:78
[0.511ms] [rows:0] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 2
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 2
    )
ORDER BY v.created_at;

2022/05/26 21:13:52 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[1.222ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-26 21:13:50.806'
LIMIT 30;

2022/05/26 21:13:52 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 5

2022/05/26 21:13:52 E:/summerByteDance/DouYin_demo/app/services/favorite.go:78
[1.272ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/26 21:13:52 E:/summerByteDance/DouYin_demo/app/services/favorite.go:78
[1.001ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/26 21:14:01 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[0.525ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 21:14:01 E:/summerByteDance/DouYin_demo/app/services/user.go:48
[0.546ms] [rows:1] SELECT * FROM `users` WHERE `users`.`id` = 1 AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 21:14:01 E:/summerByteDance/DouYin_demo/app/services/favorite.go:78
[1.506ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/26 21:14:01 E:/summerByteDance/DouYin_demo/app/services/publish.go:92
[0.533ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/26 21:14:04 E:/summerByteDance/DouYin_demo/app/services/relation.go:115
[0.289ms] [rows:3] SELECT
    u.id AS id,
    u.name AS name,
    u.follow_count AS follow_count,
    u.follower_count AS follower_count,
    IF(r.id IS NULL,false,true) AS is_follow
FROM users u
LEFT JOIN relations r ON u.id = r.follow_id AND r.user_id=1
WHERE u.id IN (
    SELECT r2.follow_id
    FROM relations r2
    WHERE r2.user_id=1
    );

2022/05/26 21:14:07 E:/summerByteDance/DouYin_demo/app/services/favorite.go:78
[1.521ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/26 21:14:07 E:/summerByteDance/DouYin_demo/app/services/user.go:48
[0.000ms] [rows:1] SELECT * FROM `users` WHERE `users`.`id` = 1 AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/26 21:14:07 E:/summerByteDance/DouYin_demo/app/services/publish.go:92
[0.508ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/26 21:14:09 E:/summerByteDance/DouYin_demo/app/services/relation.go:115
[1.422ms] [rows:3] SELECT
    u.id AS id,
    u.name AS name,
    u.follow_count AS follow_count,
    u.follower_count AS follower_count,
    IF(r.id IS NULL,false,true) AS is_follow
FROM users u
LEFT JOIN relations r ON u.id = r.follow_id AND r.user_id=1
WHERE u.id IN (
    SELECT r2.follow_id
    FROM relations r2
    WHERE r2.user_id=1
    );

2022/05/26 21:14:10 E:/summerByteDance/DouYin_demo/app/services/relation.go:124
[0.565ms] [rows:1] SELECT
    u.id AS id,
    u.name AS name,
    u.follow_count AS follow_count,
    u.follower_count AS follower_count,
    IF(r.id IS NULL,false,true) AS is_follow
FROM users u
LEFT JOIN relations r ON u.id = r.follow_id AND r.user_id=1
WHERE u.id IN (
    SELECT r2.user_id
    FROM relations r2
    WHERE r2.follow_id=1
    );

2022/05/26 21:14:12 E:/summerByteDance/DouYin_demo/app/services/relation.go:88 record not found
[0.868ms] [rows:0] SELECT * FROM `relations` WHERE (user_id = 1 and follow_id = 2) AND `relations`.`deleted_at` IS NULL ORDER BY `relations`.`id` LIMIT 1

2022/05/26 21:14:12 E:/summerByteDance/DouYin_demo/app/services/relation.go:48
[9.844ms] [rows:1] INSERT INTO `relations` (`user_id`,`follow_id`,`created_at`,`updated_at`,`deleted_at`) VALUES (1,2,'2022-05-26 21:14:12.882','2022-05-26 21:14:12.882',NULL)

2022/05/26 21:14:12 E:/summerByteDance/DouYin_demo/app/services/relation.go:52
[2.541ms] [rows:1] UPDATE `users` SET `follower_count`=follower_count + 1,`updated_at`='2022-05-26 21:14:12.893' WHERE id = 2 AND `users`.`deleted_at` IS NULL

2022/05/26 21:14:12 E:/summerByteDance/DouYin_demo/app/services/relation.go:57
[2.595ms] [rows:1] UPDATE `users` SET `follow_count`=follow_count + 1,`updated_at`='2022-05-26 21:14:12.895' WHERE id = 1 AND `users`.`deleted_at` IS NULL

2022/05/26 21:14:16 E:/summerByteDance/DouYin_demo/app/services/favorite.go:78
[0.806ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/26 21:14:16 E:/summerByteDance/DouYin_demo/app/services/publish.go:92
[0.742ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/27 00:47:47 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/27 00:47:47 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[4.132ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/27 00:47:47 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.515ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/27 00:47:47 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/27 00:47:47 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.919ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/27 00:47:47 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[1.540ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/27 00:47:47 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[20.971ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/27 00:47:47 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[14.471ms] [rows:0] ALTER TABLE `users` MODIFY COLUMN `is_follow` boolean NOT NULL DEFAULT false COMMENT '是否关注'

2022/05/27 00:47:47 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/27 00:47:47 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.095ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/27 00:47:47 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/27 00:47:47 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/27 00:47:47 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.000ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/27 00:47:47 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.998ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND table_type = 'BASE TABLE'

2022/05/27 00:47:47 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/27 00:47:47 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.652ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/27 00:47:47 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `videos` LIMIT 1

2022/05/27 00:47:47 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[7.479ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'videos' ORDER BY ORDINAL_POSITION

2022/05/27 00:47:47 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[13.474ms] [rows:0] ALTER TABLE `videos` MODIFY COLUMN `is_favorite` boolean NOT NULL DEFAULT false COMMENT '是否点赞'

2022/05/27 00:47:47 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/27 00:47:47 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.895ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/27 00:47:47 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_disk_type'

2022/05/27 00:47:47 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/27 00:47:47 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.725ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/27 00:47:47 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_deleted_at'

2022/05/27 00:47:47 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/27 00:47:47 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.690ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/27 00:47:47 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.543ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND table_type = 'BASE TABLE'

2022/05/27 00:47:47 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/27 00:47:47 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.912ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/27 00:47:47 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.512ms] [rows:-] SELECT * FROM `comments` LIMIT 1

2022/05/27 00:47:47 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[12.482ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'comments' ORDER BY ORDINAL_POSITION

2022/05/27 00:47:47 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/27 00:47:47 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.358ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/27 00:47:47 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.510ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND index_name = 'idx_comments_deleted_at'

2022/05/27 00:47:47 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/27 00:47:47 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.924ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/27 00:47:47 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND table_type = 'BASE TABLE'

2022/05/27 00:47:47 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/27 00:47:47 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.645ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/27 00:47:47 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.509ms] [rows:-] SELECT * FROM `favorites` LIMIT 1

2022/05/27 00:47:47 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[13.953ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' ORDER BY ORDINAL_POSITION

2022/05/27 00:47:47 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/27 00:47:47 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.223ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/27 00:47:47 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND index_name = 'idx_favorites_deleted_at'

2022/05/27 00:47:47 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.021ms] [rows:-] SELECT DATABASE()

2022/05/27 00:47:47 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.749ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/27 00:47:47 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND table_type = 'BASE TABLE'

2022/05/27 00:47:47 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/27 00:47:47 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.569ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/27 00:47:47 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `relations` LIMIT 1

2022/05/27 00:47:47 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[13.441ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'relations' ORDER BY ORDINAL_POSITION

2022/05/27 00:47:47 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/27 00:47:47 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.523ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/27 00:47:47 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND index_name = 'idx_relations_deleted_at'

2022/05/27 00:48:08 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[3.271ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-27 00:48:06.708'
LIMIT 30;

2022/05/27 00:48:08 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.689ms] [rows:1] SELECT created_at FROM videos WHERE id = 5

2022/05/27 00:48:08 E:/summerByteDance/DouYin_demo/app/services/favorite.go:78
[1.335ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/27 00:48:18 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[1.651ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/27 00:48:18 E:/summerByteDance/DouYin_demo/app/services/user.go:48
[0.532ms] [rows:1] SELECT * FROM `users` WHERE `users`.`id` = 1 AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/27 00:48:18 E:/summerByteDance/DouYin_demo/app/services/favorite.go:78
[0.599ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/27 00:48:18 E:/summerByteDance/DouYin_demo/app/services/publish.go:92
[2.829ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/27 00:48:28 E:/summerByteDance/DouYin_demo/app/services/comment.go:42
[5.243ms] [rows:1] INSERT INTO `comments` (`user_id`,`video_id`,`comment_text`,`created_at`,`updated_at`,`deleted_at`) VALUES (1,1,'1111','2022-05-27 00:48:28.244','2022-05-27 00:48:28.244',NULL)

2022/05/27 00:48:28 E:/summerByteDance/DouYin_demo/app/services/comment.go:46
[3.571ms] [rows:1] UPDATE `videos` SET `comment_count`=comment_count + 1,`updated_at`='2022-05-27 00:48:28.25' WHERE id = 1 AND `videos`.`deleted_at` IS NULL

2022/05/27 00:49:11 E:/summerByteDance/DouYin_demo/app/services/comment.go:42
[2.690ms] [rows:1] INSERT INTO `comments` (`user_id`,`video_id`,`comment_text`,`created_at`,`updated_at`,`deleted_at`) VALUES (1,1,'1111','2022-05-27 00:49:11.509','2022-05-27 00:49:11.509',NULL)

2022/05/27 00:49:11 E:/summerByteDance/DouYin_demo/app/services/comment.go:46
[2.822ms] [rows:1] UPDATE `videos` SET `comment_count`=comment_count + 1,`updated_at`='2022-05-27 00:49:11.512' WHERE id = 1 AND `videos`.`deleted_at` IS NULL

2022/05/27 01:20:29 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/27 01:20:29 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[2.429ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/27 01:20:29 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.503ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/27 01:20:29 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/27 01:20:29 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.039ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/27 01:20:29 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.504ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/27 01:20:29 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[19.680ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/27 01:20:29 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[14.473ms] [rows:0] ALTER TABLE `users` MODIFY COLUMN `is_follow` boolean NOT NULL DEFAULT false COMMENT '是否关注'

2022/05/27 01:20:29 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/27 01:20:29 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.510ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/27 01:20:29 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/27 01:20:29 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/27 01:20:29 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.741ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/27 01:20:29 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND table_type = 'BASE TABLE'

2022/05/27 01:20:29 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/27 01:20:29 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.817ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/27 01:20:29 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `videos` LIMIT 1

2022/05/27 01:20:30 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[13.709ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'videos' ORDER BY ORDINAL_POSITION

2022/05/27 01:20:30 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[10.482ms] [rows:0] ALTER TABLE `videos` MODIFY COLUMN `is_favorite` boolean NOT NULL DEFAULT false COMMENT '是否点赞'

2022/05/27 01:20:30 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/27 01:20:30 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.832ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/27 01:20:30 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_disk_type'

2022/05/27 01:20:30 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.504ms] [rows:-] SELECT DATABASE()

2022/05/27 01:20:30 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.559ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/27 01:20:30 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_deleted_at'

2022/05/27 01:20:30 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/27 01:20:30 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.557ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/27 01:20:30 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.527ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND table_type = 'BASE TABLE'

2022/05/27 01:20:30 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/27 01:20:30 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.514ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/27 01:20:30 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[1.034ms] [rows:-] SELECT * FROM `comments` LIMIT 1

2022/05/27 01:20:30 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[12.076ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'comments' ORDER BY ORDINAL_POSITION

2022/05/27 01:20:30 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/27 01:20:30 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.336ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/27 01:20:30 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND index_name = 'idx_comments_deleted_at'

2022/05/27 01:20:30 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/27 01:20:30 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.592ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/27 01:20:30 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.576ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND table_type = 'BASE TABLE'

2022/05/27 01:20:30 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/27 01:20:30 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.780ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/27 01:20:30 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `favorites` LIMIT 1

2022/05/27 01:20:30 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[14.466ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' ORDER BY ORDINAL_POSITION

2022/05/27 01:20:30 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/27 01:20:30 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.245ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/27 01:20:30 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.505ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND index_name = 'idx_favorites_deleted_at'

2022/05/27 01:20:30 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/27 01:20:30 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.031ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/27 01:20:30 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND table_type = 'BASE TABLE'

2022/05/27 01:20:30 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.517ms] [rows:-] SELECT DATABASE()

2022/05/27 01:20:30 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.717ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/27 01:20:30 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `relations` LIMIT 1

2022/05/27 01:20:30 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[7.457ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'relations' ORDER BY ORDINAL_POSITION

2022/05/27 01:20:30 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/27 01:20:30 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.034ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/27 01:20:30 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND index_name = 'idx_relations_deleted_at'

2022/05/27 01:21:07 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[4.025ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-27 01:21:06.192'
LIMIT 30;

2022/05/27 01:21:07 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.520ms] [rows:1] SELECT created_at FROM videos WHERE id = 5

2022/05/27 01:21:08 E:/summerByteDance/DouYin_demo/app/services/favorite.go:78
[1.870ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/27 01:21:08 E:/summerByteDance/DouYin_demo/app/services/user.go:48
[0.619ms] [rows:1] SELECT * FROM `users` WHERE `users`.`id` = 1 AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/27 01:21:08 E:/summerByteDance/DouYin_demo/app/services/publish.go:92
[2.037ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/27 01:21:08 E:/summerByteDance/DouYin_demo/app/services/publish.go:92
[1.632ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/27 01:21:08 E:/summerByteDance/DouYin_demo/app/services/favorite.go:78
[1.056ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/27 01:21:11 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.847ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-27 01:21:09.918'
LIMIT 30;

2022/05/27 01:21:11 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 5

2022/05/27 01:21:11 E:/summerByteDance/DouYin_demo/app/services/favorite.go:78
[2.436ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/27 01:21:11 E:/summerByteDance/DouYin_demo/app/services/favorite.go:78
[1.002ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/27 01:21:22 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[1.379ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/27 01:21:22 E:/summerByteDance/DouYin_demo/app/services/user.go:48
[0.838ms] [rows:1] SELECT * FROM `users` WHERE `users`.`id` = 1 AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/27 01:21:22 E:/summerByteDance/DouYin_demo/app/services/publish.go:92
[1.861ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/27 01:21:22 E:/summerByteDance/DouYin_demo/app/services/favorite.go:78
[9.729ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/27 01:21:27 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[1.093ms] [rows:1] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/27 01:22:03 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[0.538ms] [rows:1] SELECT * FROM `users` WHERE name = '' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/27 01:23:02 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.535ms] [rows:-] SELECT DATABASE()

2022/05/27 01:23:02 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.058ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/27 01:23:02 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/27 01:23:02 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/27 01:23:02 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.578ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/27 01:23:02 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/27 01:23:02 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[13.968ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/27 01:23:02 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[10.297ms] [rows:0] ALTER TABLE `users` MODIFY COLUMN `is_follow` boolean NOT NULL DEFAULT false COMMENT '是否关注'

2022/05/27 01:23:02 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/27 01:23:02 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.948ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/27 01:23:02 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/27 01:23:02 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.509ms] [rows:-] SELECT DATABASE()

2022/05/27 01:23:02 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.520ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/27 01:23:02 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND table_type = 'BASE TABLE'

2022/05/27 01:23:02 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/27 01:23:02 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.808ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/27 01:23:02 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `videos` LIMIT 1

2022/05/27 01:23:02 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[7.489ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'videos' ORDER BY ORDINAL_POSITION

2022/05/27 01:23:02 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[11.479ms] [rows:0] ALTER TABLE `videos` MODIFY COLUMN `is_favorite` boolean NOT NULL DEFAULT false COMMENT '是否点赞'

2022/05/27 01:23:02 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/27 01:23:02 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.847ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/27 01:23:02 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_disk_type'

2022/05/27 01:23:02 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/27 01:23:02 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.513ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/27 01:23:02 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_deleted_at'

2022/05/27 01:23:02 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.521ms] [rows:-] SELECT DATABASE()

2022/05/27 01:23:02 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.686ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/27 01:23:02 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND table_type = 'BASE TABLE'

2022/05/27 01:23:02 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/27 01:23:02 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.022ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/27 01:23:02 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `comments` LIMIT 1

2022/05/27 01:23:02 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[7.184ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'comments' ORDER BY ORDINAL_POSITION

2022/05/27 01:23:02 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/27 01:23:02 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.548ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/27 01:23:02 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND index_name = 'idx_comments_deleted_at'

2022/05/27 01:23:02 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.523ms] [rows:-] SELECT DATABASE()

2022/05/27 01:23:02 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.703ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/27 01:23:02 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND table_type = 'BASE TABLE'

2022/05/27 01:23:02 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.504ms] [rows:-] SELECT DATABASE()

2022/05/27 01:23:02 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.565ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/27 01:23:02 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `favorites` LIMIT 1

2022/05/27 01:23:02 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[6.585ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' ORDER BY ORDINAL_POSITION

2022/05/27 01:23:02 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/27 01:23:02 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.919ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/27 01:23:02 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND index_name = 'idx_favorites_deleted_at'

2022/05/27 01:23:02 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.512ms] [rows:-] SELECT DATABASE()

2022/05/27 01:23:02 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.662ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/27 01:23:02 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND table_type = 'BASE TABLE'

2022/05/27 01:23:02 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.509ms] [rows:-] SELECT DATABASE()

2022/05/27 01:23:02 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.570ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/27 01:23:02 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `relations` LIMIT 1

2022/05/27 01:23:02 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[7.414ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'relations' ORDER BY ORDINAL_POSITION

2022/05/27 01:23:02 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/27 01:23:02 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.018ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/27 01:23:02 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND index_name = 'idx_relations_deleted_at'

2022/05/27 01:23:06 E:/summerByteDance/DouYin_demo/app/services/user.go:48
[0.017ms] [rows:1] SELECT * FROM `users` WHERE `users`.`id` = 1 AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/27 01:23:06 E:/summerByteDance/DouYin_demo/app/services/publish.go:92
[0.508ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/27 01:23:11 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[0.718ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/27 01:23:11 E:/summerByteDance/DouYin_demo/app/services/user.go:48
[0.520ms] [rows:1] SELECT * FROM `users` WHERE `users`.`id` = 1 AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/27 01:23:12 E:/summerByteDance/DouYin_demo/app/services/publish.go:92
[0.995ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/27 01:23:12 E:/summerByteDance/DouYin_demo/app/services/favorite.go:78
[1.055ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/27 01:23:21 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[1.061ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-27 01:23:21.008'
LIMIT 30;

2022/05/27 01:23:21 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.533ms] [rows:1] SELECT created_at FROM videos WHERE id = 5

2022/05/27 01:23:21 E:/summerByteDance/DouYin_demo/app/services/user.go:48
[0.000ms] [rows:1] SELECT * FROM `users` WHERE `users`.`id` = 1 AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/27 01:23:21 E:/summerByteDance/DouYin_demo/app/services/publish.go:92
[1.071ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/27 01:23:21 E:/summerByteDance/DouYin_demo/app/services/favorite.go:78
[1.419ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/27 01:23:23 E:/summerByteDance/DouYin_demo/app/services/comment.go:81 invalid field found for struct github.com/Anzz-bot/DouYin_demo/app/common/response.Comment's field User: define a valid foreign key for relations or implement the Valuer/Scanner interface
[2.679ms] [rows:2] SELECT
    c.id AS id,
    u.id AS user_id,
    u.name AS user_name,
    u.follow_count AS follow_count,
    u.follower_count AS follower_count,
    IF(r.id IS NULL,false,true) AS is_follow,
    c.comment_text AS content,
    c.created_at AS create_date
FROM comments c
LEFT JOIN users u ON c.user_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE c.video_id=1
ORDER BY c.updated_at;

2022/05/27 01:34:20 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.507ms] [rows:-] SELECT DATABASE()

2022/05/27 01:34:20 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.263ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/27 01:34:20 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/27 01:34:20 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.515ms] [rows:-] SELECT DATABASE()

2022/05/27 01:34:20 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.522ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/27 01:34:20 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/27 01:34:20 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[22.584ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/27 01:34:20 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[12.480ms] [rows:0] ALTER TABLE `users` MODIFY COLUMN `is_follow` boolean NOT NULL DEFAULT false COMMENT '是否关注'

2022/05/27 01:34:20 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/27 01:34:20 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.893ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/27 01:34:20 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.513ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/27 01:34:20 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/27 01:34:20 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.003ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/27 01:34:20 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND table_type = 'BASE TABLE'

2022/05/27 01:34:20 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.515ms] [rows:-] SELECT DATABASE()

2022/05/27 01:34:20 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.681ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/27 01:34:20 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `videos` LIMIT 1

2022/05/27 01:34:20 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[19.138ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'videos' ORDER BY ORDINAL_POSITION

2022/05/27 01:34:20 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[15.957ms] [rows:0] ALTER TABLE `videos` MODIFY COLUMN `is_favorite` boolean NOT NULL DEFAULT false COMMENT '是否点赞'

2022/05/27 01:34:20 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/27 01:34:20 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.998ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/27 01:34:20 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_disk_type'

2022/05/27 01:34:20 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.511ms] [rows:-] SELECT DATABASE()

2022/05/27 01:34:20 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.613ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/27 01:34:20 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_deleted_at'

2022/05/27 01:34:20 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/27 01:34:20 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.523ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/27 01:34:20 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND table_type = 'BASE TABLE'

2022/05/27 01:34:20 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/27 01:34:20 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.535ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/27 01:34:20 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `comments` LIMIT 1

2022/05/27 01:34:20 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[8.256ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'comments' ORDER BY ORDINAL_POSITION

2022/05/27 01:34:20 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/27 01:34:20 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.998ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/27 01:34:20 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND index_name = 'idx_comments_deleted_at'

2022/05/27 01:34:20 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/27 01:34:20 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.997ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/27 01:34:20 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND table_type = 'BASE TABLE'

2022/05/27 01:34:20 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/27 01:34:20 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.997ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/27 01:34:20 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `favorites` LIMIT 1

2022/05/27 01:34:20 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[12.186ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' ORDER BY ORDINAL_POSITION

2022/05/27 01:34:20 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/27 01:34:20 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.061ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/27 01:34:20 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND index_name = 'idx_favorites_deleted_at'

2022/05/27 01:34:20 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.524ms] [rows:-] SELECT DATABASE()

2022/05/27 01:34:20 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.814ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/27 01:34:20 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND table_type = 'BASE TABLE'

2022/05/27 01:34:20 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/27 01:34:20 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.511ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/27 01:34:20 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `relations` LIMIT 1

2022/05/27 01:34:20 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[11.377ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'relations' ORDER BY ORDINAL_POSITION

2022/05/27 01:34:20 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/27 01:34:20 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.182ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/27 01:34:20 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND index_name = 'idx_relations_deleted_at'

2022/05/27 01:34:32 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[0.513ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/27 01:34:32 E:/summerByteDance/DouYin_demo/app/services/user.go:48
[1.658ms] [rows:1] SELECT * FROM `users` WHERE `users`.`id` = 1 AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/27 01:34:32 E:/summerByteDance/DouYin_demo/app/services/publish.go:92
[1.213ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/27 01:34:32 E:/summerByteDance/DouYin_demo/app/services/favorite.go:78
[0.998ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/27 01:34:39 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.995ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-27 01:34:39.155'
LIMIT 30;

2022/05/27 01:34:39 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 5

2022/05/27 01:34:39 E:/summerByteDance/DouYin_demo/app/services/favorite.go:78
[0.532ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/27 01:34:39 E:/summerByteDance/DouYin_demo/app/services/user.go:48
[4.607ms] [rows:1] SELECT * FROM `users` WHERE `users`.`id` = 1 AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/27 01:34:39 E:/summerByteDance/DouYin_demo/app/services/publish.go:92
[1.352ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/27 01:34:42 E:/summerByteDance/DouYin_demo/app/services/comment.go:81
[1.533ms] [rows:2] SELECT
    c.id AS id,
    u.id AS user_id,
    u.name AS user_name,
    u.follow_count AS follow_count,
    u.follower_count AS follower_count,
    IF(r.id IS NULL,false,true) AS is_follow,
    c.comment_text AS content,
    c.created_at AS create_date
FROM comments c
LEFT JOIN users u ON c.user_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE c.video_id=1
ORDER BY c.updated_at;

2022/05/27 01:35:14 E:/summerByteDance/DouYin_demo/app/services/comment.go:81
[0.552ms] [rows:2] SELECT
    c.id AS id,
    u.id AS user_id,
    u.name AS user_name,
    u.follow_count AS follow_count,
    u.follower_count AS follower_count,
    IF(r.id IS NULL,false,true) AS is_follow,
    c.comment_text AS content,
    c.created_at AS create_date
FROM comments c
LEFT JOIN users u ON c.user_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE c.video_id=1
ORDER BY c.updated_at;

2022/05/27 01:42:41 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/27 01:42:41 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.504ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/27 01:42:41 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.513ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/27 01:42:41 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.017ms] [rows:-] SELECT DATABASE()

2022/05/27 01:42:41 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.952ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/27 01:42:41 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/27 01:42:41 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[22.073ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/27 01:42:41 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[14.471ms] [rows:0] ALTER TABLE `users` MODIFY COLUMN `is_follow` boolean NOT NULL DEFAULT false COMMENT '是否关注'

2022/05/27 01:42:41 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/27 01:42:41 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.793ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/27 01:42:41 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.785ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/27 01:42:41 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.504ms] [rows:-] SELECT DATABASE()

2022/05/27 01:42:41 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.676ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/27 01:42:41 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND table_type = 'BASE TABLE'

2022/05/27 01:42:41 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.016ms] [rows:-] SELECT DATABASE()

2022/05/27 01:42:41 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.662ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/27 01:42:41 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `videos` LIMIT 1

2022/05/27 01:42:41 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[8.554ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'videos' ORDER BY ORDINAL_POSITION

2022/05/27 01:42:41 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[8.489ms] [rows:0] ALTER TABLE `videos` MODIFY COLUMN `is_favorite` boolean NOT NULL DEFAULT false COMMENT '是否点赞'

2022/05/27 01:42:41 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/27 01:42:41 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.952ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/27 01:42:41 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_disk_type'

2022/05/27 01:42:41 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/27 01:42:41 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.584ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/27 01:42:41 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_deleted_at'

2022/05/27 01:42:41 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/27 01:42:41 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.515ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/27 01:42:41 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND table_type = 'BASE TABLE'

2022/05/27 01:42:41 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/27 01:42:41 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.551ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/27 01:42:41 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.521ms] [rows:-] SELECT * FROM `comments` LIMIT 1

2022/05/27 01:42:41 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[7.663ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'comments' ORDER BY ORDINAL_POSITION

2022/05/27 01:42:41 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/27 01:42:41 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.121ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/27 01:42:41 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND index_name = 'idx_comments_deleted_at'

2022/05/27 01:42:41 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/27 01:42:41 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.545ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/27 01:42:41 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND table_type = 'BASE TABLE'

2022/05/27 01:42:41 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/27 01:42:41 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.031ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/27 01:42:41 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `favorites` LIMIT 1

2022/05/27 01:42:41 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[8.207ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' ORDER BY ORDINAL_POSITION

2022/05/27 01:42:41 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/27 01:42:41 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.056ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/27 01:42:41 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND index_name = 'idx_favorites_deleted_at'

2022/05/27 01:42:41 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.504ms] [rows:-] SELECT DATABASE()

2022/05/27 01:42:41 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.614ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/27 01:42:41 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND table_type = 'BASE TABLE'

2022/05/27 01:42:41 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/27 01:42:41 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.517ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/27 01:42:41 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `relations` LIMIT 1

2022/05/27 01:42:41 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[7.394ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'relations' ORDER BY ORDINAL_POSITION

2022/05/27 01:42:41 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/27 01:42:41 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.033ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/27 01:42:41 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND index_name = 'idx_relations_deleted_at'

2022/05/27 01:43:13 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[1.933ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-27 01:43:11.793'
LIMIT 30;

2022/05/27 01:43:13 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.871ms] [rows:1] SELECT created_at FROM videos WHERE id = 5

2022/05/27 01:43:14 E:/summerByteDance/DouYin_demo/app/services/favorite.go:78
[0.708ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/27 01:43:15 E:/summerByteDance/DouYin_demo/app/services/favorite.go:78
[1.158ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/27 01:43:17 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[1.410ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-27 01:43:15.384'
LIMIT 30;

2022/05/27 01:43:17 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 5

2022/05/27 01:43:17 E:/summerByteDance/DouYin_demo/app/services/favorite.go:78
[1.290ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/27 01:43:17 E:/summerByteDance/DouYin_demo/app/services/favorite.go:78
[1.762ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/27 01:43:24 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[0.652ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/27 01:43:24 E:/summerByteDance/DouYin_demo/app/services/user.go:48
[1.356ms] [rows:1] SELECT * FROM `users` WHERE `users`.`id` = 1 AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/27 01:43:24 E:/summerByteDance/DouYin_demo/app/services/favorite.go:78
[1.603ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/27 01:43:24 E:/summerByteDance/DouYin_demo/app/services/publish.go:92
[1.509ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/27 01:43:29 E:/summerByteDance/DouYin_demo/app/services/user.go:48
[0.800ms] [rows:1] SELECT * FROM `users` WHERE `users`.`id` = 1 AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/27 01:43:29 E:/summerByteDance/DouYin_demo/app/services/publish.go:92
[1.663ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/27 01:43:29 E:/summerByteDance/DouYin_demo/app/services/favorite.go:78
[1.449ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/27 01:43:29 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.541ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 21:24:52'
LIMIT 30;

2022/05/27 01:43:29 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.555ms] [rows:1] SELECT created_at FROM videos WHERE id = 2

2022/05/27 01:43:31 E:/summerByteDance/DouYin_demo/app/services/comment.go:87
[0.522ms] [rows:0] SELECT
    c.id AS id,
    u.id AS user_id,
    u.name AS user_name,
    u.follow_count AS follow_count,
    u.follower_count AS follower_count,
    IF(r.id IS NULL,false,true) AS is_follow,
    c.comment_text AS content,
    c.created_at AS create_date
FROM comments c
LEFT JOIN users u ON c.user_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE c.video_id=12
ORDER BY c.updated_at;

2022/05/27 01:43:35 E:/summerByteDance/DouYin_demo/app/services/comment.go:87
[1.341ms] [rows:0] SELECT
    c.id AS id,
    u.id AS user_id,
    u.name AS user_name,
    u.follow_count AS follow_count,
    u.follower_count AS follower_count,
    IF(r.id IS NULL,false,true) AS is_follow,
    c.comment_text AS content,
    c.created_at AS create_date
FROM comments c
LEFT JOIN users u ON c.user_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE c.video_id=12
ORDER BY c.updated_at;

2022/05/27 01:43:35 E:/summerByteDance/DouYin_demo/app/services/comment.go:49
[7.178ms] [rows:1] INSERT INTO `comments` (`user_id`,`video_id`,`comment_text`,`created_at`,`updated_at`,`deleted_at`) VALUES (1,12,'132','2022-05-27 01:43:35.664','2022-05-27 01:43:35.664',NULL)

2022/05/27 01:43:35 E:/summerByteDance/DouYin_demo/app/services/comment.go:53
[6.709ms] [rows:1] UPDATE `videos` SET `comment_count`=comment_count + 1,`updated_at`='2022-05-27 01:43:35.672' WHERE id = 12 AND `videos`.`deleted_at` IS NULL

2022/05/27 01:43:39 E:/summerByteDance/DouYin_demo/app/services/comment.go:87
[1.779ms] [rows:1] SELECT
    c.id AS id,
    u.id AS user_id,
    u.name AS user_name,
    u.follow_count AS follow_count,
    u.follower_count AS follower_count,
    IF(r.id IS NULL,false,true) AS is_follow,
    c.comment_text AS content,
    c.created_at AS create_date
FROM comments c
LEFT JOIN users u ON c.user_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE c.video_id=12
ORDER BY c.updated_at;

2022/05/27 01:43:46 E:/summerByteDance/DouYin_demo/app/services/favorite.go:78
[1.337ms] [rows:0] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 3
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 3
    )
ORDER BY v.created_at;

2022/05/27 01:43:48 E:/summerByteDance/DouYin_demo/app/services/favorite.go:78
[1.159ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/27 01:43:51 E:/summerByteDance/DouYin_demo/app/services/favorite.go:78
[0.792ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/27 01:43:54 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.599ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 21:20:59'
LIMIT 30;

2022/05/27 01:43:54 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 1

2022/05/27 01:43:54 E:/summerByteDance/DouYin_demo/app/services/favorite.go:78
[0.684ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/27 01:43:54 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.106ms] [rows:0] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-24 02:23:38'
LIMIT 30;

2022/05/27 01:44:04 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.000ms] [rows:0] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-24 02:23:38'
LIMIT 30;

2022/05/27 01:44:17 E:/summerByteDance/DouYin_demo/app/services/favorite.go:78
[1.241ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/27 01:44:24 E:/summerByteDance/DouYin_demo/app/services/relation.go:115
[2.456ms] [rows:4] SELECT
    u.id AS id,
    u.name AS name,
    u.follow_count AS follow_count,
    u.follower_count AS follower_count,
    IF(r.id IS NULL,false,true) AS is_follow
FROM users u
LEFT JOIN relations r ON u.id = r.follow_id AND r.user_id=1
WHERE u.id IN (
    SELECT r2.follow_id
    FROM relations r2
    WHERE r2.user_id=1
    );

2022/05/27 01:44:26 E:/summerByteDance/DouYin_demo/app/services/relation.go:124
[0.000ms] [rows:1] SELECT
    u.id AS id,
    u.name AS name,
    u.follow_count AS follow_count,
    u.follower_count AS follower_count,
    IF(r.id IS NULL,false,true) AS is_follow
FROM users u
LEFT JOIN relations r ON u.id = r.follow_id AND r.user_id=1
WHERE u.id IN (
    SELECT r2.user_id
    FROM relations r2
    WHERE r2.follow_id=1
    );

2022/05/27 01:44:35 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[1.482ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-27 01:44:33.426'
LIMIT 30;

2022/05/27 01:44:35 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.652ms] [rows:1] SELECT created_at FROM videos WHERE id = 5

2022/05/27 01:44:35 E:/summerByteDance/DouYin_demo/app/services/favorite.go:78
[1.036ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/27 01:44:37 E:/summerByteDance/DouYin_demo/app/services/favorite.go:78
[1.283ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/27 01:44:37 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.526ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 21:24:52'
LIMIT 30;

2022/05/27 01:44:37 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 2

2022/05/27 01:44:39 E:/summerByteDance/DouYin_demo/app/services/comment.go:87
[3.993ms] [rows:1] SELECT
    c.id AS id,
    u.id AS user_id,
    u.name AS user_name,
    u.follow_count AS follow_count,
    u.follower_count AS follower_count,
    IF(r.id IS NULL,false,true) AS is_follow,
    c.comment_text AS content,
    c.created_at AS create_date
FROM comments c
LEFT JOIN users u ON c.user_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE c.video_id=12
ORDER BY c.updated_at;

2022/05/27 01:44:42 E:/summerByteDance/DouYin_demo/app/services/favorite.go:78
[1.045ms] [rows:0] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 3
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 3
    )
ORDER BY v.created_at;

2022/05/27 01:44:44 E:/summerByteDance/DouYin_demo/app/services/comment.go:87
[0.996ms] [rows:0] SELECT
    c.id AS id,
    u.id AS user_id,
    u.name AS user_name,
    u.follow_count AS follow_count,
    u.follower_count AS follower_count,
    IF(r.id IS NULL,false,true) AS is_follow,
    c.comment_text AS content,
    c.created_at AS create_date
FROM comments c
LEFT JOIN users u ON c.user_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE c.video_id=2
ORDER BY c.updated_at;

2022/05/27 01:44:48 E:/summerByteDance/DouYin_demo/app/services/comment.go:87
[0.580ms] [rows:0] SELECT
    c.id AS id,
    u.id AS user_id,
    u.name AS user_name,
    u.follow_count AS follow_count,
    u.follower_count AS follower_count,
    IF(r.id IS NULL,false,true) AS is_follow,
    c.comment_text AS content,
    c.created_at AS create_date
FROM comments c
LEFT JOIN users u ON c.user_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE c.video_id=2
ORDER BY c.updated_at;

2022/05/27 01:44:48 E:/summerByteDance/DouYin_demo/app/services/comment.go:49
[3.935ms] [rows:1] INSERT INTO `comments` (`user_id`,`video_id`,`comment_text`,`created_at`,`updated_at`,`deleted_at`) VALUES (1,2,'222','2022-05-27 01:44:48.162','2022-05-27 01:44:48.162',NULL)

2022/05/27 01:44:48 E:/summerByteDance/DouYin_demo/app/services/comment.go:53
[3.485ms] [rows:1] UPDATE `videos` SET `comment_count`=comment_count + 1,`updated_at`='2022-05-27 01:44:48.166' WHERE id = 2 AND `videos`.`deleted_at` IS NULL

2022/05/27 01:44:50 E:/summerByteDance/DouYin_demo/app/services/comment.go:87
[1.475ms] [rows:1] SELECT
    c.id AS id,
    u.id AS user_id,
    u.name AS user_name,
    u.follow_count AS follow_count,
    u.follower_count AS follower_count,
    IF(r.id IS NULL,false,true) AS is_follow,
    c.comment_text AS content,
    c.created_at AS create_date
FROM comments c
LEFT JOIN users u ON c.user_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE c.video_id=2
ORDER BY c.updated_at;

2022/05/27 01:44:57 E:/summerByteDance/DouYin_demo/app/services/favorite.go:78
[1.337ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/27 01:45:00 E:/summerByteDance/DouYin_demo/app/services/favorite.go:78
[1.555ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/27 01:45:01 E:/summerByteDance/DouYin_demo/app/services/favorite.go:78
[1.079ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/27 01:45:02 E:/summerByteDance/DouYin_demo/app/services/favorite.go:78
[0.723ms] [rows:0] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 3
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 3
    )
ORDER BY v.created_at;

2022/05/27 01:45:04 E:/summerByteDance/DouYin_demo/app/services/favorite.go:78
[0.764ms] [rows:0] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 3
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 3
    )
ORDER BY v.created_at;

2022/05/27 01:45:04 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.864ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 21:20:59'
LIMIT 30;

2022/05/27 01:45:04 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 1

2022/05/31 03:42:25 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.508ms] [rows:-] SELECT DATABASE()

2022/05/31 03:42:26 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[21.613ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/31 03:42:26 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[4.710ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/31 03:42:26 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.514ms] [rows:-] SELECT DATABASE()

2022/05/31 03:42:26 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.700ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/31 03:42:26 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[10.480ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/31 03:42:26 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[26.917ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/31 03:42:26 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[42.875ms] [rows:0] ALTER TABLE `users` MODIFY COLUMN `is_follow` boolean NOT NULL DEFAULT false COMMENT '是否关注'

2022/05/31 03:42:26 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/31 03:42:26 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.912ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/31 03:42:26 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.511ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/31 03:42:26 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/31 03:42:26 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.511ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/31 03:42:26 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.337ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND table_type = 'BASE TABLE'

2022/05/31 03:42:26 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/31 03:42:26 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.509ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/31 03:42:26 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[1.619ms] [rows:-] SELECT * FROM `videos` LIMIT 1

2022/05/31 03:42:26 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[9.945ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'videos' ORDER BY ORDINAL_POSITION

2022/05/31 03:42:26 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[17.467ms] [rows:0] ALTER TABLE `videos` MODIFY COLUMN `is_favorite` boolean NOT NULL DEFAULT false COMMENT '是否点赞'

2022/05/31 03:42:26 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/31 03:42:26 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.510ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/31 03:42:26 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_disk_type'

2022/05/31 03:42:26 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.509ms] [rows:-] SELECT DATABASE()

2022/05/31 03:42:26 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.799ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/31 03:42:26 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_deleted_at'

2022/05/31 03:42:26 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.514ms] [rows:-] SELECT DATABASE()

2022/05/31 03:42:26 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.520ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/31 03:42:26 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.875ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND table_type = 'BASE TABLE'

2022/05/31 03:42:26 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/31 03:42:26 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.550ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/31 03:42:26 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[2.502ms] [rows:-] SELECT * FROM `comments` LIMIT 1

2022/05/31 03:42:26 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[13.611ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'comments' ORDER BY ORDINAL_POSITION

2022/05/31 03:42:26 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/31 03:42:26 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.945ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/31 03:42:26 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND index_name = 'idx_comments_deleted_at'

2022/05/31 03:42:26 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/31 03:42:26 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.000ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/31 03:42:26 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND table_type = 'BASE TABLE'

2022/05/31 03:42:26 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/31 03:42:26 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.820ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/31 03:42:26 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.616ms] [rows:-] SELECT * FROM `favorites` LIMIT 1

2022/05/31 03:42:26 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[8.497ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' ORDER BY ORDINAL_POSITION

2022/05/31 03:42:26 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/31 03:42:26 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.510ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/31 03:42:26 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND index_name = 'idx_favorites_deleted_at'

2022/05/31 03:42:26 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/31 03:42:26 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.942ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/31 03:42:26 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND table_type = 'BASE TABLE'

2022/05/31 03:42:26 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/31 03:42:26 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.929ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/31 03:42:26 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `relations` LIMIT 1

2022/05/31 03:42:26 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[10.681ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'relations' ORDER BY ORDINAL_POSITION

2022/05/31 03:42:26 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/31 03:42:26 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.509ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/31 03:42:26 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND index_name = 'idx_relations_deleted_at'

2022/05/31 03:42:38 E:/summerByteDance/DouYin_demo/app/services/feed.go:37
[11.404ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-31 03:42:36.282'
LIMIT 30;

2022/05/31 03:42:38 E:/summerByteDance/DouYin_demo/app/services/feed.go:49
[2.991ms] [rows:1] SELECT created_at FROM videos WHERE id = 5

2022/05/31 03:42:38 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[7.859ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/31 03:42:50 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[26.009ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/31 03:42:54 E:/summerByteDance/DouYin_demo/app/services/feed.go:37
[0.998ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-31 03:42:52.169'
LIMIT 30;

2022/05/31 03:42:54 E:/summerByteDance/DouYin_demo/app/services/feed.go:49
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 5

2022/05/31 03:42:54 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[1.546ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/31 03:42:54 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[1.244ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/31 03:43:03 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[2.020ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/31 03:43:03 E:/summerByteDance/DouYin_demo/app/services/user.go:48
[1.013ms] [rows:1] SELECT * FROM `users` WHERE `users`.`id` = 1 AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/31 03:43:03 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[0.621ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/31 03:43:03 E:/summerByteDance/DouYin_demo/app/services/publish.go:94
[1.129ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/31 03:43:06 E:/summerByteDance/DouYin_demo/app/services/user.go:48
[0.526ms] [rows:1] SELECT * FROM `users` WHERE `users`.`id` = 1 AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/31 03:43:06 E:/summerByteDance/DouYin_demo/app/services/publish.go:94
[0.815ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/31 03:43:06 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[34.045ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/31 03:43:12 E:/summerByteDance/DouYin_demo/app/services/feed.go:37
[0.000ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-31 03:43:10.277'
LIMIT 30;

2022/05/31 03:43:12 E:/summerByteDance/DouYin_demo/app/services/feed.go:49
[1.501ms] [rows:1] SELECT created_at FROM videos WHERE id = 5

2022/05/31 03:43:12 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[4.503ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/31 03:43:12 E:/summerByteDance/DouYin_demo/app/services/publish.go:94
[23.943ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/31 03:43:14 E:/summerByteDance/DouYin_demo/app/services/publish.go:94
[25.168ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/31 03:43:14 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[25.730ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/31 03:44:11 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[0.511ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/31 03:44:13 E:/summerByteDance/DouYin_demo/app/services/feed.go:37
[0.339ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-31 03:44:11.874'
LIMIT 30;

2022/05/31 03:44:13 E:/summerByteDance/DouYin_demo/app/services/feed.go:49
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 5

2022/05/31 03:44:14 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[0.512ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/31 03:44:14 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[21.017ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/31 03:44:23 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[0.689ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/31 03:44:23 E:/summerByteDance/DouYin_demo/app/services/user.go:48
[0.600ms] [rows:1] SELECT * FROM `users` WHERE `users`.`id` = 1 AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/31 03:45:35 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/31 03:45:35 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.231ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/31 03:45:35 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/31 03:45:35 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/31 03:45:35 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.549ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/31 03:45:35 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/31 03:45:35 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[15.169ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/31 03:45:35 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[9.486ms] [rows:0] ALTER TABLE `users` MODIFY COLUMN `is_follow` boolean NOT NULL DEFAULT false COMMENT '是否关注'

2022/05/31 03:45:35 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/31 03:45:35 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.544ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/31 03:45:35 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/31 03:45:35 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/31 03:45:35 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.541ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/31 03:45:35 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND table_type = 'BASE TABLE'

2022/05/31 03:45:35 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/31 03:45:35 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.541ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/31 03:45:35 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.062ms] [rows:-] SELECT * FROM `videos` LIMIT 1

2022/05/31 03:45:35 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[9.882ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'videos' ORDER BY ORDINAL_POSITION

2022/05/31 03:45:35 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[7.045ms] [rows:0] ALTER TABLE `videos` MODIFY COLUMN `is_favorite` boolean NOT NULL DEFAULT false COMMENT '是否点赞'

2022/05/31 03:45:35 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/31 03:45:35 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.553ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/31 03:45:35 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_disk_type'

2022/05/31 03:45:35 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/31 03:45:35 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.552ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/31 03:45:35 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.163ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_deleted_at'

2022/05/31 03:45:35 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/31 03:45:35 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.550ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/31 03:45:35 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND table_type = 'BASE TABLE'

2022/05/31 03:45:35 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/31 03:45:35 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.510ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/31 03:45:35 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `comments` LIMIT 1

2022/05/31 03:45:35 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[10.269ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'comments' ORDER BY ORDINAL_POSITION

2022/05/31 03:45:35 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/31 03:45:35 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.202ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/31 03:45:35 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND index_name = 'idx_comments_deleted_at'

2022/05/31 03:45:35 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/31 03:45:35 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.553ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/31 03:45:35 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.288ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND table_type = 'BASE TABLE'

2022/05/31 03:45:35 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/31 03:45:35 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.127ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/31 03:45:35 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `favorites` LIMIT 1

2022/05/31 03:45:35 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[8.519ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' ORDER BY ORDINAL_POSITION

2022/05/31 03:45:35 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/31 03:45:35 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.515ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/31 03:45:35 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND index_name = 'idx_favorites_deleted_at'

2022/05/31 03:45:35 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/31 03:45:35 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.900ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/31 03:45:35 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND table_type = 'BASE TABLE'

2022/05/31 03:45:35 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/31 03:45:35 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.556ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/31 03:45:35 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.345ms] [rows:-] SELECT * FROM `relations` LIMIT 1

2022/05/31 03:45:35 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[5.067ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'relations' ORDER BY ORDINAL_POSITION

2022/05/31 03:45:35 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/31 03:45:35 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.545ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/31 03:45:35 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND index_name = 'idx_relations_deleted_at'

2022/05/31 03:45:35 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[0.520ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/31 03:45:35 E:/summerByteDance/DouYin_demo/app/services/publish.go:94
[1.343ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/31 03:45:36 E:/summerByteDance/DouYin_demo/app/services/feed.go:37
[1.002ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-31 03:45:34.099'
LIMIT 30;

2022/05/31 03:45:36 E:/summerByteDance/DouYin_demo/app/services/feed.go:49
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 5

2022/05/31 03:45:36 E:/summerByteDance/DouYin_demo/app/services/publish.go:94
[0.999ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/31 03:45:36 E:/summerByteDance/DouYin_demo/app/services/publish.go:94
[1.832ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/31 03:45:36 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[0.649ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/31 03:45:36 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[26.618ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/31 03:45:46 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[1.783ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/31 03:45:46 E:/summerByteDance/DouYin_demo/app/services/user.go:48
[0.560ms] [rows:1] SELECT * FROM `users` WHERE `users`.`id` = 1 AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/31 03:45:55 E:/summerByteDance/DouYin_demo/app/services/feed.go:37
[0.865ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-31 03:45:53.681'
LIMIT 30;

2022/05/31 03:45:55 E:/summerByteDance/DouYin_demo/app/services/feed.go:49
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 5

2022/05/31 03:45:56 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[1.994ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/31 03:45:56 E:/summerByteDance/DouYin_demo/app/services/publish.go:94
[1.614ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/31 03:45:57 E:/summerByteDance/DouYin_demo/app/services/publish.go:94
[1.877ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/31 03:45:57 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[1.905ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/31 03:45:59 E:/summerByteDance/DouYin_demo/app/services/feed.go:37
[0.500ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-31 03:45:57.214'
LIMIT 30;

2022/05/31 03:45:59 E:/summerByteDance/DouYin_demo/app/services/feed.go:49
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 5

2022/05/31 03:45:59 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[0.000ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/31 03:45:59 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[3.226ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/31 03:45:59 E:/summerByteDance/DouYin_demo/app/services/publish.go:94
[1.045ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/31 03:45:59 E:/summerByteDance/DouYin_demo/app/services/publish.go:94
[0.643ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/31 03:46:07 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[0.935ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/31 03:46:07 E:/summerByteDance/DouYin_demo/app/services/user.go:48
[0.519ms] [rows:1] SELECT * FROM `users` WHERE `users`.`id` = 1 AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/31 03:46:20 E:/summerByteDance/DouYin_demo/app/services/publish.go:70
[13.706ms] [rows:1] INSERT INTO `videos` (`author_id`,`play_url`,`cover_url`,`favorite_count`,`comment_count`,`is_favorite`,`disk_type`,`src_type`,`created_at`,`updated_at`,`deleted_at`) VALUES (1,'http://192.168.0.107:8888/storage/local/testaaa/777121c1-362a-464b-b337-2bfb7d8aeda8.MP4','',0,0,false,'local',1,'2022-05-31 03:46:20.277','2022-05-31 03:46:20.277',NULL)

2022/05/31 04:12:40 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/31 04:12:40 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[3.414ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/31 04:12:40 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/31 04:12:40 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/31 04:12:40 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.445ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/31 04:12:40 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.867ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/31 04:12:40 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[14.385ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/31 04:12:40 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[14.937ms] [rows:0] ALTER TABLE `users` MODIFY COLUMN `is_follow` boolean NOT NULL DEFAULT false COMMENT '是否关注'

2022/05/31 04:12:40 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.306ms] [rows:-] SELECT DATABASE()

2022/05/31 04:12:40 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.649ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/31 04:12:40 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.504ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/31 04:12:40 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/31 04:12:40 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.538ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/31 04:12:40 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.133ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND table_type = 'BASE TABLE'

2022/05/31 04:12:40 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/31 04:12:40 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.667ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/31 04:12:40 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `videos` LIMIT 1

2022/05/31 04:12:40 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[8.763ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'videos' ORDER BY ORDINAL_POSITION

2022/05/31 04:12:40 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[7.518ms] [rows:0] ALTER TABLE `videos` MODIFY COLUMN `is_favorite` boolean NOT NULL DEFAULT false COMMENT '是否点赞'

2022/05/31 04:12:40 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.722ms] [rows:-] SELECT DATABASE()

2022/05/31 04:12:40 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.505ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/31 04:12:40 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_deleted_at'

2022/05/31 04:12:40 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/31 04:12:40 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.610ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/31 04:12:40 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_disk_type'

2022/05/31 04:12:40 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/31 04:12:40 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.547ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/31 04:12:40 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[1.212ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND table_type = 'BASE TABLE'

2022/05/31 04:12:40 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/31 04:12:40 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.509ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/31 04:12:40 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `comments` LIMIT 1

2022/05/31 04:12:40 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[8.647ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'comments' ORDER BY ORDINAL_POSITION

2022/05/31 04:12:40 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.095ms] [rows:-] SELECT DATABASE()

2022/05/31 04:12:40 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.365ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/31 04:12:40 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.854ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND index_name = 'idx_comments_deleted_at'

2022/05/31 04:12:40 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/31 04:12:40 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.072ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/31 04:12:40 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.053ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND table_type = 'BASE TABLE'

2022/05/31 04:12:40 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.504ms] [rows:-] SELECT DATABASE()

2022/05/31 04:12:40 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.659ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/31 04:12:40 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `favorites` LIMIT 1

2022/05/31 04:12:40 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[10.011ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' ORDER BY ORDINAL_POSITION

2022/05/31 04:12:40 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/31 04:12:40 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.504ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/31 04:12:40 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND index_name = 'idx_favorites_deleted_at'

2022/05/31 04:12:40 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.504ms] [rows:-] SELECT DATABASE()

2022/05/31 04:12:40 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.575ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/31 04:12:40 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.223ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND table_type = 'BASE TABLE'

2022/05/31 04:12:40 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/31 04:12:40 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.545ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/31 04:12:40 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.504ms] [rows:-] SELECT * FROM `relations` LIMIT 1

2022/05/31 04:12:40 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[8.652ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'relations' ORDER BY ORDINAL_POSITION

2022/05/31 04:12:40 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/31 04:12:40 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.005ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/31 04:12:40 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND index_name = 'idx_relations_deleted_at'

2022/05/31 04:13:05 E:/summerByteDance/DouYin_demo/app/services/feed.go:37
[3.275ms] [rows:5] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-31 04:13:04.226'
LIMIT 30;

2022/05/31 04:13:05 E:/summerByteDance/DouYin_demo/app/services/feed.go:49
[1.021ms] [rows:1] SELECT created_at FROM videos WHERE id = 5

2022/05/31 04:13:06 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[3.010ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/31 04:13:06 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[2.122ms] [rows:3] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/31 04:13:07 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[0.726ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/31 04:13:07 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[0.520ms] [rows:3] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/31 04:13:09 E:/summerByteDance/DouYin_demo/app/services/feed.go:37
[0.000ms] [rows:5] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-31 04:13:08.033'
LIMIT 30;

2022/05/31 04:13:09 E:/summerByteDance/DouYin_demo/app/services/feed.go:49
[0.817ms] [rows:1] SELECT created_at FROM videos WHERE id = 5

2022/05/31 04:13:09 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[1.290ms] [rows:3] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/31 04:13:09 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[0.524ms] [rows:3] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/31 04:13:09 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[0.836ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/31 04:13:09 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[0.792ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/31 04:13:18 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[1.650ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/31 04:13:18 E:/summerByteDance/DouYin_demo/app/services/user.go:48
[0.814ms] [rows:1] SELECT * FROM `users` WHERE `users`.`id` = 1 AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/31 04:13:28 E:/summerByteDance/DouYin_demo/app/services/publish.go:71
[6.189ms] [rows:1] INSERT INTO `videos` (`author_id`,`play_url`,`cover_url`,`favorite_count`,`comment_count`,`is_favorite`,`disk_type`,`src_type`,`created_at`,`updated_at`,`deleted_at`) VALUES (1,'http://192.168.0.107:8888/storage/local/covertest/9fdb5e2d-d8c2-447f-8cd7-0a0e129e40cb.MP4','http://192.168.0.107:8888/storage/app/public/local/covertest/./storage/app/public/local/covertest/.jpeg',0,0,false,'local',1,'2022-05-31 04:13:28.72','2022-05-31 04:13:28.72',NULL)

2022/05/31 04:14:20 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[0.693ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/31 04:14:20 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[1.519ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/31 04:14:26 E:/summerByteDance/DouYin_demo/app/services/feed.go:37
[0.150ms] [rows:6] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-31 04:14:24.754'
LIMIT 30;

2022/05/31 04:14:26 E:/summerByteDance/DouYin_demo/app/services/feed.go:49
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 5

2022/05/31 04:14:26 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[0.000ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/31 04:14:26 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[0.608ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/31 04:14:27 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[0.849ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/31 04:14:27 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[0.694ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/31 04:14:28 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[0.843ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/31 04:14:28 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[17.110ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/31 04:14:30 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[1.782ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/31 04:14:30 E:/summerByteDance/DouYin_demo/app/services/feed.go:37
[0.808ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 21:24:52'
LIMIT 30;

2022/05/31 04:14:30 E:/summerByteDance/DouYin_demo/app/services/feed.go:49
[0.514ms] [rows:1] SELECT created_at FROM videos WHERE id = 2

2022/05/31 04:14:30 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[1.827ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/31 04:14:31 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[1.157ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 3
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 3
ORDER BY v.created_at

2022/05/31 04:14:31 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[1.693ms] [rows:0] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 3
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 3
    )
ORDER BY v.created_at;

2022/05/31 04:14:33 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[0.892ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/31 04:14:33 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[1.198ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/31 04:20:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.782ms] [rows:-] SELECT DATABASE()

2022/05/31 04:20:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.585ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/31 04:20:37 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/31 04:20:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/31 04:20:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.514ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/31 04:20:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[1.507ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/31 04:20:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[20.497ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/31 04:20:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[13.477ms] [rows:0] ALTER TABLE `users` MODIFY COLUMN `is_follow` boolean NOT NULL DEFAULT false COMMENT '是否关注'

2022/05/31 04:20:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/31 04:20:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.514ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/31 04:20:37 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/31 04:20:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/31 04:20:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.510ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/31 04:20:37 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.528ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND table_type = 'BASE TABLE'

2022/05/31 04:20:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/31 04:20:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.519ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/31 04:20:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `videos` LIMIT 1

2022/05/31 04:20:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[6.779ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'videos' ORDER BY ORDINAL_POSITION

2022/05/31 04:20:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[11.482ms] [rows:0] ALTER TABLE `videos` MODIFY COLUMN `is_favorite` boolean NOT NULL DEFAULT false COMMENT '是否点赞'

2022/05/31 04:20:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/31 04:20:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.508ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/31 04:20:37 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_deleted_at'

2022/05/31 04:20:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/31 04:20:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.508ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/31 04:20:37 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_disk_type'

2022/05/31 04:20:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/31 04:20:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.035ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/31 04:20:37 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.518ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND table_type = 'BASE TABLE'

2022/05/31 04:20:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/31 04:20:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.114ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/31 04:20:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.518ms] [rows:-] SELECT * FROM `comments` LIMIT 1

2022/05/31 04:20:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[7.499ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'comments' ORDER BY ORDINAL_POSITION

2022/05/31 04:20:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.577ms] [rows:-] SELECT DATABASE()

2022/05/31 04:20:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.517ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/31 04:20:37 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND index_name = 'idx_comments_deleted_at'

2022/05/31 04:20:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/31 04:20:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.512ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/31 04:20:37 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.411ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND table_type = 'BASE TABLE'

2022/05/31 04:20:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.508ms] [rows:-] SELECT DATABASE()

2022/05/31 04:20:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.559ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/31 04:20:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `favorites` LIMIT 1

2022/05/31 04:20:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[6.413ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' ORDER BY ORDINAL_POSITION

2022/05/31 04:20:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/31 04:20:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.510ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/31 04:20:37 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND index_name = 'idx_favorites_deleted_at'

2022/05/31 04:20:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/31 04:20:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.617ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/31 04:20:37 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.509ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND table_type = 'BASE TABLE'

2022/05/31 04:20:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.110ms] [rows:-] SELECT DATABASE()

2022/05/31 04:20:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.509ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/31 04:20:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `relations` LIMIT 1

2022/05/31 04:20:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[7.489ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'relations' ORDER BY ORDINAL_POSITION

2022/05/31 04:20:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/31 04:20:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.924ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/31 04:20:37 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND index_name = 'idx_relations_deleted_at'

2022/05/31 04:20:38 E:/summerByteDance/DouYin_demo/app/services/feed.go:37
[2.140ms] [rows:6] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-31 04:20:36.506'
LIMIT 30;

2022/05/31 04:20:38 E:/summerByteDance/DouYin_demo/app/services/feed.go:49
[1.254ms] [rows:1] SELECT created_at FROM videos WHERE id = 5

2022/05/31 04:20:38 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[1.383ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/31 04:20:38 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[0.996ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/31 04:20:38 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[0.725ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/31 04:20:38 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[0.774ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/31 04:20:55 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[0.000ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/31 04:20:55 E:/summerByteDance/DouYin_demo/app/services/user.go:48
[0.520ms] [rows:1] SELECT * FROM `users` WHERE `users`.`id` = 1 AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/31 04:21:13 E:/summerByteDance/DouYin_demo/app/services/publish.go:71
[2.995ms] [rows:1] INSERT INTO `videos` (`author_id`,`play_url`,`cover_url`,`favorite_count`,`comment_count`,`is_favorite`,`disk_type`,`src_type`,`created_at`,`updated_at`,`deleted_at`) VALUES (1,'http://192.168.0.107:8888/storage/local/covertest2/4a0dcbb2-2090-4885-974e-ed3e21e223f1.MP4','http://192.168.0.107:8888/storage/app/public/local/covertest2/cover.jpeg',0,0,false,'local',1,'2022-05-31 04:21:13.755','2022-05-31 04:21:13.755',NULL)

2022/05/31 04:21:24 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[0.521ms] [rows:5] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/31 04:21:24 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[0.509ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/31 04:23:24 E:/summerByteDance/DouYin_demo/app/services/feed.go:37
[1.342ms] [rows:7] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-31 04:23:22.758'
LIMIT 30;

2022/05/31 04:23:24 E:/summerByteDance/DouYin_demo/app/services/feed.go:49
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 5

2022/05/31 04:23:24 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[1.342ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/31 04:23:24 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[0.841ms] [rows:5] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/31 04:24:22 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[1.302ms] [rows:5] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/31 04:24:22 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[1.001ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/31 04:24:29 E:/summerByteDance/DouYin_demo/app/services/feed.go:37
[1.360ms] [rows:7] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-31 04:24:27.991'
LIMIT 30;

2022/05/31 04:24:29 E:/summerByteDance/DouYin_demo/app/services/feed.go:49
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 5

2022/05/31 04:24:29 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[2.040ms] [rows:5] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/31 04:24:29 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[0.521ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/31 04:24:29 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[0.517ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/31 04:24:29 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[0.890ms] [rows:5] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/31 04:24:41 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[0.000ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/31 04:24:41 E:/summerByteDance/DouYin_demo/app/services/user.go:48
[0.664ms] [rows:1] SELECT * FROM `users` WHERE `users`.`id` = 1 AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/31 04:24:41 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[1.722ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/31 04:24:41 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[20.659ms] [rows:5] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/31 04:25:09 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[1.107ms] [rows:5] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/31 04:25:09 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[0.529ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/31 04:25:11 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[0.622ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/31 04:25:11 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[1.329ms] [rows:5] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/31 04:25:18 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[0.512ms] [rows:5] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/31 04:25:18 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[2.432ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/31 04:30:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/31 04:30:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.760ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/31 04:30:16 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/31 04:30:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/31 04:30:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.517ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/31 04:30:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.507ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/31 04:30:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[10.876ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/31 04:30:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[8.210ms] [rows:0] ALTER TABLE `users` MODIFY COLUMN `is_follow` boolean NOT NULL DEFAULT false COMMENT '是否关注'

2022/05/31 04:30:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.051ms] [rows:-] SELECT DATABASE()

2022/05/31 04:30:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.509ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/31 04:30:16 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/31 04:30:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.572ms] [rows:-] SELECT DATABASE()

2022/05/31 04:30:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.762ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/31 04:30:16 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND table_type = 'BASE TABLE'

2022/05/31 04:30:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.523ms] [rows:-] SELECT DATABASE()

2022/05/31 04:30:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.182ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/31 04:30:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `videos` LIMIT 1

2022/05/31 04:30:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[6.283ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'videos' ORDER BY ORDINAL_POSITION

2022/05/31 04:30:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[9.539ms] [rows:0] ALTER TABLE `videos` MODIFY COLUMN `is_favorite` boolean NOT NULL DEFAULT false COMMENT '是否点赞'

2022/05/31 04:30:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.218ms] [rows:-] SELECT DATABASE()

2022/05/31 04:30:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.360ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/31 04:30:16 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.539ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_disk_type'

2022/05/31 04:30:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.289ms] [rows:-] SELECT DATABASE()

2022/05/31 04:30:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.510ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/31 04:30:16 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_deleted_at'

2022/05/31 04:30:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/31 04:30:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.264ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/31 04:30:16 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.066ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND table_type = 'BASE TABLE'

2022/05/31 04:30:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/31 04:30:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.621ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/31 04:30:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `comments` LIMIT 1

2022/05/31 04:30:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[10.533ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'comments' ORDER BY ORDINAL_POSITION

2022/05/31 04:30:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/31 04:30:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.514ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/31 04:30:16 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND index_name = 'idx_comments_deleted_at'

2022/05/31 04:30:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/31 04:30:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.038ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/31 04:30:16 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND table_type = 'BASE TABLE'

2022/05/31 04:30:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/31 04:30:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.061ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/31 04:30:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `favorites` LIMIT 1

2022/05/31 04:30:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[6.075ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' ORDER BY ORDINAL_POSITION

2022/05/31 04:30:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/31 04:30:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.221ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/31 04:30:16 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND index_name = 'idx_favorites_deleted_at'

2022/05/31 04:30:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/31 04:30:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.079ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/31 04:30:16 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND table_type = 'BASE TABLE'

2022/05/31 04:30:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.016ms] [rows:-] SELECT DATABASE()

2022/05/31 04:30:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.507ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/31 04:30:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.273ms] [rows:-] SELECT * FROM `relations` LIMIT 1

2022/05/31 04:30:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[6.490ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'relations' ORDER BY ORDINAL_POSITION

2022/05/31 04:30:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/31 04:30:16 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.854ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/31 04:30:16 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND index_name = 'idx_relations_deleted_at'

2022/05/31 04:30:18 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[0.524ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/31 04:30:18 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[18.722ms] [rows:3] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/31 04:30:23 E:/summerByteDance/DouYin_demo/app/services/feed.go:37
[0.000ms] [rows:5] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-31 04:30:22.077'
LIMIT 30;

2022/05/31 04:30:23 E:/summerByteDance/DouYin_demo/app/services/feed.go:49
[0.512ms] [rows:1] SELECT created_at FROM videos WHERE id = 5

2022/05/31 04:30:23 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[0.744ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/31 04:30:23 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[1.352ms] [rows:3] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/31 04:30:23 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[0.818ms] [rows:3] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/31 04:30:23 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[1.183ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/31 04:30:34 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[1.374ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/31 04:30:34 E:/summerByteDance/DouYin_demo/app/services/user.go:48
[0.513ms] [rows:1] SELECT * FROM `users` WHERE `users`.`id` = 1 AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/05/31 04:30:45 E:/summerByteDance/DouYin_demo/app/services/publish.go:71
[5.221ms] [rows:1] INSERT INTO `videos` (`author_id`,`play_url`,`cover_url`,`favorite_count`,`comment_count`,`is_favorite`,`disk_type`,`src_type`,`created_at`,`updated_at`,`deleted_at`) VALUES (1,'http://192.168.0.107:8888/storage/local/coverend/eb41a65c-8e40-4545-b2d4-d7cb6d62653b.MP4','http://192.168.0.107:8888/storage/local/coverend/cover.jpeg',0,0,false,'local',1,'2022-05-31 04:30:45.856','2022-05-31 04:30:45.856',NULL)

2022/05/31 04:30:54 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[1.430ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/31 04:30:54 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[0.525ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/31 04:31:03 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[1.591ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/31 04:31:03 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[0.879ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/31 04:31:06 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[1.995ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/31 04:31:06 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[1.514ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/31 04:31:06 E:/summerByteDance/DouYin_demo/app/services/feed.go:37
[0.750ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 21:24:52'
LIMIT 30;

2022/05/31 04:31:06 E:/summerByteDance/DouYin_demo/app/services/feed.go:49
[0.504ms] [rows:1] SELECT created_at FROM videos WHERE id = 2

2022/05/31 04:31:08 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[1.258ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 3
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 3
ORDER BY v.created_at

2022/05/31 04:31:08 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[0.000ms] [rows:0] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 3
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 3
    )
ORDER BY v.created_at;

2022/05/31 04:31:10 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[1.817ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 3
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 3
ORDER BY v.created_at

2022/05/31 04:31:10 E:/summerByteDance/DouYin_demo/app/services/feed.go:37
[0.736ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 21:20:59'
LIMIT 30;

2022/05/31 04:31:10 E:/summerByteDance/DouYin_demo/app/services/feed.go:49
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 1

2022/05/31 04:31:10 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[1.042ms] [rows:0] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 3
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 3
    )
ORDER BY v.created_at;

2022/05/31 04:31:12 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[0.630ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/31 04:31:12 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[0.633ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/31 04:31:12 E:/summerByteDance/DouYin_demo/app/services/feed.go:37
[0.868ms] [rows:0] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-24 02:23:38'
LIMIT 30;

2022/05/31 04:31:26 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[1.128ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 3
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 3
ORDER BY v.created_at

2022/05/31 04:31:26 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[0.846ms] [rows:0] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 3
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 3
    )
ORDER BY v.created_at;

2022/05/31 04:31:30 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[0.939ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/31 04:31:30 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[1.647ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/31 04:31:30 E:/summerByteDance/DouYin_demo/app/services/feed.go:37
[0.681ms] [rows:0] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-24 02:23:38'
LIMIT 30;

2022/05/31 04:31:32 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[0.865ms] [rows:0] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 3
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 3
    )
ORDER BY v.created_at;

2022/05/31 04:31:32 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[0.685ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 3
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 3
ORDER BY v.created_at

2022/05/31 04:31:32 E:/summerByteDance/DouYin_demo/app/services/feed.go:37
[0.547ms] [rows:0] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-24 02:23:38'
LIMIT 30;

2022/05/31 04:31:35 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[0.968ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/31 04:31:35 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[1.734ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/31 04:31:35 E:/summerByteDance/DouYin_demo/app/services/feed.go:37
[0.506ms] [rows:0] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-24 02:23:38'
LIMIT 30;

2022/05/31 04:31:43 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[3.127ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/31 04:31:43 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[1.546ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/31 04:31:49 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[0.721ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/31 04:31:49 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[1.042ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/31 04:31:59 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[1.261ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/31 04:31:59 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[1.567ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/31 04:32:04 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[0.999ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/31 04:32:04 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[0.000ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/31 04:32:06 E:/summerByteDance/DouYin_demo/app/services/comment.go:93
[3.488ms] [rows:2] SELECT
    c.id AS id,
    u.id AS user_id,
    u.name AS user_name,
    u.follow_count AS follow_count,
    u.follower_count AS follower_count,
    IF(r.id IS NULL,false,true) AS is_follow,
    c.comment_text AS content,
    c.created_at AS create_date
FROM comments c
LEFT JOIN users u ON c.user_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE c.video_id=1
ORDER BY c.updated_at;

2022/05/31 04:32:25 E:/summerByteDance/DouYin_demo/app/services/relation.go:121
[0.988ms] [rows:4] SELECT
    u.id AS id,
    u.name AS name,
    u.follow_count AS follow_count,
    u.follower_count AS follower_count,
    IF(r.id IS NULL,false,true) AS is_follow
FROM users u
LEFT JOIN relations r ON u.id = r.follow_id AND r.user_id=1
WHERE u.id IN (
    SELECT r2.follow_id
    FROM relations r2
    WHERE r2.user_id=1
    );

2022/05/31 04:32:40 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[1.367ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 3
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 3
ORDER BY v.created_at

2022/05/31 04:32:40 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[1.045ms] [rows:0] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 3
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 3
    )
ORDER BY v.created_at;

2022/05/31 04:32:40 E:/summerByteDance/DouYin_demo/app/services/feed.go:37
[0.000ms] [rows:0] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-24 02:23:38'
LIMIT 30;

2022/05/31 04:45:50 E:/summerByteDance/DouYin_demo/app/services/feed.go:37
[0.684ms] [rows:0] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-24 02:23:38'
LIMIT 30;

2022/05/31 04:46:00 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[1.676ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/31 04:46:00 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[1.579ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/31 04:46:00 E:/summerByteDance/DouYin_demo/app/services/feed.go:37
[0.000ms] [rows:0] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-24 02:23:38'
LIMIT 30;

2022/05/31 04:46:28 E:/summerByteDance/DouYin_demo/app/services/comment.go:93
[0.800ms] [rows:2] SELECT
    c.id AS id,
    u.id AS user_id,
    u.name AS user_name,
    u.follow_count AS follow_count,
    u.follower_count AS follower_count,
    IF(r.id IS NULL,false,true) AS is_follow,
    c.comment_text AS content,
    c.created_at AS create_date
FROM comments c
LEFT JOIN users u ON c.user_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE c.video_id=1
ORDER BY c.updated_at;

2022/05/31 04:46:36 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[1.403ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 3
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 3
ORDER BY v.created_at

2022/05/31 04:46:36 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[1.013ms] [rows:0] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 3
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 3
    )
ORDER BY v.created_at;

2022/05/31 04:46:36 E:/summerByteDance/DouYin_demo/app/services/feed.go:37
[0.378ms] [rows:0] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-24 02:23:38'
LIMIT 30;

2022/05/31 04:46:37 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[0.696ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/31 04:46:37 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[1.706ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/31 04:46:37 E:/summerByteDance/DouYin_demo/app/services/feed.go:37
[0.822ms] [rows:0] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-24 02:23:38'
LIMIT 30;

2022/05/31 04:46:45 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[0.514ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/31 04:46:45 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[1.795ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/31 04:46:52 E:/summerByteDance/DouYin_demo/app/services/feed.go:37
[1.065ms] [rows:6] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-31 04:46:51.221'
LIMIT 30;

2022/05/31 04:46:52 E:/summerByteDance/DouYin_demo/app/services/feed.go:49
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 5

2022/05/31 04:46:53 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[0.882ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/31 04:46:53 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[1.463ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/31 04:46:56 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[0.973ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/31 04:46:56 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[0.519ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/31 04:46:58 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[0.941ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/31 04:46:58 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[1.566ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/31 04:47:01 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[0.514ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/31 04:47:01 E:/summerByteDance/DouYin_demo/app/services/feed.go:37
[1.992ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 21:24:52'
LIMIT 30;

2022/05/31 04:47:01 E:/summerByteDance/DouYin_demo/app/services/feed.go:49
[0.762ms] [rows:1] SELECT created_at FROM videos WHERE id = 2

2022/05/31 04:47:01 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[0.910ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/31 04:47:03 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[1.573ms] [rows:0] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 3
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 3
    )
ORDER BY v.created_at;

2022/05/31 04:47:03 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[1.163ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 3
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 3
ORDER BY v.created_at

2022/05/31 04:47:05 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[1.148ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 3
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 3
ORDER BY v.created_at

2022/05/31 04:47:05 E:/summerByteDance/DouYin_demo/app/services/feed.go:37
[0.788ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 21:20:59'
LIMIT 30;

2022/05/31 04:47:05 E:/summerByteDance/DouYin_demo/app/services/feed.go:49
[0.526ms] [rows:1] SELECT created_at FROM videos WHERE id = 1

2022/05/31 04:47:05 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[1.046ms] [rows:0] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 3
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 3
    )
ORDER BY v.created_at;

2022/05/31 04:47:07 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[0.582ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/31 04:47:07 E:/summerByteDance/DouYin_demo/app/services/feed.go:37
[0.511ms] [rows:0] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-24 02:23:38'
LIMIT 30;

2022/05/31 04:47:07 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[2.515ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/31 04:47:09 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[0.959ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 3
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 3
ORDER BY v.created_at

2022/05/31 04:47:09 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[0.752ms] [rows:0] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 3
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 3
    )
ORDER BY v.created_at;

2022/05/31 04:47:09 E:/summerByteDance/DouYin_demo/app/services/feed.go:37
[0.591ms] [rows:0] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-24 02:23:38'
LIMIT 30;

2022/05/31 04:47:12 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[2.037ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/31 04:47:12 E:/summerByteDance/DouYin_demo/app/services/feed.go:37
[0.536ms] [rows:0] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-24 02:23:38'
LIMIT 30;

2022/05/31 04:47:12 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[1.056ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/31 04:47:45 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[13.870ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 3
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 3
ORDER BY v.created_at

2022/05/31 04:47:45 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[2.483ms] [rows:0] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 3
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 3
    )
ORDER BY v.created_at;

2022/05/31 04:47:45 E:/summerByteDance/DouYin_demo/app/services/feed.go:37
[0.650ms] [rows:0] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-24 02:23:38'
LIMIT 30;

2022/05/31 04:47:49 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[1.122ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/31 04:47:49 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[1.032ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/31 04:47:49 E:/summerByteDance/DouYin_demo/app/services/feed.go:37
[1.003ms] [rows:0] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-24 02:23:38'
LIMIT 30;

2022/05/31 04:50:36 E:/summerByteDance/DouYin_demo/app/services/feed.go:37
[0.763ms] [rows:0] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-24 02:23:38'
LIMIT 30;

2022/05/31 04:50:39 E:/summerByteDance/DouYin_demo/app/services/feed.go:37
[0.625ms] [rows:0] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-24 02:23:38'
LIMIT 30;

2022/05/31 04:59:14 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[2.629ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/31 04:59:14 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[3.676ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/31 04:59:16 E:/summerByteDance/DouYin_demo/app/services/relation.go:121
[0.931ms] [rows:4] SELECT
    u.id AS id,
    u.name AS name,
    u.follow_count AS follow_count,
    u.follower_count AS follower_count,
    IF(r.id IS NULL,false,true) AS is_follow
FROM users u
LEFT JOIN relations r ON u.id = r.follow_id AND r.user_id=1
WHERE u.id IN (
    SELECT r2.follow_id
    FROM relations r2
    WHERE r2.user_id=1
    );

2022/05/31 04:59:17 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[0.354ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/31 04:59:17 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[0.522ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/31 04:59:25 E:/summerByteDance/DouYin_demo/app/services/feed.go:37
[0.526ms] [rows:6] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-31 04:59:24.009'
LIMIT 30;

2022/05/31 04:59:25 E:/summerByteDance/DouYin_demo/app/services/feed.go:49
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 5

2022/05/31 04:59:25 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[1.085ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/31 04:59:25 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[1.067ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/31 04:59:31 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[0.000ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/31 04:59:31 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[0.576ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/31 04:59:36 E:/summerByteDance/DouYin_demo/app/services/feed.go:37
[1.280ms] [rows:6] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-31 04:59:35.299'
LIMIT 30;

2022/05/31 04:59:36 E:/summerByteDance/DouYin_demo/app/services/feed.go:49
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 5

2022/05/31 04:59:37 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[1.316ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/31 04:59:37 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[0.702ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/31 05:00:22 E:/summerByteDance/DouYin_demo/app/services/feed.go:37
[0.639ms] [rows:6] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-31 05:00:21.602'
LIMIT 30;

2022/05/31 05:00:22 E:/summerByteDance/DouYin_demo/app/services/feed.go:49
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 5

2022/05/31 05:00:23 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[1.539ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/31 05:00:23 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[1.930ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/31 05:00:24 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[1.236ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/31 05:00:24 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[0.901ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/31 05:00:45 E:/summerByteDance/DouYin_demo/app/services/relation.go:121
[0.743ms] [rows:4] SELECT
    u.id AS id,
    u.name AS name,
    u.follow_count AS follow_count,
    u.follower_count AS follower_count,
    IF(r.id IS NULL,false,true) AS is_follow
FROM users u
LEFT JOIN relations r ON u.id = r.follow_id AND r.user_id=1
WHERE u.id IN (
    SELECT r2.follow_id
    FROM relations r2
    WHERE r2.user_id=1
    );

2022/05/31 05:01:42 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[0.913ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/31 05:01:42 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[0.000ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/31 05:02:55 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[0.726ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/31 05:02:55 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[2.363ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/31 05:02:57 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[1.532ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/31 05:02:57 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[1.554ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/31 05:02:58 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[1.547ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/31 05:02:58 E:/summerByteDance/DouYin_demo/app/services/feed.go:37
[3.291ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 21:24:52'
LIMIT 30;

2022/05/31 05:02:58 E:/summerByteDance/DouYin_demo/app/services/feed.go:49
[0.513ms] [rows:1] SELECT created_at FROM videos WHERE id = 2

2022/05/31 05:02:58 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[0.954ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/31 05:02:59 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[1.723ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 3
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 3
ORDER BY v.created_at

2022/05/31 05:02:59 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[0.509ms] [rows:0] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 3
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 3
    )
ORDER BY v.created_at;

2022/05/31 05:03:01 E:/summerByteDance/DouYin_demo/app/services/relation.go:94
[8.210ms] [rows:1] SELECT * FROM `relations` WHERE (user_id = 1 and follow_id = 3) AND `relations`.`deleted_at` IS NULL ORDER BY `relations`.`id` LIMIT 1

2022/05/31 05:03:07 E:/summerByteDance/DouYin_demo/app/services/relation.go:94
[1.191ms] [rows:1] SELECT * FROM `relations` WHERE (user_id = 1 and follow_id = 3) AND `relations`.`deleted_at` IS NULL ORDER BY `relations`.`id` LIMIT 1

2022/05/31 05:03:10 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[2.490ms] [rows:0] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 3
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 3
    )
ORDER BY v.created_at;

2022/05/31 05:03:10 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[1.146ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 3
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 3
ORDER BY v.created_at

2022/05/31 05:03:10 E:/summerByteDance/DouYin_demo/app/services/feed.go:37
[0.569ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-25 21:20:59'
LIMIT 30;

2022/05/31 05:03:10 E:/summerByteDance/DouYin_demo/app/services/feed.go:49
[0.512ms] [rows:1] SELECT created_at FROM videos WHERE id = 1

2022/05/31 05:03:12 E:/summerByteDance/DouYin_demo/app/services/relation.go:94
[0.790ms] [rows:1] SELECT * FROM `relations` WHERE (user_id = 1 and follow_id = 3) AND `relations`.`deleted_at` IS NULL ORDER BY `relations`.`id` LIMIT 1

2022/05/31 05:03:37 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[1.335ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/31 05:03:37 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[1.123ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/31 05:03:39 E:/summerByteDance/DouYin_demo/app/services/relation.go:121
[0.998ms] [rows:2] SELECT
    u.id AS id,
    u.name AS name,
    u.follow_count AS follow_count,
    u.follower_count AS follower_count,
    IF(r.id IS NULL,false,true) AS is_follow
FROM users u
LEFT JOIN relations r ON u.id = r.follow_id AND r.user_id=1
WHERE u.id IN (
    SELECT r2.follow_id
    FROM relations r2
    WHERE r2.user_id=1
    );

2022/05/31 05:03:40 E:/summerByteDance/DouYin_demo/app/services/relation.go:130
[0.000ms] [rows:1] SELECT
    u.id AS id,
    u.name AS name,
    u.follow_count AS follow_count,
    u.follower_count AS follower_count,
    IF(r.id IS NULL,false,true) AS is_follow
FROM users u
LEFT JOIN relations r ON u.id = r.follow_id AND r.user_id=1
WHERE u.id IN (
    SELECT r2.user_id
    FROM relations r2
    WHERE r2.follow_id=1
    );

2022/05/31 05:03:42 E:/summerByteDance/DouYin_demo/app/services/relation.go:94
[1.063ms] [rows:1] SELECT * FROM `relations` WHERE (user_id = 1 and follow_id = 3) AND `relations`.`deleted_at` IS NULL ORDER BY `relations`.`id` LIMIT 1

2022/05/31 05:03:42 E:/summerByteDance/DouYin_demo/app/services/relation.go:78
[8.006ms] [rows:1] UPDATE `relations` SET `deleted_at`='2022-05-31 05:03:42.871' WHERE (user_id=1 AND follow_id=3) AND `relations`.`deleted_at` IS NULL

2022/05/31 05:03:42 E:/summerByteDance/DouYin_demo/app/services/relation.go:82
[4.697ms] [rows:1] UPDATE `users` SET `follower_count`=follower_count - 1,`updated_at`='2022-05-31 05:03:42.879' WHERE id = 3 AND `users`.`deleted_at` IS NULL

2022/05/31 05:03:42 E:/summerByteDance/DouYin_demo/app/services/relation.go:87
[2.931ms] [rows:1] UPDATE `users` SET `follow_count`=follow_count - 1,`updated_at`='2022-05-31 05:03:42.884' WHERE id = 1 AND `users`.`deleted_at` IS NULL

2022/05/31 05:03:44 E:/summerByteDance/DouYin_demo/app/services/relation.go:94
[1.190ms] [rows:1] SELECT * FROM `relations` WHERE (user_id = 1 and follow_id = 2) AND `relations`.`deleted_at` IS NULL ORDER BY `relations`.`id` LIMIT 1

2022/05/31 05:03:44 E:/summerByteDance/DouYin_demo/app/services/relation.go:78
[1.820ms] [rows:1] UPDATE `relations` SET `deleted_at`='2022-05-31 05:03:44.073' WHERE (user_id=1 AND follow_id=2) AND `relations`.`deleted_at` IS NULL

2022/05/31 05:03:44 E:/summerByteDance/DouYin_demo/app/services/relation.go:82
[2.667ms] [rows:1] UPDATE `users` SET `follower_count`=follower_count - 1,`updated_at`='2022-05-31 05:03:44.076' WHERE id = 2 AND `users`.`deleted_at` IS NULL

2022/05/31 05:03:44 E:/summerByteDance/DouYin_demo/app/services/relation.go:87
[1.758ms] [rows:1] UPDATE `users` SET `follow_count`=follow_count - 1,`updated_at`='2022-05-31 05:03:44.079' WHERE id = 1 AND `users`.`deleted_at` IS NULL

2022/05/31 05:03:47 E:/summerByteDance/DouYin_demo/app/services/relation.go:94 record not found
[1.453ms] [rows:0] SELECT * FROM `relations` WHERE (user_id = 1 and follow_id = 2) AND `relations`.`deleted_at` IS NULL ORDER BY `relations`.`id` LIMIT 1

2022/05/31 05:03:47 E:/summerByteDance/DouYin_demo/app/services/relation.go:54
[4.648ms] [rows:1] INSERT INTO `relations` (`user_id`,`follow_id`,`created_at`,`updated_at`,`deleted_at`) VALUES (1,2,'2022-05-31 05:03:47.493','2022-05-31 05:03:47.493',NULL)

2022/05/31 05:03:47 E:/summerByteDance/DouYin_demo/app/services/relation.go:58
[1.088ms] [rows:1] UPDATE `users` SET `follower_count`=follower_count + 1,`updated_at`='2022-05-31 05:03:47.497' WHERE id = 2 AND `users`.`deleted_at` IS NULL

2022/05/31 05:03:47 E:/summerByteDance/DouYin_demo/app/services/relation.go:63
[1.693ms] [rows:1] UPDATE `users` SET `follow_count`=follow_count + 1,`updated_at`='2022-05-31 05:03:47.499' WHERE id = 1 AND `users`.`deleted_at` IS NULL

2022/05/31 05:03:48 E:/summerByteDance/DouYin_demo/app/services/relation.go:94 record not found
[0.623ms] [rows:0] SELECT * FROM `relations` WHERE (user_id = 1 and follow_id = 3) AND `relations`.`deleted_at` IS NULL ORDER BY `relations`.`id` LIMIT 1

2022/05/31 05:03:48 E:/summerByteDance/DouYin_demo/app/services/relation.go:54
[1.897ms] [rows:1] INSERT INTO `relations` (`user_id`,`follow_id`,`created_at`,`updated_at`,`deleted_at`) VALUES (1,3,'2022-05-31 05:03:48.284','2022-05-31 05:03:48.284',NULL)

2022/05/31 05:03:48 E:/summerByteDance/DouYin_demo/app/services/relation.go:58
[2.364ms] [rows:1] UPDATE `users` SET `follower_count`=follower_count + 1,`updated_at`='2022-05-31 05:03:48.286' WHERE id = 3 AND `users`.`deleted_at` IS NULL

2022/05/31 05:03:48 E:/summerByteDance/DouYin_demo/app/services/relation.go:63
[3.215ms] [rows:1] UPDATE `users` SET `follow_count`=follow_count + 1,`updated_at`='2022-05-31 05:03:48.288' WHERE id = 1 AND `users`.`deleted_at` IS NULL

2022/05/31 05:04:21 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[0.583ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/31 05:04:21 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[1.210ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/31 05:04:23 E:/summerByteDance/DouYin_demo/app/services/relation.go:121
[1.716ms] [rows:4] SELECT
    u.id AS id,
    u.name AS name,
    u.follow_count AS follow_count,
    u.follower_count AS follower_count,
    IF(r.id IS NULL,false,true) AS is_follow
FROM users u
LEFT JOIN relations r ON u.id = r.follow_id AND r.user_id=1
WHERE u.id IN (
    SELECT r2.follow_id
    FROM relations r2
    WHERE r2.user_id=1
    );

2022/05/31 05:12:25 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.507ms] [rows:-] SELECT DATABASE()

2022/05/31 05:12:25 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[4.059ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/31 05:12:25 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.509ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/05/31 05:12:25 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/31 05:12:25 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.861ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/31 05:12:25 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/05/31 05:12:26 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[14.378ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/05/31 05:12:26 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[23.322ms] [rows:0] ALTER TABLE `users` MODIFY COLUMN `is_follow` boolean NOT NULL DEFAULT false COMMENT '是否关注'

2022/05/31 05:12:26 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/31 05:12:26 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.509ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/31 05:12:26 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/05/31 05:12:26 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/31 05:12:26 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.520ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/31 05:12:26 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.912ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND table_type = 'BASE TABLE'

2022/05/31 05:12:26 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/31 05:12:26 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.366ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/31 05:12:26 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `videos` LIMIT 1

2022/05/31 05:12:26 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[9.229ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'videos' ORDER BY ORDINAL_POSITION

2022/05/31 05:12:26 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[9.536ms] [rows:0] ALTER TABLE `videos` MODIFY COLUMN `is_favorite` boolean NOT NULL DEFAULT false COMMENT '是否点赞'

2022/05/31 05:12:26 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.946ms] [rows:-] SELECT DATABASE()

2022/05/31 05:12:26 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.348ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/31 05:12:26 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.952ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_deleted_at'

2022/05/31 05:12:26 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/31 05:12:26 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.511ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/31 05:12:26 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_disk_type'

2022/05/31 05:12:26 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/31 05:12:26 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.760ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/31 05:12:26 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND table_type = 'BASE TABLE'

2022/05/31 05:12:26 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/31 05:12:26 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.206ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/31 05:12:26 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `comments` LIMIT 1

2022/05/31 05:12:26 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[8.984ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'comments' ORDER BY ORDINAL_POSITION

2022/05/31 05:12:26 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.077ms] [rows:-] SELECT DATABASE()

2022/05/31 05:12:26 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.333ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/31 05:12:26 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.642ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND index_name = 'idx_comments_deleted_at'

2022/05/31 05:12:26 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.192ms] [rows:-] SELECT DATABASE()

2022/05/31 05:12:26 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.000ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/31 05:12:26 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND table_type = 'BASE TABLE'

2022/05/31 05:12:26 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/31 05:12:26 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.509ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/31 05:12:26 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.007ms] [rows:-] SELECT * FROM `favorites` LIMIT 1

2022/05/31 05:12:26 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[7.420ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' ORDER BY ORDINAL_POSITION

2022/05/31 05:12:26 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/31 05:12:26 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.510ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/31 05:12:26 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[1.002ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND index_name = 'idx_favorites_deleted_at'

2022/05/31 05:12:26 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/31 05:12:26 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.587ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/31 05:12:26 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.574ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND table_type = 'BASE TABLE'

2022/05/31 05:12:26 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/31 05:12:26 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.552ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/31 05:12:26 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `relations` LIMIT 1

2022/05/31 05:12:26 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[5.744ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'relations' ORDER BY ORDINAL_POSITION

2022/05/31 05:12:26 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/05/31 05:12:26 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.511ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/05/31 05:12:26 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.554ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND index_name = 'idx_relations_deleted_at'

2022/05/31 05:12:35 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[0.862ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/31 05:12:35 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[0.520ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/31 05:12:37 E:/summerByteDance/DouYin_demo/app/services/relation.go:121
[1.321ms] [rows:2] SELECT
    u.id AS id,
    u.name AS name,
    u.follow_count AS follow_count,
    u.follower_count AS follower_count,
    IF(r.id IS NULL,false,true) AS is_follow
FROM users u
LEFT JOIN relations r ON u.id = r.follow_id AND r.user_id=0
WHERE u.id IN (
    SELECT r2.follow_id
    FROM relations r2
    WHERE r2.user_id=1
    )AND r.deleted_at IS NULL;

2022/05/31 05:12:39 E:/summerByteDance/DouYin_demo/app/services/relation.go:130
[1.353ms] [rows:1] SELECT
    u.id AS id,
    u.name AS name,
    u.follow_count AS follow_count,
    u.follower_count AS follower_count,
    IF(r.id IS NULL,false,true) AS is_follow
FROM users u
LEFT JOIN relations r ON u.id = r.follow_id AND r.user_id=0
WHERE u.id IN (
    SELECT r2.user_id
    FROM relations r2
    WHERE r2.follow_id=1
    );

2022/05/31 05:12:40 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[0.988ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/31 05:12:40 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[11.175ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/31 05:12:43 E:/summerByteDance/DouYin_demo/app/services/relation.go:121
[0.548ms] [rows:2] SELECT
    u.id AS id,
    u.name AS name,
    u.follow_count AS follow_count,
    u.follower_count AS follower_count,
    IF(r.id IS NULL,false,true) AS is_follow
FROM users u
LEFT JOIN relations r ON u.id = r.follow_id AND r.user_id=0
WHERE u.id IN (
    SELECT r2.follow_id
    FROM relations r2
    WHERE r2.user_id=1
    )AND r.deleted_at IS NULL;

2022/05/31 05:12:43 E:/summerByteDance/DouYin_demo/app/services/relation.go:94 record not found
[0.533ms] [rows:0] SELECT * FROM `relations` WHERE (user_id = 0 and follow_id = 3) AND `relations`.`deleted_at` IS NULL ORDER BY `relations`.`id` LIMIT 1

2022/05/31 05:12:43 E:/summerByteDance/DouYin_demo/app/services/relation.go:54
[6.078ms] [rows:1] INSERT INTO `relations` (`user_id`,`follow_id`,`created_at`,`updated_at`,`deleted_at`) VALUES (0,3,'2022-05-31 05:12:43.893','2022-05-31 05:12:43.893',NULL)

2022/05/31 05:12:43 E:/summerByteDance/DouYin_demo/app/services/relation.go:58
[4.388ms] [rows:1] UPDATE `users` SET `follower_count`=follower_count + 1,`updated_at`='2022-05-31 05:12:43.899' WHERE id = 3 AND `users`.`deleted_at` IS NULL

2022/05/31 05:12:43 E:/summerByteDance/DouYin_demo/app/services/relation.go:63
[0.738ms] [rows:0] UPDATE `users` SET `follow_count`=follow_count + 1,`updated_at`='2022-05-31 05:12:43.903' WHERE id = 0 AND `users`.`deleted_at` IS NULL

2022/05/31 05:12:45 E:/summerByteDance/DouYin_demo/app/services/relation.go:94
[1.542ms] [rows:1] SELECT * FROM `relations` WHERE (user_id = 0 and follow_id = 3) AND `relations`.`deleted_at` IS NULL ORDER BY `relations`.`id` LIMIT 1

2022/05/31 05:12:45 E:/summerByteDance/DouYin_demo/app/services/relation.go:78
[21.654ms] [rows:1] UPDATE `relations` SET `deleted_at`='2022-05-31 05:12:45.164' WHERE (user_id=0 AND follow_id=3) AND `relations`.`deleted_at` IS NULL

2022/05/31 05:12:45 E:/summerByteDance/DouYin_demo/app/services/relation.go:82
[4.360ms] [rows:1] UPDATE `users` SET `follower_count`=follower_count - 1,`updated_at`='2022-05-31 05:12:45.186' WHERE id = 3 AND `users`.`deleted_at` IS NULL

2022/05/31 05:12:45 E:/summerByteDance/DouYin_demo/app/services/relation.go:87
[1.794ms] [rows:0] UPDATE `users` SET `follow_count`=follow_count - 1,`updated_at`='2022-05-31 05:12:45.191' WHERE id = 0 AND `users`.`deleted_at` IS NULL

2022/05/31 05:12:46 E:/summerByteDance/DouYin_demo/app/services/relation.go:94 record not found
[0.676ms] [rows:0] SELECT * FROM `relations` WHERE (user_id = 0 and follow_id = 3) AND `relations`.`deleted_at` IS NULL ORDER BY `relations`.`id` LIMIT 1

2022/05/31 05:12:46 E:/summerByteDance/DouYin_demo/app/services/relation.go:54
[2.429ms] [rows:1] INSERT INTO `relations` (`user_id`,`follow_id`,`created_at`,`updated_at`,`deleted_at`) VALUES (0,3,'2022-05-31 05:12:46.915','2022-05-31 05:12:46.915',NULL)

2022/05/31 05:12:46 E:/summerByteDance/DouYin_demo/app/services/relation.go:58
[2.447ms] [rows:1] UPDATE `users` SET `follower_count`=follower_count + 1,`updated_at`='2022-05-31 05:12:46.918' WHERE id = 3 AND `users`.`deleted_at` IS NULL

2022/05/31 05:12:46 E:/summerByteDance/DouYin_demo/app/services/relation.go:63
[0.739ms] [rows:0] UPDATE `users` SET `follow_count`=follow_count + 1,`updated_at`='2022-05-31 05:12:46.92' WHERE id = 0 AND `users`.`deleted_at` IS NULL

2022/05/31 05:12:47 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[1.551ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/05/31 05:12:47 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[0.520ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/31 05:12:49 E:/summerByteDance/DouYin_demo/app/services/relation.go:121
[0.183ms] [rows:2] SELECT
    u.id AS id,
    u.name AS name,
    u.follow_count AS follow_count,
    u.follower_count AS follower_count,
    IF(r.id IS NULL,false,true) AS is_follow
FROM users u
LEFT JOIN relations r ON u.id = r.follow_id AND r.user_id=0
WHERE u.id IN (
    SELECT r2.follow_id
    FROM relations r2
    WHERE r2.user_id=1
    )AND r.deleted_at IS NULL;

2022/05/31 05:13:00 E:/summerByteDance/DouYin_demo/app/services/relation.go:130
[0.945ms] [rows:1] SELECT
    u.id AS id,
    u.name AS name,
    u.follow_count AS follow_count,
    u.follower_count AS follower_count,
    IF(r.id IS NULL,false,true) AS is_follow
FROM users u
LEFT JOIN relations r ON u.id = r.follow_id AND r.user_id=0
WHERE u.id IN (
    SELECT r2.user_id
    FROM relations r2
    WHERE r2.follow_id=1
    );

2022/05/31 05:13:02 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[0.830ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/05/31 05:13:02 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[1.206ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/06/01 18:34:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[1.258ms] [rows:-] SELECT DATABASE()

2022/06/01 18:34:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[29.697ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/01 18:34:17 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[2.523ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/06/01 18:34:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/01 18:34:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.880ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/01 18:34:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[12.978ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/06/01 18:34:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[22.952ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/06/01 18:34:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[22.536ms] [rows:0] ALTER TABLE `users` MODIFY COLUMN `is_follow` boolean NOT NULL DEFAULT false COMMENT '是否关注'

2022/06/01 18:34:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.607ms] [rows:-] SELECT DATABASE()

2022/06/01 18:34:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.504ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/01 18:34:17 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/06/01 18:34:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/01 18:34:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.602ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/01 18:34:17 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.097ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND table_type = 'BASE TABLE'

2022/06/01 18:34:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/01 18:34:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.253ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/01 18:34:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.504ms] [rows:-] SELECT * FROM `videos` LIMIT 1

2022/06/01 18:34:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[8.553ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'videos' ORDER BY ORDINAL_POSITION

2022/06/01 18:34:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[12.518ms] [rows:0] ALTER TABLE `videos` MODIFY COLUMN `is_favorite` boolean NOT NULL DEFAULT false COMMENT '是否点赞'

2022/06/01 18:34:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/01 18:34:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.506ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/01 18:34:17 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_disk_type'

2022/06/01 18:34:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/01 18:34:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.264ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/01 18:34:17 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_deleted_at'

2022/06/01 18:34:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/01 18:34:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.250ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/01 18:34:17 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.872ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND table_type = 'BASE TABLE'

2022/06/01 18:34:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/01 18:34:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.510ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/01 18:34:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.220ms] [rows:-] SELECT * FROM `comments` LIMIT 1

2022/06/01 18:34:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[5.729ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'comments' ORDER BY ORDINAL_POSITION

2022/06/01 18:34:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/01 18:34:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.543ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/01 18:34:17 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.956ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND index_name = 'idx_comments_deleted_at'

2022/06/01 18:34:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/01 18:34:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.545ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/01 18:34:17 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND table_type = 'BASE TABLE'

2022/06/01 18:34:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/01 18:34:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.603ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/01 18:34:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.510ms] [rows:-] SELECT * FROM `favorites` LIMIT 1

2022/06/01 18:34:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[8.331ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' ORDER BY ORDINAL_POSITION

2022/06/01 18:34:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/01 18:34:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.504ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/01 18:34:17 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND index_name = 'idx_favorites_deleted_at'

2022/06/01 18:34:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/01 18:34:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.662ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/01 18:34:17 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.504ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND table_type = 'BASE TABLE'

2022/06/01 18:34:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.187ms] [rows:-] SELECT DATABASE()

2022/06/01 18:34:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.616ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/01 18:34:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `relations` LIMIT 1

2022/06/01 18:34:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[7.348ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'relations' ORDER BY ORDINAL_POSITION

2022/06/01 18:34:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/01 18:34:17 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.505ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/01 18:34:17 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND index_name = 'idx_relations_deleted_at'

2022/06/01 18:37:55 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/01 18:37:55 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[2.502ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/01 18:37:55 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/06/01 18:37:55 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/01 18:37:55 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.545ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/01 18:37:55 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.546ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/06/01 18:37:55 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[15.636ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/06/01 18:37:55 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[20.039ms] [rows:0] ALTER TABLE `users` MODIFY COLUMN `is_follow` boolean NOT NULL DEFAULT false COMMENT '是否关注'

2022/06/01 18:37:55 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/01 18:37:55 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.964ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/01 18:37:55 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.579ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/06/01 18:37:55 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.121ms] [rows:-] SELECT DATABASE()

2022/06/01 18:37:55 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.769ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/01 18:37:55 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.544ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND table_type = 'BASE TABLE'

2022/06/01 18:37:55 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.121ms] [rows:-] SELECT DATABASE()

2022/06/01 18:37:55 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.740ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/01 18:37:55 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.101ms] [rows:-] SELECT * FROM `videos` LIMIT 1

2022/06/01 18:37:55 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[30.369ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'videos' ORDER BY ORDINAL_POSITION

2022/06/01 18:37:55 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[14.822ms] [rows:0] ALTER TABLE `videos` MODIFY COLUMN `is_favorite` boolean NOT NULL DEFAULT false COMMENT '是否点赞'

2022/06/01 18:37:55 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.158ms] [rows:-] SELECT DATABASE()

2022/06/01 18:37:55 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.045ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/01 18:37:55 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.522ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_deleted_at'

2022/06/01 18:37:55 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/01 18:37:55 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.506ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/01 18:37:55 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_disk_type'

2022/06/01 18:37:55 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/01 18:37:55 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.505ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/01 18:37:55 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.504ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND table_type = 'BASE TABLE'

2022/06/01 18:37:55 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/01 18:37:55 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.981ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/01 18:37:55 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `comments` LIMIT 1

2022/06/01 18:37:55 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[10.105ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'comments' ORDER BY ORDINAL_POSITION

2022/06/01 18:37:55 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/01 18:37:55 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.503ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/01 18:37:55 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND index_name = 'idx_comments_deleted_at'

2022/06/01 18:37:55 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/01 18:37:55 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.504ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/01 18:37:55 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.518ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND table_type = 'BASE TABLE'

2022/06/01 18:37:55 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/01 18:37:55 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.364ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/01 18:37:55 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `favorites` LIMIT 1

2022/06/01 18:37:55 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[5.170ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' ORDER BY ORDINAL_POSITION

2022/06/01 18:37:55 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/01 18:37:55 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.503ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/01 18:37:55 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.422ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND index_name = 'idx_favorites_deleted_at'

2022/06/01 18:37:55 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/01 18:37:55 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.503ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/01 18:37:55 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.352ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND table_type = 'BASE TABLE'

2022/06/01 18:37:55 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/01 18:37:55 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.503ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/01 18:37:55 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.202ms] [rows:-] SELECT * FROM `relations` LIMIT 1

2022/06/01 18:37:55 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[5.605ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'relations' ORDER BY ORDINAL_POSITION

2022/06/01 18:37:55 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.088ms] [rows:-] SELECT DATABASE()

2022/06/01 18:37:55 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.286ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/01 18:37:55 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.645ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND index_name = 'idx_relations_deleted_at'

2022/06/01 18:39:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/01 18:39:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.805ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/01 18:39:21 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.528ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/06/01 18:39:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/01 18:39:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.181ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/01 18:39:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.506ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/06/01 18:39:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[9.704ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/06/01 18:39:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[7.354ms] [rows:0] ALTER TABLE `users` MODIFY COLUMN `is_follow` boolean NOT NULL DEFAULT false COMMENT '是否关注'

2022/06/01 18:39:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/01 18:39:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.510ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/01 18:39:21 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/06/01 18:39:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/01 18:39:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.553ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/01 18:39:21 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND table_type = 'BASE TABLE'

2022/06/01 18:39:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/01 18:39:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.692ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/01 18:39:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.507ms] [rows:-] SELECT * FROM `videos` LIMIT 1

2022/06/01 18:39:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[5.446ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'videos' ORDER BY ORDINAL_POSITION

2022/06/01 18:39:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[8.589ms] [rows:0] ALTER TABLE `videos` MODIFY COLUMN `is_favorite` boolean NOT NULL DEFAULT false COMMENT '是否点赞'

2022/06/01 18:39:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/01 18:39:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.504ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/01 18:39:21 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_disk_type'

2022/06/01 18:39:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/01 18:39:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.647ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/01 18:39:21 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.575ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_deleted_at'

2022/06/01 18:39:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/01 18:39:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.850ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/01 18:39:21 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND table_type = 'BASE TABLE'

2022/06/01 18:39:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/01 18:39:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.208ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/01 18:39:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.514ms] [rows:-] SELECT * FROM `comments` LIMIT 1

2022/06/01 18:39:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[4.467ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'comments' ORDER BY ORDINAL_POSITION

2022/06/01 18:39:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/01 18:39:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.749ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/01 18:39:21 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND index_name = 'idx_comments_deleted_at'

2022/06/01 18:39:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/01 18:39:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.503ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/01 18:39:21 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.489ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND table_type = 'BASE TABLE'

2022/06/01 18:39:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/01 18:39:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.503ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/01 18:39:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.154ms] [rows:-] SELECT * FROM `favorites` LIMIT 1

2022/06/01 18:39:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[7.983ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' ORDER BY ORDINAL_POSITION

2022/06/01 18:39:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/01 18:39:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.865ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/01 18:39:21 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND index_name = 'idx_favorites_deleted_at'

2022/06/01 18:39:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/01 18:39:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.664ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/01 18:39:21 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.511ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND table_type = 'BASE TABLE'

2022/06/01 18:39:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/01 18:39:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.511ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/01 18:39:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.504ms] [rows:-] SELECT * FROM `relations` LIMIT 1

2022/06/01 18:39:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[4.101ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'relations' ORDER BY ORDINAL_POSITION

2022/06/01 18:39:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/01 18:39:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.503ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/01 18:39:21 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.408ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND index_name = 'idx_relations_deleted_at'

2022/06/01 18:40:15 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.503ms] [rows:-] SELECT DATABASE()

2022/06/01 18:40:15 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[3.218ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/01 18:40:15 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/06/01 18:40:15 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.149ms] [rows:-] SELECT DATABASE()

2022/06/01 18:40:15 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.605ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/01 18:40:15 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.818ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/06/01 18:40:15 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[9.332ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/06/01 18:40:15 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[9.410ms] [rows:0] ALTER TABLE `users` MODIFY COLUMN `is_follow` boolean NOT NULL DEFAULT false COMMENT '是否关注'

2022/06/01 18:40:15 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/01 18:40:15 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.758ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/01 18:40:15 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/06/01 18:40:15 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/01 18:40:15 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.279ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/01 18:40:15 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND table_type = 'BASE TABLE'

2022/06/01 18:40:15 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/01 18:40:15 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.662ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/01 18:40:15 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.524ms] [rows:-] SELECT * FROM `videos` LIMIT 1

2022/06/01 18:40:15 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[5.181ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'videos' ORDER BY ORDINAL_POSITION

2022/06/01 18:40:15 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[7.414ms] [rows:0] ALTER TABLE `videos` MODIFY COLUMN `is_favorite` boolean NOT NULL DEFAULT false COMMENT '是否点赞'

2022/06/01 18:40:15 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/01 18:40:15 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.657ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/01 18:40:15 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_deleted_at'

2022/06/01 18:40:15 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/01 18:40:15 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.741ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/01 18:40:15 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_disk_type'

2022/06/01 18:40:15 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/01 18:40:15 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.713ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/01 18:40:15 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND table_type = 'BASE TABLE'

2022/06/01 18:40:15 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/01 18:40:15 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.734ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/01 18:40:15 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `comments` LIMIT 1

2022/06/01 18:40:15 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[4.357ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'comments' ORDER BY ORDINAL_POSITION

2022/06/01 18:40:15 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/01 18:40:15 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.539ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/01 18:40:15 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND index_name = 'idx_comments_deleted_at'

2022/06/01 18:40:15 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/01 18:40:15 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.743ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/01 18:40:15 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND table_type = 'BASE TABLE'

2022/06/01 18:40:15 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/01 18:40:15 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.801ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/01 18:40:15 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `favorites` LIMIT 1

2022/06/01 18:40:15 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[5.066ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' ORDER BY ORDINAL_POSITION

2022/06/01 18:40:15 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/01 18:40:15 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.504ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/01 18:40:15 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND index_name = 'idx_favorites_deleted_at'

2022/06/01 18:40:15 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/01 18:40:15 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.821ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/01 18:40:15 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND table_type = 'BASE TABLE'

2022/06/01 18:40:15 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/01 18:40:15 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.754ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/01 18:40:15 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `relations` LIMIT 1

2022/06/01 18:40:15 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[7.270ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'relations' ORDER BY ORDINAL_POSITION

2022/06/01 18:40:15 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/01 18:40:15 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.857ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/01 18:40:15 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND index_name = 'idx_relations_deleted_at'

2022/06/02 04:28:48 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.550ms] [rows:-] SELECT DATABASE()

2022/06/02 04:28:48 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[20.279ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/02 04:28:48 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[6.244ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/06/02 04:28:48 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/02 04:28:48 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.941ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/02 04:28:48 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[13.519ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/06/02 04:28:48 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[28.441ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/06/02 04:28:48 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[15.518ms] [rows:0] ALTER TABLE `users` MODIFY COLUMN `is_follow` boolean NOT NULL DEFAULT false COMMENT '是否关注'

2022/06/02 04:28:48 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/02 04:28:48 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.030ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/02 04:28:48 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/06/02 04:28:48 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/02 04:28:48 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.024ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/02 04:28:48 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[4.516ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND table_type = 'BASE TABLE'

2022/06/02 04:28:48 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/02 04:28:48 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.137ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/02 04:28:48 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.512ms] [rows:-] SELECT * FROM `videos` LIMIT 1

2022/06/02 04:28:48 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[21.585ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'videos' ORDER BY ORDINAL_POSITION

2022/06/02 04:28:48 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[16.518ms] [rows:0] ALTER TABLE `videos` MODIFY COLUMN `is_favorite` boolean NOT NULL DEFAULT false COMMENT '是否点赞'

2022/06/02 04:28:48 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/02 04:28:48 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.282ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/02 04:28:48 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_disk_type'

2022/06/02 04:28:48 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/02 04:28:48 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.013ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/02 04:28:48 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_deleted_at'

2022/06/02 04:28:48 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/02 04:28:48 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.897ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/02 04:28:48 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[5.516ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND table_type = 'BASE TABLE'

2022/06/02 04:28:48 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/02 04:28:48 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.338ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/02 04:28:48 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[7.518ms] [rows:-] SELECT * FROM `comments` LIMIT 1

2022/06/02 04:28:48 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[15.438ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'comments' ORDER BY ORDINAL_POSITION

2022/06/02 04:28:48 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/02 04:28:48 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.161ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/02 04:28:48 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND index_name = 'idx_comments_deleted_at'

2022/06/02 04:28:48 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.506ms] [rows:-] SELECT DATABASE()

2022/06/02 04:28:48 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.696ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/02 04:28:48 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[4.512ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND table_type = 'BASE TABLE'

2022/06/02 04:28:48 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/02 04:28:48 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.665ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/02 04:28:48 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[4.515ms] [rows:-] SELECT * FROM `favorites` LIMIT 1

2022/06/02 04:28:48 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[17.128ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' ORDER BY ORDINAL_POSITION

2022/06/02 04:28:48 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/02 04:28:48 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.271ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/02 04:28:48 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.510ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND index_name = 'idx_favorites_deleted_at'

2022/06/02 04:28:48 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/02 04:28:48 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.990ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/02 04:28:48 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[4.516ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND table_type = 'BASE TABLE'

2022/06/02 04:28:48 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/02 04:28:48 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.854ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/02 04:28:48 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `relations` LIMIT 1

2022/06/02 04:28:48 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[12.151ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'relations' ORDER BY ORDINAL_POSITION

2022/06/02 04:28:48 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/02 04:28:48 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.187ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/02 04:28:48 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND index_name = 'idx_relations_deleted_at'

2022/06/09 23:37:53 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[1.369ms] [rows:-] SELECT DATABASE()

2022/06/09 23:37:53 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[22.547ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/09 23:37:53 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[4.427ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/06/09 23:37:53 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/09 23:37:53 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.959ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/09 23:37:53 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[21.684ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/06/09 23:37:53 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[27.419ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/06/09 23:37:53 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[11.033ms] [rows:0] ALTER TABLE `users` MODIFY COLUMN `is_follow` boolean NOT NULL DEFAULT false COMMENT '是否关注'

2022/06/09 23:37:53 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/09 23:37:53 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.524ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/09 23:37:53 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/06/09 23:37:53 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.516ms] [rows:-] SELECT DATABASE()

2022/06/09 23:37:53 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.757ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/09 23:37:53 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[4.495ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND table_type = 'BASE TABLE'

2022/06/09 23:37:53 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/09 23:37:53 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.939ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/09 23:37:53 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.507ms] [rows:-] SELECT * FROM `videos` LIMIT 1

2022/06/09 23:37:53 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[11.573ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'videos' ORDER BY ORDINAL_POSITION

2022/06/09 23:37:53 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[6.924ms] [rows:0] ALTER TABLE `videos` MODIFY COLUMN `is_favorite` boolean NOT NULL DEFAULT false COMMENT '是否点赞'

2022/06/09 23:37:53 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/09 23:37:53 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.507ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/09 23:37:53 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_disk_type'

2022/06/09 23:37:53 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.546ms] [rows:-] SELECT DATABASE()

2022/06/09 23:37:53 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.921ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/09 23:37:53 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.520ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_deleted_at'

2022/06/09 23:37:53 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/09 23:37:53 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.506ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/09 23:37:53 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[3.534ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND table_type = 'BASE TABLE'

2022/06/09 23:37:53 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/09 23:37:53 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.544ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/09 23:37:53 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[4.533ms] [rows:-] SELECT * FROM `comments` LIMIT 1

2022/06/09 23:37:53 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[11.928ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'comments' ORDER BY ORDINAL_POSITION

2022/06/09 23:37:53 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/09 23:37:53 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.203ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/09 23:37:53 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND index_name = 'idx_comments_deleted_at'

2022/06/09 23:37:53 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.041ms] [rows:-] SELECT DATABASE()

2022/06/09 23:37:53 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.508ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/09 23:37:53 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[3.636ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND table_type = 'BASE TABLE'

2022/06/09 23:37:53 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/09 23:37:53 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.651ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/09 23:37:53 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[4.869ms] [rows:-] SELECT * FROM `favorites` LIMIT 1

2022/06/09 23:37:53 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[12.714ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' ORDER BY ORDINAL_POSITION

2022/06/09 23:37:53 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/09 23:37:53 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.085ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/09 23:37:53 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND index_name = 'idx_favorites_deleted_at'

2022/06/09 23:37:53 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.517ms] [rows:-] SELECT DATABASE()

2022/06/09 23:37:53 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.509ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/09 23:37:53 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[3.549ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND table_type = 'BASE TABLE'

2022/06/09 23:37:53 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/09 23:37:53 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.948ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/09 23:37:53 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `relations` LIMIT 1

2022/06/09 23:37:53 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[11.908ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'relations' ORDER BY ORDINAL_POSITION

2022/06/09 23:37:53 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/09 23:37:53 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.426ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/09 23:37:53 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND index_name = 'idx_relations_deleted_at'

2022/06/09 23:40:08 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[4.448ms] [rows:6] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-06-09 23:40:06.923'
LIMIT 30;

2022/06/09 23:40:08 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[1.385ms] [rows:1] SELECT created_at FROM videos WHERE id = 5

2022/06/09 23:40:08 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[1.967ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/06/09 23:40:08 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[0.526ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/06/09 23:40:48 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[0.775ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/06/09 23:40:48 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[0.795ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/06/09 23:40:59 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[0.738ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/06/09 23:40:59 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[0.514ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/06/09 23:43:05 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[2.151ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/06/09 23:43:05 E:/summerByteDance/DouYin_demo/app/services/user.go:48
[0.666ms] [rows:1] SELECT * FROM `users` WHERE `users`.`id` = 1 AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/06/09 23:49:57 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[1.959ms] [rows:-] SELECT DATABASE()

2022/06/09 23:49:57 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[2.122ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/09 23:49:57 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.511ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/06/09 23:49:57 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/09 23:49:57 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.016ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/09 23:49:57 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.507ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/06/09 23:49:57 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[15.633ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/06/09 23:49:57 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[16.505ms] [rows:0] ALTER TABLE `users` MODIFY COLUMN `is_follow` boolean NOT NULL DEFAULT false COMMENT '是否关注'

2022/06/09 23:49:57 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/09 23:49:57 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.230ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/09 23:49:57 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/06/09 23:49:57 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.015ms] [rows:-] SELECT DATABASE()

2022/06/09 23:49:57 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.746ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/09 23:49:57 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND table_type = 'BASE TABLE'

2022/06/09 23:49:57 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/09 23:49:57 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.559ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/09 23:49:57 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.010ms] [rows:-] SELECT * FROM `videos` LIMIT 1

2022/06/09 23:49:57 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[7.426ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'videos' ORDER BY ORDINAL_POSITION

2022/06/09 23:49:57 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[7.532ms] [rows:0] ALTER TABLE `videos` MODIFY COLUMN `is_favorite` boolean NOT NULL DEFAULT false COMMENT '是否点赞'

2022/06/09 23:49:57 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/09 23:49:57 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.954ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/09 23:49:57 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_disk_type'

2022/06/09 23:49:57 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.511ms] [rows:-] SELECT DATABASE()

2022/06/09 23:49:57 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.554ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/09 23:49:57 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_deleted_at'

2022/06/09 23:49:57 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/09 23:49:57 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.596ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/09 23:49:57 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.615ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND table_type = 'BASE TABLE'

2022/06/09 23:49:57 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.515ms] [rows:-] SELECT DATABASE()

2022/06/09 23:49:57 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.745ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/09 23:49:57 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `comments` LIMIT 1

2022/06/09 23:49:57 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[10.296ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'comments' ORDER BY ORDINAL_POSITION

2022/06/09 23:49:57 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/09 23:49:57 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.511ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/09 23:49:57 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND index_name = 'idx_comments_deleted_at'

2022/06/09 23:49:57 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/09 23:49:57 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.762ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/09 23:49:57 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND table_type = 'BASE TABLE'

2022/06/09 23:49:57 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/09 23:49:57 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.704ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/09 23:49:57 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `favorites` LIMIT 1

2022/06/09 23:49:57 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[10.641ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' ORDER BY ORDINAL_POSITION

2022/06/09 23:49:57 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.074ms] [rows:-] SELECT DATABASE()

2022/06/09 23:49:57 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.511ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/09 23:49:57 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.643ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND index_name = 'idx_favorites_deleted_at'

2022/06/09 23:49:57 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/09 23:49:57 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.113ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/09 23:49:57 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND table_type = 'BASE TABLE'

2022/06/09 23:49:57 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.508ms] [rows:-] SELECT DATABASE()

2022/06/09 23:49:57 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.699ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/09 23:49:57 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `relations` LIMIT 1

2022/06/09 23:49:57 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[7.488ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'relations' ORDER BY ORDINAL_POSITION

2022/06/09 23:49:57 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/09 23:49:57 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.063ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/09 23:49:57 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND index_name = 'idx_relations_deleted_at'

2022/06/09 23:51:59 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.514ms] [rows:-] SELECT DATABASE()

2022/06/09 23:51:59 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.524ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/09 23:51:59 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.531ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/06/09 23:51:59 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.511ms] [rows:-] SELECT DATABASE()

2022/06/09 23:51:59 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.237ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/09 23:51:59 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/06/09 23:51:59 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[38.256ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/06/09 23:51:59 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[11.484ms] [rows:0] ALTER TABLE `users` MODIFY COLUMN `is_follow` boolean NOT NULL DEFAULT false COMMENT '是否关注'

2022/06/09 23:51:59 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/09 23:51:59 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.073ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/09 23:51:59 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/06/09 23:51:59 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.510ms] [rows:-] SELECT DATABASE()

2022/06/09 23:51:59 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.607ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/09 23:51:59 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND table_type = 'BASE TABLE'

2022/06/09 23:51:59 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.515ms] [rows:-] SELECT DATABASE()

2022/06/09 23:51:59 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.508ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/09 23:51:59 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `videos` LIMIT 1

2022/06/09 23:51:59 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[8.348ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'videos' ORDER BY ORDINAL_POSITION

2022/06/09 23:51:59 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[9.483ms] [rows:0] ALTER TABLE `videos` MODIFY COLUMN `is_favorite` boolean NOT NULL DEFAULT false COMMENT '是否点赞'

2022/06/09 23:51:59 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/09 23:51:59 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.969ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/09 23:51:59 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_deleted_at'

2022/06/09 23:51:59 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.534ms] [rows:-] SELECT DATABASE()

2022/06/09 23:51:59 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.561ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/09 23:51:59 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.523ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_disk_type'

2022/06/09 23:51:59 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/09 23:51:59 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.308ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/09 23:51:59 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND table_type = 'BASE TABLE'

2022/06/09 23:51:59 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/09 23:51:59 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.524ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/09 23:51:59 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `comments` LIMIT 1

2022/06/09 23:51:59 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[11.478ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'comments' ORDER BY ORDINAL_POSITION

2022/06/09 23:51:59 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/09 23:51:59 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.064ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/09 23:51:59 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND index_name = 'idx_comments_deleted_at'

2022/06/09 23:51:59 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/09 23:51:59 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.188ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/09 23:51:59 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND table_type = 'BASE TABLE'

2022/06/09 23:51:59 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/09 23:51:59 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.079ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/09 23:51:59 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `favorites` LIMIT 1

2022/06/09 23:51:59 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[13.724ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' ORDER BY ORDINAL_POSITION

2022/06/09 23:51:59 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.521ms] [rows:-] SELECT DATABASE()

2022/06/09 23:51:59 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.055ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/09 23:51:59 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.529ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND index_name = 'idx_favorites_deleted_at'

2022/06/09 23:51:59 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/09 23:51:59 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.610ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/09 23:51:59 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND table_type = 'BASE TABLE'

2022/06/09 23:51:59 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/09 23:51:59 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.157ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/09 23:51:59 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.567ms] [rows:-] SELECT * FROM `relations` LIMIT 1

2022/06/09 23:51:59 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[8.564ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'relations' ORDER BY ORDINAL_POSITION

2022/06/09 23:51:59 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/09 23:51:59 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.843ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/09 23:51:59 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND index_name = 'idx_relations_deleted_at'

2022/06/09 23:52:34 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.875ms] [rows:-] SELECT DATABASE()

2022/06/09 23:52:34 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.523ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/09 23:52:34 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/06/09 23:52:34 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.509ms] [rows:-] SELECT DATABASE()

2022/06/09 23:52:34 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.689ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/09 23:52:34 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/06/09 23:52:34 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[16.895ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/06/09 23:52:34 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[9.516ms] [rows:0] ALTER TABLE `users` MODIFY COLUMN `is_follow` boolean NOT NULL DEFAULT false COMMENT '是否关注'

2022/06/09 23:52:34 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/09 23:52:34 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.509ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/09 23:52:34 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/06/09 23:52:34 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.527ms] [rows:-] SELECT DATABASE()

2022/06/09 23:52:34 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.752ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/09 23:52:34 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND table_type = 'BASE TABLE'

2022/06/09 23:52:34 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/09 23:52:34 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.149ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/09 23:52:34 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `videos` LIMIT 1

2022/06/09 23:52:34 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[14.216ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'videos' ORDER BY ORDINAL_POSITION

2022/06/09 23:52:34 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[8.486ms] [rows:0] ALTER TABLE `videos` MODIFY COLUMN `is_favorite` boolean NOT NULL DEFAULT false COMMENT '是否点赞'

2022/06/09 23:52:34 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/09 23:52:34 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.513ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/09 23:52:34 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_disk_type'

2022/06/09 23:52:34 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.511ms] [rows:-] SELECT DATABASE()

2022/06/09 23:52:34 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.543ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/09 23:52:34 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_deleted_at'

2022/06/09 23:52:34 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/09 23:52:34 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.716ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/09 23:52:34 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND table_type = 'BASE TABLE'

2022/06/09 23:52:34 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/09 23:52:34 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.259ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/09 23:52:34 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `comments` LIMIT 1

2022/06/09 23:52:34 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[7.537ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'comments' ORDER BY ORDINAL_POSITION

2022/06/09 23:52:34 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/09 23:52:34 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.039ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/09 23:52:34 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND index_name = 'idx_comments_deleted_at'

2022/06/09 23:52:34 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.508ms] [rows:-] SELECT DATABASE()

2022/06/09 23:52:34 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.670ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/09 23:52:34 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND table_type = 'BASE TABLE'

2022/06/09 23:52:34 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.506ms] [rows:-] SELECT DATABASE()

2022/06/09 23:52:34 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.508ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/09 23:52:34 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `favorites` LIMIT 1

2022/06/09 23:52:34 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[10.588ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' ORDER BY ORDINAL_POSITION

2022/06/09 23:52:34 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/09 23:52:34 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.802ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/09 23:52:34 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND index_name = 'idx_favorites_deleted_at'

2022/06/09 23:52:34 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/09 23:52:34 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.518ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/09 23:52:34 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND table_type = 'BASE TABLE'

2022/06/09 23:52:34 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/09 23:52:34 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.513ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/09 23:52:34 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.383ms] [rows:-] SELECT * FROM `relations` LIMIT 1

2022/06/09 23:52:34 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[7.964ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'relations' ORDER BY ORDINAL_POSITION

2022/06/09 23:52:34 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/09 23:52:34 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.065ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/09 23:52:34 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND index_name = 'idx_relations_deleted_at'

2022/06/09 23:52:37 E:/summerByteDance/DouYin_demo/app/services/publish.go:71
[7.248ms] [rows:1] INSERT INTO `videos` (`author_id`,`play_url`,`cover_url`,`favorite_count`,`comment_count`,`is_favorite`,`disk_type`,`src_type`,`created_at`,`updated_at`,`deleted_at`) VALUES (0,'http://192.168.2.167:8888/storage/local/hhhhhhhhhvvv/ff4be802-43d7-413c-a260-618b3d1d1b8d.MP4','http://192.168.2.167:8888/storage/local/hhhhhhhhhvvv/cover.jpeg',0,0,false,'local',1,'2022-06-09 23:52:37.257','2022-06-09 23:52:37.257',NULL)

2022/06/09 23:52:38 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.511ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-06-09 23:44:27.627'
LIMIT 30;

2022/06/09 23:52:38 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 1

2022/06/09 23:52:38 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[1.960ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/06/09 23:52:38 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.739ms] [rows:0] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-24 02:23:38'
LIMIT 30;

2022/06/09 23:52:38 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[0.996ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/06/09 23:52:44 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.000ms] [rows:0] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-24 02:23:38'
LIMIT 30;

2022/06/09 23:52:52 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.666ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-06-09 23:52:50.929'
LIMIT 30;

2022/06/09 23:52:52 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 17

2022/06/09 23:52:52 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[0.998ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/06/09 23:52:52 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[0.687ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/06/09 23:52:52 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.821ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-06-09 23:52:37'
LIMIT 30;

2022/06/09 23:52:52 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.520ms] [rows:1] SELECT created_at FROM videos WHERE id = 1

2022/06/09 23:52:53 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[1.392ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 0
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 0
ORDER BY v.created_at

2022/06/09 23:52:53 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[0.513ms] [rows:0] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 0
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 0
    )
ORDER BY v.created_at;

2022/06/09 23:52:53 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.761ms] [rows:0] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-24 02:23:38'
LIMIT 30;

2022/06/09 23:52:56 E:/summerByteDance/DouYin_demo/app/services/favorite.go:79 record not found
[4.068ms] [rows:0] SELECT * FROM `favorites` WHERE (user_id = 0 and video_id = 17) AND `favorites`.`deleted_at` IS NULL ORDER BY `favorites`.`id` LIMIT 1

2022/06/09 23:52:56 E:/summerByteDance/DouYin_demo/app/services/favorite.go:52
[1.501ms] [rows:1] INSERT INTO `favorites` (`user_id`,`video_id`,`created_at`,`updated_at`,`deleted_at`) VALUES (0,17,'2022-06-09 23:52:56.985','2022-06-09 23:52:56.985',NULL)

2022/06/09 23:52:56 E:/summerByteDance/DouYin_demo/app/services/favorite.go:56
[2.737ms] [rows:1] UPDATE `videos` SET `favorite_count`=favorite_count + 1,`updated_at`='2022-06-09 23:52:56.988' WHERE id = 17 AND `videos`.`deleted_at` IS NULL

2022/06/10 01:46:38 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/10 01:46:38 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[3.435ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/10 01:46:38 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[1.534ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/06/10 01:46:38 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/10 01:46:38 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.958ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/10 01:46:38 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[1.502ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/06/10 01:46:38 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[26.561ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/06/10 01:46:38 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[18.459ms] [rows:0] ALTER TABLE `users` MODIFY COLUMN `is_follow` boolean NOT NULL DEFAULT false COMMENT '是否关注'

2022/06/10 01:46:38 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/10 01:46:38 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.824ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/10 01:46:38 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/06/10 01:46:38 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/10 01:46:38 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.975ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/10 01:46:38 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND table_type = 'BASE TABLE'

2022/06/10 01:46:38 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/10 01:46:38 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.908ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/10 01:46:38 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `videos` LIMIT 1

2022/06/10 01:46:38 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[16.466ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'videos' ORDER BY ORDINAL_POSITION

2022/06/10 01:46:38 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[8.166ms] [rows:0] ALTER TABLE `videos` MODIFY COLUMN `is_favorite` boolean NOT NULL DEFAULT false COMMENT '是否点赞'

2022/06/10 01:46:38 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/10 01:46:38 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.925ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/10 01:46:38 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.509ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_disk_type'

2022/06/10 01:46:38 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/10 01:46:38 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.773ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/10 01:46:38 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_deleted_at'

2022/06/10 01:46:38 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/10 01:46:38 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.975ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/10 01:46:38 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND table_type = 'BASE TABLE'

2022/06/10 01:46:38 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/10 01:46:38 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.890ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/10 01:46:38 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `comments` LIMIT 1

2022/06/10 01:46:38 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[11.092ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'comments' ORDER BY ORDINAL_POSITION

2022/06/10 01:46:38 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/10 01:46:38 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.512ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/10 01:46:38 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND index_name = 'idx_comments_deleted_at'

2022/06/10 01:46:38 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/10 01:46:38 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.430ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/10 01:46:38 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND table_type = 'BASE TABLE'

2022/06/10 01:46:38 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/10 01:46:38 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.862ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/10 01:46:38 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `favorites` LIMIT 1

2022/06/10 01:46:38 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[9.484ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' ORDER BY ORDINAL_POSITION

2022/06/10 01:46:38 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/10 01:46:38 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.231ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/10 01:46:38 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.510ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND index_name = 'idx_favorites_deleted_at'

2022/06/10 01:46:38 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/10 01:46:38 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.918ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/10 01:46:38 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND table_type = 'BASE TABLE'

2022/06/10 01:46:38 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/10 01:46:38 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.951ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/10 01:46:38 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `relations` LIMIT 1

2022/06/10 01:46:38 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[7.290ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'relations' ORDER BY ORDINAL_POSITION

2022/06/10 01:46:38 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/10 01:46:38 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.927ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/10 01:46:38 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND index_name = 'idx_relations_deleted_at'

2022/06/10 01:46:42 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[1.140ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-06-10 01:46:41.184'
LIMIT 30;

2022/06/10 01:46:42 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.514ms] [rows:1] SELECT created_at FROM videos WHERE id = 17

2022/06/10 01:46:42 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.540ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-06-09 23:52:37'
LIMIT 30;

2022/06/10 01:46:42 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.577ms] [rows:1] SELECT created_at FROM videos WHERE id = 1

2022/06/10 01:46:42 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[1.718ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/06/10 01:46:42 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[0.604ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/06/10 01:49:25 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[2.835ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 0
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 0
ORDER BY v.created_at

2022/06/10 01:49:25 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[0.665ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 0
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 0
    )
ORDER BY v.created_at;

2022/06/10 01:49:25 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.845ms] [rows:0] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-24 02:23:38'
LIMIT 30;

2022/06/10 01:49:32 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[0.648ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/06/10 01:49:32 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[1.633ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/06/10 01:49:32 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.849ms] [rows:0] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-24 02:23:38'
LIMIT 30;

2022/06/10 01:49:34 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[1.494ms] [rows:0] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-24 02:23:38'
LIMIT 30;

2022/06/10 01:49:37 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[0.623ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 0
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 0
ORDER BY v.created_at

2022/06/10 01:49:37 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[0.000ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 0
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 0
    )
ORDER BY v.created_at;

2022/06/10 01:49:37 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.000ms] [rows:0] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-24 02:23:38'
LIMIT 30;

2022/06/10 01:52:03 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/10 01:52:03 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.547ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/10 01:52:03 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/06/10 01:52:03 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/10 01:52:03 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.509ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/10 01:52:03 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/06/10 01:52:03 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[19.526ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/06/10 01:52:03 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[10.480ms] [rows:0] ALTER TABLE `users` MODIFY COLUMN `is_follow` boolean NOT NULL DEFAULT false COMMENT '是否关注'

2022/06/10 01:52:03 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/10 01:52:03 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.512ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/10 01:52:03 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.683ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/06/10 01:52:03 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/10 01:52:03 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.641ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/10 01:52:03 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.396ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND table_type = 'BASE TABLE'

2022/06/10 01:52:03 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.228ms] [rows:-] SELECT DATABASE()

2022/06/10 01:52:03 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.508ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/10 01:52:03 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `videos` LIMIT 1

2022/06/10 01:52:03 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[11.475ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'videos' ORDER BY ORDINAL_POSITION

2022/06/10 01:52:03 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[11.481ms] [rows:0] ALTER TABLE `videos` MODIFY COLUMN `is_favorite` boolean NOT NULL DEFAULT false COMMENT '是否点赞'

2022/06/10 01:52:03 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/10 01:52:03 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.151ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/10 01:52:03 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_disk_type'

2022/06/10 01:52:03 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.095ms] [rows:-] SELECT DATABASE()

2022/06/10 01:52:03 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.677ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/10 01:52:03 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_deleted_at'

2022/06/10 01:52:03 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/10 01:52:03 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.508ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/10 01:52:03 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND table_type = 'BASE TABLE'

2022/06/10 01:52:03 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/10 01:52:03 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.507ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/10 01:52:03 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `comments` LIMIT 1

2022/06/10 01:52:03 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[11.536ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'comments' ORDER BY ORDINAL_POSITION

2022/06/10 01:52:03 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/10 01:52:03 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.462ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/10 01:52:03 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.512ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND index_name = 'idx_comments_deleted_at'

2022/06/10 01:52:03 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/10 01:52:03 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.510ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/10 01:52:03 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND table_type = 'BASE TABLE'

2022/06/10 01:52:03 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.508ms] [rows:-] SELECT DATABASE()

2022/06/10 01:52:03 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.616ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/10 01:52:03 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `favorites` LIMIT 1

2022/06/10 01:52:03 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[15.565ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' ORDER BY ORDINAL_POSITION

2022/06/10 01:52:03 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/10 01:52:03 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.842ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/10 01:52:03 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.546ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND index_name = 'idx_favorites_deleted_at'

2022/06/10 01:52:03 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/10 01:52:03 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.514ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/10 01:52:03 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND table_type = 'BASE TABLE'

2022/06/10 01:52:03 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.514ms] [rows:-] SELECT DATABASE()

2022/06/10 01:52:03 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.562ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/10 01:52:03 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `relations` LIMIT 1

2022/06/10 01:52:03 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[9.489ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'relations' ORDER BY ORDINAL_POSITION

2022/06/10 01:52:03 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/10 01:52:03 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.512ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/10 01:52:03 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND index_name = 'idx_relations_deleted_at'

2022/06/10 01:52:09 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[1.041ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/06/10 01:52:09 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[0.516ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/06/10 01:52:11 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.783ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-06-10 01:52:09.774'
LIMIT 30;

2022/06/10 01:52:11 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 17

2022/06/10 01:52:11 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[0.999ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/06/10 01:52:11 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[0.808ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/06/10 01:52:11 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[0.517ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/06/10 01:52:11 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[0.785ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/06/10 01:52:11 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.901ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-06-09 23:52:37'
LIMIT 30;

2022/06/10 01:52:11 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 1

2022/06/10 01:52:20 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[1.376ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl6626' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/06/10 01:52:20 E:/summerByteDance/DouYin_demo/app/services/user.go:48
[0.510ms] [rows:1] SELECT * FROM `users` WHERE `users`.`id` = 1 AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/06/10 01:52:21 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[0.720ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/06/10 01:52:21 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[0.529ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/06/10 01:52:29 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.657ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-06-10 01:52:28.123'
LIMIT 30;

2022/06/10 01:52:29 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 17

2022/06/10 01:52:29 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.000ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-06-09 23:52:37'
LIMIT 30;

2022/06/10 01:52:29 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.631ms] [rows:1] SELECT created_at FROM videos WHERE id = 1

2022/06/10 01:52:29 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[0.713ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/06/10 01:52:29 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[1.102ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/06/10 01:52:33 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.478ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-06-10 01:52:32.219'
LIMIT 30;

2022/06/10 01:52:33 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 17

2022/06/10 01:52:34 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[1.125ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/06/10 01:52:34 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[0.000ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/06/10 01:52:34 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[21.825ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-06-09 23:52:37'
LIMIT 30;

2022/06/10 01:52:34 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 1

2022/06/10 01:52:36 E:/summerByteDance/DouYin_demo/app/services/comment.go:93
[1.308ms] [rows:2] SELECT
    c.id AS id,
    u.id AS user_id,
    u.name AS user_name,
    u.follow_count AS follow_count,
    u.follower_count AS follower_count,
    IF(r.id IS NULL,false,true) AS is_follow,
    c.comment_text AS content,
    c.created_at AS create_date
FROM comments c
LEFT JOIN users u ON c.user_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE c.video_id=1
ORDER BY c.updated_at;

2022/06/10 01:52:47 E:/summerByteDance/DouYin_demo/app/services/favorite.go:79
[0.727ms] [rows:1] SELECT * FROM `favorites` WHERE (user_id = 1 and video_id = 1) AND `favorites`.`deleted_at` IS NULL ORDER BY `favorites`.`id` LIMIT 1

2022/06/10 01:52:49 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[0.938ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 0
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 0
ORDER BY v.created_at

2022/06/10 01:52:49 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.533ms] [rows:0] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-24 02:23:38'
LIMIT 30;

2022/06/10 01:52:49 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[0.609ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 0
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 0
    )
ORDER BY v.created_at;

2022/06/10 01:55:57 E:/summerByteDance/DouYin_demo/app/services/publish.go:71
[6.939ms] [rows:1] INSERT INTO `videos` (`author_id`,`play_url`,`cover_url`,`favorite_count`,`comment_count`,`is_favorite`,`disk_type`,`src_type`,`created_at`,`updated_at`,`deleted_at`) VALUES (1,'http://192.168.2.167:8888/storage/local/qqqqqqqqqqq/d195fced-8ae3-4ab7-92a5-5a77633be767.MP4','http://192.168.2.167:8888/storage/local/qqqqqqqqqqq/cover.jpeg',0,0,false,'local',1,'2022-06-10 01:55:57.1','2022-06-10 01:55:57.1',NULL)

2022/06/10 01:56:07 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[0.782ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/06/10 01:56:07 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[0.663ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/06/10 01:56:07 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[1.262ms] [rows:0] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-24 02:23:38'
LIMIT 30;

2022/06/10 01:56:12 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[0.530ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 0
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 0
ORDER BY v.created_at

2022/06/10 01:56:12 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[0.531ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 0
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 0
    )
ORDER BY v.created_at;

2022/06/10 01:56:12 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[1.337ms] [rows:0] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-24 02:23:38'
LIMIT 30;

2022/06/10 01:56:13 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[1.623ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/06/10 01:56:13 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[1.609ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/06/10 01:56:13 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.814ms] [rows:0] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-24 02:23:38'
LIMIT 30;

2022/06/10 01:56:15 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[1.137ms] [rows:0] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-24 02:23:38'
LIMIT 30;

2022/06/10 01:56:21 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[0.518ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 0
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 0
ORDER BY v.created_at

2022/06/10 01:56:21 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[0.955ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 0
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 0
    )
ORDER BY v.created_at;

2022/06/10 01:56:21 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.288ms] [rows:0] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-24 02:23:38'
LIMIT 30;

2022/06/10 01:56:24 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[1.171ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/06/10 01:56:24 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[0.660ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/06/10 01:56:24 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.521ms] [rows:0] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-24 02:23:38'
LIMIT 30;

2022/06/10 02:00:05 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.921ms] [rows:3] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-06-10 02:00:04.272'
LIMIT 30;

2022/06/10 02:00:05 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 17

2022/06/10 02:00:06 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[1.017ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/06/10 02:00:06 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[0.293ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/06/10 02:00:06 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.000ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-06-09 23:52:37'
LIMIT 30;

2022/06/10 02:00:06 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.521ms] [rows:1] SELECT created_at FROM videos WHERE id = 1

2022/06/10 02:00:09 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[0.577ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/06/10 02:00:09 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[2.131ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/06/10 02:00:09 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[1.036ms] [rows:0] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-24 02:23:38'
LIMIT 30;

2022/06/10 02:00:30 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[0.514ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 0
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 0
ORDER BY v.created_at

2022/06/10 02:00:30 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[2.879ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 0
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 0
    )
ORDER BY v.created_at;

2022/06/10 02:00:30 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.994ms] [rows:0] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-24 02:23:38'
LIMIT 30;

2022/06/10 02:00:34 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[1.414ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/06/10 02:00:34 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[0.523ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/06/10 02:00:34 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.831ms] [rows:0] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-24 02:23:38'
LIMIT 30;

2022/06/10 02:00:36 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[3.173ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 0
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 0
ORDER BY v.created_at

2022/06/10 02:00:36 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[3.105ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 0
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 0
    )
ORDER BY v.created_at;

2022/06/10 02:00:36 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.000ms] [rows:0] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-24 02:23:38'
LIMIT 30;

2022/06/10 02:03:52 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[2.852ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/06/10 02:03:52 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[4.368ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/06/10 02:03:52 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.523ms] [rows:0] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-05-24 02:23:38'
LIMIT 30;

2022/06/10 02:24:51 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[14.191ms] [rows:3] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-06-10 02:24:49.895'
LIMIT 30;

2022/06/10 02:24:51 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.603ms] [rows:1] SELECT created_at FROM videos WHERE id = 17

2022/06/10 02:24:51 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[2.265ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/06/10 02:24:51 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[1.130ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/06/10 02:24:51 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[1.253ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-06-09 23:52:37'
LIMIT 30;

2022/06/10 02:24:51 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[1.152ms] [rows:1] SELECT created_at FROM videos WHERE id = 1

2022/06/10 02:27:43 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[2.314ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/06/10 02:27:43 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[1.536ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/06/10 02:35:23 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[2.144ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/06/10 02:35:23 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[5.614ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/06/10 02:36:34 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/10 02:36:34 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[2.908ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/10 02:36:34 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[1.004ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/06/10 02:36:34 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/10 02:36:34 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.544ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/10 02:36:34 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/06/10 02:36:34 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[26.983ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/06/10 02:36:34 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[10.516ms] [rows:0] ALTER TABLE `users` MODIFY COLUMN `is_follow` boolean NOT NULL DEFAULT false COMMENT '是否关注'

2022/06/10 02:36:34 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/10 02:36:34 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.513ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/10 02:36:34 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/06/10 02:36:34 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/10 02:36:34 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.024ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/10 02:36:34 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND table_type = 'BASE TABLE'

2022/06/10 02:36:34 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/10 02:36:34 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.165ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/10 02:36:34 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `videos` LIMIT 1

2022/06/10 02:36:34 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[14.734ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'videos' ORDER BY ORDINAL_POSITION

2022/06/10 02:36:34 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[9.559ms] [rows:0] ALTER TABLE `videos` MODIFY COLUMN `is_favorite` boolean NOT NULL DEFAULT false COMMENT '是否点赞'

2022/06/10 02:36:34 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/10 02:36:34 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.512ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/10 02:36:34 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_disk_type'

2022/06/10 02:36:34 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.508ms] [rows:-] SELECT DATABASE()

2022/06/10 02:36:34 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.600ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/10 02:36:34 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_deleted_at'

2022/06/10 02:36:34 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.505ms] [rows:-] SELECT DATABASE()

2022/06/10 02:36:34 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.510ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/10 02:36:34 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND table_type = 'BASE TABLE'

2022/06/10 02:36:34 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.510ms] [rows:-] SELECT DATABASE()

2022/06/10 02:36:34 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.551ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/10 02:36:34 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.556ms] [rows:-] SELECT * FROM `comments` LIMIT 1

2022/06/10 02:36:34 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[15.875ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'comments' ORDER BY ORDINAL_POSITION

2022/06/10 02:36:34 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.514ms] [rows:-] SELECT DATABASE()

2022/06/10 02:36:34 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.073ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/10 02:36:34 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.560ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND index_name = 'idx_comments_deleted_at'

2022/06/10 02:36:34 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/10 02:36:34 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.328ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/10 02:36:34 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND table_type = 'BASE TABLE'

2022/06/10 02:36:34 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/10 02:36:34 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.994ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/10 02:36:34 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `favorites` LIMIT 1

2022/06/10 02:36:34 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[15.135ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' ORDER BY ORDINAL_POSITION

2022/06/10 02:36:34 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/10 02:36:34 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.027ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/10 02:36:34 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.555ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND index_name = 'idx_favorites_deleted_at'

2022/06/10 02:36:34 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/10 02:36:34 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.511ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/10 02:36:34 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND table_type = 'BASE TABLE'

2022/06/10 02:36:34 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.504ms] [rows:-] SELECT DATABASE()

2022/06/10 02:36:34 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.508ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/10 02:36:34 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `relations` LIMIT 1

2022/06/10 02:36:34 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[13.497ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'relations' ORDER BY ORDINAL_POSITION

2022/06/10 02:36:34 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/10 02:36:34 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.340ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/10 02:36:34 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.508ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND index_name = 'idx_relations_deleted_at'

2022/06/10 02:37:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/10 02:37:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.512ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/10 02:37:21 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.515ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/06/10 02:37:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/10 02:37:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.036ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/10 02:37:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/06/10 02:37:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[18.438ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/06/10 02:37:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[14.871ms] [rows:0] ALTER TABLE `users` MODIFY COLUMN `is_follow` boolean NOT NULL DEFAULT false COMMENT '是否关注'

2022/06/10 02:37:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/10 02:37:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.022ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/10 02:37:21 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/06/10 02:37:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.516ms] [rows:-] SELECT DATABASE()

2022/06/10 02:37:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.508ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/10 02:37:21 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.635ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND table_type = 'BASE TABLE'

2022/06/10 02:37:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/10 02:37:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.928ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/10 02:37:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `videos` LIMIT 1

2022/06/10 02:37:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[10.964ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'videos' ORDER BY ORDINAL_POSITION

2022/06/10 02:37:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[8.218ms] [rows:0] ALTER TABLE `videos` MODIFY COLUMN `is_favorite` boolean NOT NULL DEFAULT false COMMENT '是否点赞'

2022/06/10 02:37:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/10 02:37:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.835ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/10 02:37:21 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_disk_type'

2022/06/10 02:37:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/10 02:37:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.045ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/10 02:37:21 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_deleted_at'

2022/06/10 02:37:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/10 02:37:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.506ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/10 02:37:21 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.515ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND table_type = 'BASE TABLE'

2022/06/10 02:37:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/10 02:37:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.596ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/10 02:37:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.073ms] [rows:-] SELECT * FROM `comments` LIMIT 1

2022/06/10 02:37:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[7.080ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'comments' ORDER BY ORDINAL_POSITION

2022/06/10 02:37:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/10 02:37:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.509ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/10 02:37:21 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND index_name = 'idx_comments_deleted_at'

2022/06/10 02:37:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.509ms] [rows:-] SELECT DATABASE()

2022/06/10 02:37:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.011ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/10 02:37:21 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.511ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND table_type = 'BASE TABLE'

2022/06/10 02:37:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/10 02:37:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.513ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/10 02:37:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `favorites` LIMIT 1

2022/06/10 02:37:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[12.133ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' ORDER BY ORDINAL_POSITION

2022/06/10 02:37:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/10 02:37:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.568ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/10 02:37:21 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.937ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND index_name = 'idx_favorites_deleted_at'

2022/06/10 02:37:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/10 02:37:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.199ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/10 02:37:21 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND table_type = 'BASE TABLE'

2022/06/10 02:37:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.512ms] [rows:-] SELECT DATABASE()

2022/06/10 02:37:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.506ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/10 02:37:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.337ms] [rows:-] SELECT * FROM `relations` LIMIT 1

2022/06/10 02:37:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[7.963ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'relations' ORDER BY ORDINAL_POSITION

2022/06/10 02:37:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/10 02:37:21 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.118ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/10 02:37:21 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND index_name = 'idx_relations_deleted_at'

2022/06/10 02:37:39 E:/summerByteDance/DouYin_demo/app/services/publish.go:71
[6.671ms] [rows:1] INSERT INTO `videos` (`author_id`,`play_url`,`cover_url`,`favorite_count`,`comment_count`,`is_favorite`,`disk_type`,`src_type`,`created_at`,`updated_at`,`deleted_at`) VALUES (0,'http://192.168.2.167:8888/storage/local/hxl1/a8f5fb16-86fe-4583-aef2-1f9198f83c53.MP4','http://192.168.2.167:8888/storage/local/hxl1/cover.jpeg',0,0,false,'local',1,'2022-06-10 02:37:39.045','2022-06-10 02:37:39.045',NULL)

2022/06/10 02:37:40 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[10.967ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 0
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 0
    )
ORDER BY v.created_at;

2022/06/10 02:37:40 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[31.398ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 0
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 0
ORDER BY v.created_at

2022/06/10 02:37:54 E:/summerByteDance/DouYin_demo/app/services/publish.go:71
[4.992ms] [rows:1] INSERT INTO `videos` (`author_id`,`play_url`,`cover_url`,`favorite_count`,`comment_count`,`is_favorite`,`disk_type`,`src_type`,`created_at`,`updated_at`,`deleted_at`) VALUES (0,'http://192.168.2.167:8888/storage/local/hxl2/69caa741-392b-4b84-86c6-fe6938c74082.MP4','http://192.168.2.167:8888/storage/local/hxl2/cover.jpeg',0,0,false,'local',1,'2022-06-10 02:37:54.288','2022-06-10 02:37:54.288',NULL)

2022/06/10 02:38:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/10 02:38:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.509ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/10 02:38:36 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND table_type = 'BASE TABLE'

2022/06/10 02:38:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/10 02:38:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.046ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/10 02:38:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `users` LIMIT 1

2022/06/10 02:38:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[18.521ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2022/06/10 02:38:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[12.487ms] [rows:0] ALTER TABLE `users` MODIFY COLUMN `is_follow` boolean NOT NULL DEFAULT false COMMENT '是否关注'

2022/06/10 02:38:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.223ms] [rows:-] SELECT DATABASE()

2022/06/10 02:38:36 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.507ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/10 02:38:36 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'users' AND index_name = 'idx_users_deleted_at'

2022/06/10 02:38:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.508ms] [rows:-] SELECT DATABASE()

2022/06/10 02:38:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.506ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/10 02:38:37 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND table_type = 'BASE TABLE'

2022/06/10 02:38:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/10 02:38:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.573ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/10 02:38:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `videos` LIMIT 1

2022/06/10 02:38:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[10.604ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'videos' ORDER BY ORDINAL_POSITION

2022/06/10 02:38:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:32
[9.011ms] [rows:0] ALTER TABLE `videos` MODIFY COLUMN `is_favorite` boolean NOT NULL DEFAULT false COMMENT '是否点赞'

2022/06/10 02:38:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/10 02:38:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.765ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/10 02:38:37 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_disk_type'

2022/06/10 02:38:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/10 02:38:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.508ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/10 02:38:37 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'videos' AND index_name = 'idx_videos_deleted_at'

2022/06/10 02:38:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.512ms] [rows:-] SELECT DATABASE()

2022/06/10 02:38:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.628ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/10 02:38:37 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND table_type = 'BASE TABLE'

2022/06/10 02:38:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.512ms] [rows:-] SELECT DATABASE()

2022/06/10 02:38:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.506ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/10 02:38:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `comments` LIMIT 1

2022/06/10 02:38:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[12.581ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'comments' ORDER BY ORDINAL_POSITION

2022/06/10 02:38:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/10 02:38:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.088ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/10 02:38:37 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.065ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'comments' AND index_name = 'idx_comments_deleted_at'

2022/06/10 02:38:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/10 02:38:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[1.210ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/10 02:38:37 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.202ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND table_type = 'BASE TABLE'

2022/06/10 02:38:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/10 02:38:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.512ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/10 02:38:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.622ms] [rows:-] SELECT * FROM `favorites` LIMIT 1

2022/06/10 02:38:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[11.713ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' ORDER BY ORDINAL_POSITION

2022/06/10 02:38:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/10 02:38:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.508ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/10 02:38:37 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.694ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'favorites' AND index_name = 'idx_favorites_deleted_at'

2022/06/10 02:38:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.000ms] [rows:-] SELECT DATABASE()

2022/06/10 02:38:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.510ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/10 02:38:37 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND table_type = 'BASE TABLE'

2022/06/10 02:38:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.505ms] [rows:-] SELECT DATABASE()

2022/06/10 02:38:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.507ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/10 02:38:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:148
[0.000ms] [rows:-] SELECT * FROM `relations` LIMIT 1

2022/06/10 02:38:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:166
[9.017ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale FROM information_schema.columns WHERE table_schema = 'douyin_demo' AND table_name = 'relations' ORDER BY ORDINAL_POSITION

2022/06/10 02:38:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:228
[0.180ms] [rows:-] SELECT DATABASE()

2022/06/10 02:38:37 C:/Users/13199425052/go/pkg/mod/gorm.io/driver/mysql@v1.3.3/migrator.go:231
[0.630ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'douyin_demo%' ORDER BY SCHEMA_NAME='douyin_demo' DESC limit 1

2022/06/10 02:38:37 E:/summerByteDance/DouYin_demo/bootstrap/db.go:117
[0.000ms] [rows:-] SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'douyin_demo' AND table_name = 'relations' AND index_name = 'idx_relations_deleted_at'

2022/06/10 02:38:47 E:/summerByteDance/DouYin_demo/app/services/publish.go:71
[17.960ms] [rows:1] INSERT INTO `videos` (`author_id`,`play_url`,`cover_url`,`favorite_count`,`comment_count`,`is_favorite`,`disk_type`,`src_type`,`created_at`,`updated_at`,`deleted_at`) VALUES (0,'http://192.168.2.167:8888/storage/local/hxl3/2d32f321-be1c-4867-97ac-c744c07ad8df.MP4','http://192.168.2.167:8888/storage/local/hxl3/cover.jpeg',0,0,false,'local',1,'2022-06-10 02:38:47.281','2022-06-10 02:38:47.281',NULL)

2022/06/10 02:38:59 E:/summerByteDance/DouYin_demo/app/services/publish.go:71
[10.323ms] [rows:1] INSERT INTO `videos` (`author_id`,`play_url`,`cover_url`,`favorite_count`,`comment_count`,`is_favorite`,`disk_type`,`src_type`,`created_at`,`updated_at`,`deleted_at`) VALUES (0,'http://192.168.2.167:8888/storage/local/hxl4/90a6ee88-bc47-4658-ba0f-b649db71e531.MP4','http://192.168.2.167:8888/storage/local/hxl4/cover.jpeg',0,0,false,'local',1,'2022-06-10 02:38:59.662','2022-06-10 02:38:59.662',NULL)

2022/06/10 02:39:10 E:/summerByteDance/DouYin_demo/app/services/publish.go:71
[3.235ms] [rows:1] INSERT INTO `videos` (`author_id`,`play_url`,`cover_url`,`favorite_count`,`comment_count`,`is_favorite`,`disk_type`,`src_type`,`created_at`,`updated_at`,`deleted_at`) VALUES (0,'http://192.168.2.167:8888/storage/local/hxl5/5f60c415-80e7-4f8d-88a8-57f46b415a02.MP4','http://192.168.2.167:8888/storage/local/hxl5/cover.jpeg',0,0,false,'local',1,'2022-06-10 02:39:10.087','2022-06-10 02:39:10.087',NULL)

2022/06/10 02:39:21 E:/summerByteDance/DouYin_demo/app/services/publish.go:71
[1.777ms] [rows:1] INSERT INTO `videos` (`author_id`,`play_url`,`cover_url`,`favorite_count`,`comment_count`,`is_favorite`,`disk_type`,`src_type`,`created_at`,`updated_at`,`deleted_at`) VALUES (0,'http://192.168.2.167:8888/storage/local/hxl6/9ae8d34a-3968-4e8a-b547-28fb6d746184.MP4','http://192.168.2.167:8888/storage/local/hxl6/cover.jpeg',0,0,false,'local',1,'2022-06-10 02:39:21.004','2022-06-10 02:39:21.004',NULL)

2022/06/10 02:39:23 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[0.511ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/06/10 02:39:23 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[1.843ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/06/10 02:39:25 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[1.476ms] [rows:9] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-06-10 02:39:24.132'
LIMIT 30;

2022/06/10 02:39:25 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.521ms] [rows:1] SELECT created_at FROM videos WHERE id = 24

2022/06/10 02:39:25 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[1.678ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/06/10 02:39:25 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[1.163ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/06/10 02:39:25 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[1.455ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/06/10 02:39:25 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[0.619ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/06/10 02:39:43 E:/summerByteDance/DouYin_demo/app/services/user.go:37
[27.807ms] [rows:1] SELECT * FROM `users` WHERE name = 'hxl66266' AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/06/10 02:39:43 E:/summerByteDance/DouYin_demo/app/services/user.go:48
[0.517ms] [rows:1] SELECT * FROM `users` WHERE `users`.`id` = 2 AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2022/06/10 02:39:43 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[1.114ms] [rows:0] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 2
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 2
ORDER BY v.created_at

2022/06/10 02:39:43 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[18.545ms] [rows:0] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 2
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 2
    )
ORDER BY v.created_at;

2022/06/10 02:40:12 E:/summerByteDance/DouYin_demo/app/services/publish.go:71
[1.930ms] [rows:1] INSERT INTO `videos` (`author_id`,`play_url`,`cover_url`,`favorite_count`,`comment_count`,`is_favorite`,`disk_type`,`src_type`,`created_at`,`updated_at`,`deleted_at`) VALUES (2,'http://192.168.2.167:8888/storage/local/hxl7/0aba183d-855c-4cc1-b87d-08fb1d850cae.MP4','http://192.168.2.167:8888/storage/local/hxl7/cover.jpeg',0,0,false,'local',1,'2022-06-10 02:40:12.032','2022-06-10 02:40:12.032',NULL)

2022/06/10 02:40:13 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[0.861ms] [rows:0] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 2
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 2
    )
ORDER BY v.created_at;

2022/06/10 02:40:13 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[1.039ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 2
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 2
ORDER BY v.created_at

2022/06/10 02:40:21 E:/summerByteDance/DouYin_demo/app/services/publish.go:71
[2.992ms] [rows:1] INSERT INTO `videos` (`author_id`,`play_url`,`cover_url`,`favorite_count`,`comment_count`,`is_favorite`,`disk_type`,`src_type`,`created_at`,`updated_at`,`deleted_at`) VALUES (2,'http://192.168.2.167:8888/storage/local/hxl8/daa734de-647a-4fe5-967a-6273de7555cc.MP4','http://192.168.2.167:8888/storage/local/hxl8/cover.jpeg',0,0,false,'local',1,'2022-06-10 02:40:21.977','2022-06-10 02:40:21.977',NULL)

2022/06/10 02:40:23 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[1.436ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 2
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 2
ORDER BY v.created_at

2022/06/10 02:40:23 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[1.124ms] [rows:0] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 2
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 2
    )
ORDER BY v.created_at;

2022/06/10 02:40:35 E:/summerByteDance/DouYin_demo/app/services/publish.go:71
[1.504ms] [rows:1] INSERT INTO `videos` (`author_id`,`play_url`,`cover_url`,`favorite_count`,`comment_count`,`is_favorite`,`disk_type`,`src_type`,`created_at`,`updated_at`,`deleted_at`) VALUES (2,'http://192.168.2.167:8888/storage/local/hxl9/3cf827ca-af4d-42f4-b725-7b2b08bfb265.MP4','http://192.168.2.167:8888/storage/local/hxl9/cover.jpeg',0,0,false,'local',1,'2022-06-10 02:40:35.683','2022-06-10 02:40:35.683',NULL)

2022/06/10 02:40:36 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[0.607ms] [rows:3] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 2
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 2
ORDER BY v.created_at

2022/06/10 02:40:36 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[1.744ms] [rows:0] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 2
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 2
    )
ORDER BY v.created_at;

2022/06/10 02:40:53 E:/summerByteDance/DouYin_demo/app/services/publish.go:71
[2.957ms] [rows:1] INSERT INTO `videos` (`author_id`,`play_url`,`cover_url`,`favorite_count`,`comment_count`,`is_favorite`,`disk_type`,`src_type`,`created_at`,`updated_at`,`deleted_at`) VALUES (2,'http://192.168.2.167:8888/storage/local/hxl10/62e4c5a4-cbfe-4ce1-b20e-a3cef1103748.MP4','http://192.168.2.167:8888/storage/local/hxl10/cover.jpeg',0,0,false,'local',1,'2022-06-10 02:40:53.398','2022-06-10 02:40:53.398',NULL)

2022/06/10 02:40:54 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[0.505ms] [rows:0] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 2
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 2
    )
ORDER BY v.created_at;

2022/06/10 02:40:54 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[0.542ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 2
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 2
ORDER BY v.created_at

2022/06/10 02:40:58 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[0.517ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/06/10 02:40:58 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[3.063ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/06/10 02:41:01 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[1.478ms] [rows:7] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 0
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 0
ORDER BY v.created_at

2022/06/10 02:41:01 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[2.199ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 0
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 0
    )
ORDER BY v.created_at;

2022/06/10 02:41:03 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[1.328ms] [rows:7] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 0
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 0
ORDER BY v.created_at

2022/06/10 02:41:03 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[1.057ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 0
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 0
    )
ORDER BY v.created_at;

2022/06/10 02:41:11 E:/summerByteDance/DouYin_demo/app/services/relation.go:94 record not found
[0.776ms] [rows:0] SELECT * FROM `relations` WHERE (user_id = 2 and follow_id = 0) AND `relations`.`deleted_at` IS NULL ORDER BY `relations`.`id` LIMIT 1

2022/06/10 02:41:11 E:/summerByteDance/DouYin_demo/app/services/relation.go:54
[2.449ms] [rows:1] INSERT INTO `relations` (`user_id`,`follow_id`,`created_at`,`updated_at`,`deleted_at`) VALUES (2,0,'2022-06-10 02:41:11.862','2022-06-10 02:41:11.862',NULL)

2022/06/10 02:41:11 E:/summerByteDance/DouYin_demo/app/services/relation.go:58
[0.558ms] [rows:0] UPDATE `users` SET `follower_count`=follower_count + 1,`updated_at`='2022-06-10 02:41:11.865' WHERE id = 0 AND `users`.`deleted_at` IS NULL

2022/06/10 02:41:11 E:/summerByteDance/DouYin_demo/app/services/relation.go:63
[2.900ms] [rows:1] UPDATE `users` SET `follow_count`=follow_count + 1,`updated_at`='2022-06-10 02:41:11.865' WHERE id = 2 AND `users`.`deleted_at` IS NULL

2022/06/10 02:41:15 E:/summerByteDance/DouYin_demo/app/services/favorite.go:79 record not found
[0.878ms] [rows:0] SELECT * FROM `favorites` WHERE (user_id = 2 and video_id = 19) AND `favorites`.`deleted_at` IS NULL ORDER BY `favorites`.`id` LIMIT 1

2022/06/10 02:41:15 E:/summerByteDance/DouYin_demo/app/services/favorite.go:52
[1.562ms] [rows:1] INSERT INTO `favorites` (`user_id`,`video_id`,`created_at`,`updated_at`,`deleted_at`) VALUES (2,19,'2022-06-10 02:41:15.092','2022-06-10 02:41:15.092',NULL)

2022/06/10 02:41:15 E:/summerByteDance/DouYin_demo/app/services/favorite.go:56
[2.366ms] [rows:1] UPDATE `videos` SET `favorite_count`=favorite_count + 1,`updated_at`='2022-06-10 02:41:15.094' WHERE id = 19 AND `videos`.`deleted_at` IS NULL

2022/06/10 02:41:16 E:/summerByteDance/DouYin_demo/app/services/comment.go:93
[1.314ms] [rows:0] SELECT
    c.id AS id,
    u.id AS user_id,
    u.name AS user_name,
    u.follow_count AS follow_count,
    u.follower_count AS follower_count,
    IF(r.id IS NULL,false,true) AS is_follow,
    c.comment_text AS content,
    c.created_at AS create_date
FROM comments c
LEFT JOIN users u ON c.user_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 2
WHERE c.video_id=19
ORDER BY c.updated_at;

2022/06/10 02:41:19 E:/summerByteDance/DouYin_demo/app/services/comment.go:93
[0.934ms] [rows:0] SELECT
    c.id AS id,
    u.id AS user_id,
    u.name AS user_name,
    u.follow_count AS follow_count,
    u.follower_count AS follower_count,
    IF(r.id IS NULL,false,true) AS is_follow,
    c.comment_text AS content,
    c.created_at AS create_date
FROM comments c
LEFT JOIN users u ON c.user_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 2
WHERE c.video_id=19
ORDER BY c.updated_at;

2022/06/10 02:41:19 E:/summerByteDance/DouYin_demo/app/services/comment.go:55
[2.333ms] [rows:1] INSERT INTO `comments` (`user_id`,`video_id`,`comment_text`,`created_at`,`updated_at`,`deleted_at`) VALUES (2,19,'666','2022-06-10 02:41:19.995','2022-06-10 02:41:19.995',NULL)

2022/06/10 02:41:19 E:/summerByteDance/DouYin_demo/app/services/comment.go:59
[1.333ms] [rows:1] UPDATE `videos` SET `comment_count`=comment_count + 1,`updated_at`='2022-06-10 02:41:19.998' WHERE id = 19 AND `videos`.`deleted_at` IS NULL

2022/06/10 02:41:22 E:/summerByteDance/DouYin_demo/app/services/comment.go:93
[0.593ms] [rows:1] SELECT
    c.id AS id,
    u.id AS user_id,
    u.name AS user_name,
    u.follow_count AS follow_count,
    u.follower_count AS follower_count,
    IF(r.id IS NULL,false,true) AS is_follow,
    c.comment_text AS content,
    c.created_at AS create_date
FROM comments c
LEFT JOIN users u ON c.user_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 2
WHERE c.video_id=19
ORDER BY c.updated_at;

2022/06/10 02:41:25 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[0.677ms] [rows:7] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 0
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 0
ORDER BY v.created_at

2022/06/10 02:41:25 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[1.722ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 0
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 0
    )
ORDER BY v.created_at;

2022/06/10 02:41:27 E:/summerByteDance/DouYin_demo/app/services/favorite.go:79 record not found
[0.959ms] [rows:0] SELECT * FROM `favorites` WHERE (user_id = 2 and video_id = 20) AND `favorites`.`deleted_at` IS NULL ORDER BY `favorites`.`id` LIMIT 1

2022/06/10 02:41:27 E:/summerByteDance/DouYin_demo/app/services/favorite.go:52
[1.973ms] [rows:1] INSERT INTO `favorites` (`user_id`,`video_id`,`created_at`,`updated_at`,`deleted_at`) VALUES (2,20,'2022-06-10 02:41:27.223','2022-06-10 02:41:27.223',NULL)

2022/06/10 02:41:27 E:/summerByteDance/DouYin_demo/app/services/favorite.go:56
[1.605ms] [rows:1] UPDATE `videos` SET `favorite_count`=favorite_count + 1,`updated_at`='2022-06-10 02:41:27.226' WHERE id = 20 AND `videos`.`deleted_at` IS NULL

2022/06/10 02:41:29 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[1.151ms] [rows:7] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 0
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 0
ORDER BY v.created_at

2022/06/10 02:41:29 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[0.637ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 0
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 0
    )
ORDER BY v.created_at;

2022/06/10 02:41:32 E:/summerByteDance/DouYin_demo/app/services/favorite.go:79 record not found
[0.490ms] [rows:0] SELECT * FROM `favorites` WHERE (user_id = 2 and video_id = 21) AND `favorites`.`deleted_at` IS NULL ORDER BY `favorites`.`id` LIMIT 1

2022/06/10 02:41:32 E:/summerByteDance/DouYin_demo/app/services/favorite.go:52
[2.033ms] [rows:1] INSERT INTO `favorites` (`user_id`,`video_id`,`created_at`,`updated_at`,`deleted_at`) VALUES (2,21,'2022-06-10 02:41:32.178','2022-06-10 02:41:32.178',NULL)

2022/06/10 02:41:32 E:/summerByteDance/DouYin_demo/app/services/favorite.go:56
[1.048ms] [rows:1] UPDATE `videos` SET `favorite_count`=favorite_count + 1,`updated_at`='2022-06-10 02:41:32.18' WHERE id = 21 AND `videos`.`deleted_at` IS NULL

2022/06/10 02:41:33 E:/summerByteDance/DouYin_demo/app/services/relation.go:94
[0.632ms] [rows:1] SELECT * FROM `relations` WHERE (user_id = 2 and follow_id = 0) AND `relations`.`deleted_at` IS NULL ORDER BY `relations`.`id` LIMIT 1

2022/06/10 02:41:35 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[1.364ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 0
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 0
    )
ORDER BY v.created_at;

2022/06/10 02:41:35 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[0.887ms] [rows:7] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 0
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 0
ORDER BY v.created_at

2022/06/10 02:41:35 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[1.159ms] [rows:8] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-06-10 02:39:21'
LIMIT 30;

2022/06/10 02:41:35 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 23

2022/06/10 02:41:44 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[0.942ms] [rows:7] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 0
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 0
ORDER BY v.created_at

2022/06/10 02:41:44 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[0.770ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 0
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 0
    )
ORDER BY v.created_at;

2022/06/10 02:41:54 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[2.242ms] [rows:7] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 0
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 0
ORDER BY v.created_at

2022/06/10 02:41:54 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[3.502ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 0
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 0
    )
ORDER BY v.created_at;

2022/06/10 02:42:15 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[0.994ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/06/10 02:42:15 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[1.993ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/06/10 02:42:17 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[0.598ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/06/10 02:42:17 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[2.246ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/06/10 02:42:21 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[0.981ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 0
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 0
    )
ORDER BY v.created_at;

2022/06/10 02:42:21 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[1.089ms] [rows:7] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 0
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 0
ORDER BY v.created_at

2022/06/10 02:42:23 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[0.598ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 0
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 0
    )
ORDER BY v.created_at;

2022/06/10 02:42:23 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[0.536ms] [rows:7] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 0
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 0
ORDER BY v.created_at

2022/06/10 02:42:53 E:/summerByteDance/DouYin_demo/app/services/comment.go:93
[11.228ms] [rows:1] SELECT
    c.id AS id,
    u.id AS user_id,
    u.name AS user_name,
    u.follow_count AS follow_count,
    u.follower_count AS follower_count,
    IF(r.id IS NULL,false,true) AS is_follow,
    c.comment_text AS content,
    c.created_at AS create_date
FROM comments c
LEFT JOIN users u ON c.user_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 2
WHERE c.video_id=19
ORDER BY c.updated_at;

2022/06/10 02:42:56 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[1.323ms] [rows:7] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 0
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 0
ORDER BY v.created_at

2022/06/10 02:42:56 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[0.537ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 0
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 0
    )
ORDER BY v.created_at;

2022/06/10 02:42:57 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[0.698ms] [rows:3] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 2
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 2
    )
ORDER BY v.created_at;

2022/06/10 02:42:57 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[0.706ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 2
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 2
ORDER BY v.created_at

2022/06/10 02:43:05 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[0.574ms] [rows:7] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 0
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 0
ORDER BY v.created_at

2022/06/10 02:43:05 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[1.067ms] [rows:7] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-06-10 02:39:10'
LIMIT 30;

2022/06/10 02:43:05 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 22

2022/06/10 02:43:05 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[0.000ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 0
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 0
    )
ORDER BY v.created_at;

2022/06/10 02:43:10 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[0.625ms] [rows:7] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 0
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 0
ORDER BY v.created_at

2022/06/10 02:43:10 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[0.616ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 0
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 0
    )
ORDER BY v.created_at;

2022/06/10 02:43:17 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[1.215ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 0
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 0
    )
ORDER BY v.created_at;

2022/06/10 02:43:17 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[0.510ms] [rows:7] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 0
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 0
ORDER BY v.created_at

2022/06/10 02:43:28 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[1.397ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/06/10 02:43:28 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[0.594ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/06/10 02:43:33 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[0.515ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/06/10 02:43:33 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[1.640ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/06/10 02:43:40 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[1.012ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 0
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 0
    )
ORDER BY v.created_at;

2022/06/10 02:43:40 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[1.594ms] [rows:7] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 0
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 0
ORDER BY v.created_at

2022/06/10 02:43:43 E:/summerByteDance/DouYin_demo/app/services/comment.go:93
[0.182ms] [rows:0] SELECT
    c.id AS id,
    u.id AS user_id,
    u.name AS user_name,
    u.follow_count AS follow_count,
    u.follower_count AS follower_count,
    IF(r.id IS NULL,false,true) AS is_follow,
    c.comment_text AS content,
    c.created_at AS create_date
FROM comments c
LEFT JOIN users u ON c.user_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 2
WHERE c.video_id=17
ORDER BY c.updated_at;

2022/06/10 02:43:47 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[2.991ms] [rows:7] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 0
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 0
ORDER BY v.created_at

2022/06/10 02:43:47 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[1.996ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 0
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 0
    )
ORDER BY v.created_at;

2022/06/10 02:43:56 E:/summerByteDance/DouYin_demo/app/services/favorite.go:79
[0.838ms] [rows:1] SELECT * FROM `favorites` WHERE (user_id = 2 and video_id = 19) AND `favorites`.`deleted_at` IS NULL ORDER BY `favorites`.`id` LIMIT 1

2022/06/10 02:43:57 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[0.686ms] [rows:7] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 0
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 0
ORDER BY v.created_at

2022/06/10 02:43:57 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[0.694ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 0
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 0
    )
ORDER BY v.created_at;

2022/06/10 02:43:57 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.523ms] [rows:6] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-06-10 02:39:00'
LIMIT 30;

2022/06/10 02:43:57 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.510ms] [rows:1] SELECT created_at FROM videos WHERE id = 21

2022/06/10 02:43:57 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[1.042ms] [rows:7] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 0
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 0
ORDER BY v.created_at

2022/06/10 02:43:57 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[0.660ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 0
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 0
    )
ORDER BY v.created_at;

2022/06/10 02:43:59 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[1.458ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 0
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 0
    )
ORDER BY v.created_at;

2022/06/10 02:43:59 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[1.049ms] [rows:7] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 0
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 0
ORDER BY v.created_at

2022/06/10 02:44:02 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[0.523ms] [rows:7] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 0
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 0
ORDER BY v.created_at

2022/06/10 02:44:02 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[0.694ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 0
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 0
    )
ORDER BY v.created_at;

2022/06/10 02:44:04 E:/summerByteDance/DouYin_demo/app/services/favorite.go:79 record not found
[1.471ms] [rows:0] SELECT * FROM `favorites` WHERE (user_id = 2 and video_id = 22) AND `favorites`.`deleted_at` IS NULL ORDER BY `favorites`.`id` LIMIT 1

2022/06/10 02:44:04 E:/summerByteDance/DouYin_demo/app/services/favorite.go:52
[10.054ms] [rows:1] INSERT INTO `favorites` (`user_id`,`video_id`,`created_at`,`updated_at`,`deleted_at`) VALUES (2,22,'2022-06-10 02:44:04.64','2022-06-10 02:44:04.64',NULL)

2022/06/10 02:44:04 E:/summerByteDance/DouYin_demo/app/services/favorite.go:56
[3.130ms] [rows:1] UPDATE `videos` SET `favorite_count`=favorite_count + 1,`updated_at`='2022-06-10 02:44:04.65' WHERE id = 22 AND `videos`.`deleted_at` IS NULL

2022/06/10 02:44:05 E:/summerByteDance/DouYin_demo/app/services/comment.go:93
[1.386ms] [rows:0] SELECT
    c.id AS id,
    u.id AS user_id,
    u.name AS user_name,
    u.follow_count AS follow_count,
    u.follower_count AS follower_count,
    IF(r.id IS NULL,false,true) AS is_follow,
    c.comment_text AS content,
    c.created_at AS create_date
FROM comments c
LEFT JOIN users u ON c.user_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 2
WHERE c.video_id=22
ORDER BY c.updated_at;

2022/06/10 02:44:09 E:/summerByteDance/DouYin_demo/app/services/comment.go:93
[0.998ms] [rows:0] SELECT
    c.id AS id,
    u.id AS user_id,
    u.name AS user_name,
    u.follow_count AS follow_count,
    u.follower_count AS follower_count,
    IF(r.id IS NULL,false,true) AS is_follow,
    c.comment_text AS content,
    c.created_at AS create_date
FROM comments c
LEFT JOIN users u ON c.user_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 2
WHERE c.video_id=22
ORDER BY c.updated_at;

2022/06/10 02:44:09 E:/summerByteDance/DouYin_demo/app/services/comment.go:55
[9.523ms] [rows:1] INSERT INTO `comments` (`user_id`,`video_id`,`comment_text`,`created_at`,`updated_at`,`deleted_at`) VALUES (2,22,'777','2022-06-10 02:44:09.025','2022-06-10 02:44:09.025',NULL)

2022/06/10 02:44:09 E:/summerByteDance/DouYin_demo/app/services/comment.go:59
[2.883ms] [rows:1] UPDATE `videos` SET `comment_count`=comment_count + 1,`updated_at`='2022-06-10 02:44:09.035' WHERE id = 22 AND `videos`.`deleted_at` IS NULL

2022/06/10 02:44:12 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[1.496ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/06/10 02:44:12 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[0.508ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/06/10 02:44:14 E:/summerByteDance/DouYin_demo/app/services/comment.go:93
[2.154ms] [rows:2] SELECT
    c.id AS id,
    u.id AS user_id,
    u.name AS user_name,
    u.follow_count AS follow_count,
    u.follower_count AS follower_count,
    IF(r.id IS NULL,false,true) AS is_follow,
    c.comment_text AS content,
    c.created_at AS create_date
FROM comments c
LEFT JOIN users u ON c.user_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 2
WHERE c.video_id=1
ORDER BY c.updated_at;

2022/06/10 02:44:18 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[0.871ms] [rows:7] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 0
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 0
ORDER BY v.created_at

2022/06/10 02:44:18 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[0.669ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 0
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 0
    )
ORDER BY v.created_at;

2022/06/10 02:44:19 E:/summerByteDance/DouYin_demo/app/services/comment.go:93
[0.512ms] [rows:1] SELECT
    c.id AS id,
    u.id AS user_id,
    u.name AS user_name,
    u.follow_count AS follow_count,
    u.follower_count AS follower_count,
    IF(r.id IS NULL,false,true) AS is_follow,
    c.comment_text AS content,
    c.created_at AS create_date
FROM comments c
LEFT JOIN users u ON c.user_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 2
WHERE c.video_id=22
ORDER BY c.updated_at;

2022/06/10 02:44:24 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[1.467ms] [rows:7] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 0
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 0
ORDER BY v.created_at

2022/06/10 02:44:24 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[1.175ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 0
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 0
    )
ORDER BY v.created_at;

2022/06/10 02:44:50 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[0.639ms] [rows:7] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 0
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 0
ORDER BY v.created_at

2022/06/10 02:44:50 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[1.216ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 0
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 0
    )
ORDER BY v.created_at;

2022/06/10 02:44:56 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[2.346ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/06/10 02:44:56 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[0.554ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/06/10 02:45:11 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[0.860ms] [rows:2] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 1
ORDER BY v.created_at

2022/06/10 02:45:11 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[1.268ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 1
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 1
    )
ORDER BY v.created_at;

2022/06/10 02:45:13 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[1.644ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 0
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 0
    )
ORDER BY v.created_at;

2022/06/10 02:45:13 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[2.473ms] [rows:7] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 0
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 0
ORDER BY v.created_at

2022/06/10 02:45:17 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[1.716ms] [rows:7] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 0
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 0
ORDER BY v.created_at

2022/06/10 02:45:17 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[1.235ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 0
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 0
    )
ORDER BY v.created_at;

2022/06/10 02:45:17 E:/summerByteDance/DouYin_demo/app/services/feed.go:35
[0.806ms] [rows:5] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    false AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    false AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
WHERE v.created_at < '2022-06-10 02:38:47'
LIMIT 30;

2022/06/10 02:45:17 E:/summerByteDance/DouYin_demo/app/services/feed.go:47
[0.000ms] [rows:1] SELECT created_at FROM videos WHERE id = 20

2022/06/10 02:45:17 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[1.167ms] [rows:7] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 0
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 0
ORDER BY v.created_at

2022/06/10 02:45:17 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[0.613ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 0
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 0
    )
ORDER BY v.created_at;

2022/06/10 02:45:18 E:/summerByteDance/DouYin_demo/app/services/comment.go:93
[1.196ms] [rows:1] SELECT
    c.id AS id,
    u.id AS user_id,
    u.name AS user_name,
    u.follow_count AS follow_count,
    u.follower_count AS follower_count,
    IF(r.id IS NULL,false,true) AS is_follow,
    c.comment_text AS content,
    c.created_at AS create_date
FROM comments c
LEFT JOIN users u ON c.user_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 2
WHERE c.video_id=19
ORDER BY c.updated_at;

2022/06/10 02:45:22 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[1.408ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 2
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 2
ORDER BY v.created_at

2022/06/10 02:45:22 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[0.521ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 2
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 2
    )
ORDER BY v.created_at;

2022/06/10 02:45:28 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[1.295ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 2
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 2
ORDER BY v.created_at

2022/06/10 02:45:28 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[1.728ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 2
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 2
    )
ORDER BY v.created_at;

2022/06/10 02:45:32 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[1.607ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 2
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 2
ORDER BY v.created_at

2022/06/10 02:45:32 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[0.651ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 2
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 2
    )
ORDER BY v.created_at;

2022/06/10 02:45:36 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[0.965ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 2
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 2
    )
ORDER BY v.created_at;

2022/06/10 02:45:36 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[2.004ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 2
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 2
ORDER BY v.created_at

2022/06/10 02:45:40 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[1.456ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 2
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 2
ORDER BY v.created_at

2022/06/10 02:45:40 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[1.006ms] [rows:4] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 2
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 2
    )
ORDER BY v.created_at;

2022/06/10 02:45:43 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[0.996ms] [rows:7] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 0
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 0
ORDER BY v.created_at

2022/06/10 02:45:43 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[0.999ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 0
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 0
    )
ORDER BY v.created_at;

2022/06/10 02:45:54 E:/summerByteDance/DouYin_demo/app/services/publish.go:95
[1.853ms] [rows:7] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
     IF(f.id IS NULL,false,true) AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 0
LEFT JOIN favorites f on u.id = f.user_id AND v.id = f.video_id
WHERE author_id = 0
ORDER BY v.created_at

2022/06/10 02:45:54 E:/summerByteDance/DouYin_demo/app/services/favorite.go:84
[1.222ms] [rows:1] SELECT
    v.ID AS id,
    u.id AS author_id,
    u.name AS author_name,
    u.follow_count AS author_follow_count,
    u.follower_count AS author_follower_count,
    IF(r.id IS NULL,false,true) AS author_is_follow,
    v.play_url AS play_url,
    v.cover_url AS cover_url,
    v.favorite_count AS favorite_count,
    v.comment_count AS comment_count,
    true AS is_favorite
FROM videos v
LEFT JOIN users u ON v.author_id=u.id
LEFT JOIN relations r on u.id = r.follow_id AND r.user_id = 0
WHERE v.id IN(
    SELECT video_id
    FROM favorites
    WHERE user_id = 0
    )
ORDER BY v.created_at;
